(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function t(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=t(o);fetch(o.href,c)}})();function Y4(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var xp={exports:{}},bc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pw;function K4(){if(pw)return bc;pw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:n,type:s,key:d,ref:o!==void 0?o:null,props:c}}return bc.Fragment=e,bc.jsx=t,bc.jsxs=t,bc}var gw;function Q4(){return gw||(gw=1,xp.exports=K4()),xp.exports}var f=Q4(),Ep={exports:{}},ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yw;function X4(){if(yw)return ke;yw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),x=Symbol.iterator;function T(O){return O===null||typeof O!="object"?null:(O=x&&O[x]||O["@@iterator"],typeof O=="function"?O:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,G={};function B(O,se,he){this.props=O,this.context=se,this.refs=G,this.updater=he||N}B.prototype.isReactComponent={},B.prototype.setState=function(O,se){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,se,"setState")},B.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function J(){}J.prototype=B.prototype;function K(O,se,he){this.props=O,this.context=se,this.refs=G,this.updater=he||N}var X=K.prototype=new J;X.constructor=K,V(X,B.prototype),X.isPureReactComponent=!0;var pe=Array.isArray,oe={H:null,A:null,T:null,S:null,V:null},ie=Object.prototype.hasOwnProperty;function I(O,se,he,ce,we,Me){return he=Me.ref,{$$typeof:n,type:O,key:se,ref:he!==void 0?he:null,props:Me}}function A(O,se){return I(O.type,se,void 0,void 0,void 0,O.props)}function C(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function M(O){var se={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(he){return se[he]})}var D=/\/+/g;function U(O,se){return typeof O=="object"&&O!==null&&O.key!=null?M(""+O.key):se.toString(36)}function k(){}function wt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(k,k):(O.status="pending",O.then(function(se){O.status==="pending"&&(O.status="fulfilled",O.value=se)},function(se){O.status==="pending"&&(O.status="rejected",O.reason=se)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function ft(O,se,he,ce,we){var Me=typeof O;(Me==="undefined"||Me==="boolean")&&(O=null);var Ae=!1;if(O===null)Ae=!0;else switch(Me){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(O.$$typeof){case n:case e:Ae=!0;break;case w:return Ae=O._init,ft(Ae(O._payload),se,he,ce,we)}}if(Ae)return we=we(O),Ae=ce===""?"."+U(O,0):ce,pe(we)?(he="",Ae!=null&&(he=Ae.replace(D,"$&/")+"/"),ft(we,se,he,"",function(or){return or})):we!=null&&(C(we)&&(we=A(we,he+(we.key==null||O&&O.key===we.key?"":(""+we.key).replace(D,"$&/")+"/")+Ae)),se.push(we)),1;Ae=0;var Xt=ce===""?".":ce+":";if(pe(O))for(var Je=0;Je<O.length;Je++)ce=O[Je],Me=Xt+U(ce,Je),Ae+=ft(ce,se,he,Me,we);else if(Je=T(O),typeof Je=="function")for(O=Je.call(O),Je=0;!(ce=O.next()).done;)ce=ce.value,Me=Xt+U(ce,Je++),Ae+=ft(ce,se,he,Me,we);else if(Me==="object"){if(typeof O.then=="function")return ft(wt(O),se,he,ce,we);throw se=String(O),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function W(O,se,he){if(O==null)return O;var ce=[],we=0;return ft(O,ce,"","",function(Me){return se.call(he,Me,we++)}),ce}function ue(O){if(O._status===-1){var se=O._result;se=se(),se.then(function(he){(O._status===0||O._status===-1)&&(O._status=1,O._result=he)},function(he){(O._status===0||O._status===-1)&&(O._status=2,O._result=he)}),O._status===-1&&(O._status=0,O._result=se)}if(O._status===1)return O._result.default;throw O._result}var _e=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Fe(){}return ke.Children={map:W,forEach:function(O,se,he){W(O,function(){se.apply(this,arguments)},he)},count:function(O){var se=0;return W(O,function(){se++}),se},toArray:function(O){return W(O,function(se){return se})||[]},only:function(O){if(!C(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},ke.Component=B,ke.Fragment=t,ke.Profiler=o,ke.PureComponent=K,ke.StrictMode=s,ke.Suspense=g,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe,ke.__COMPILER_RUNTIME={__proto__:null,c:function(O){return oe.H.useMemoCache(O)}},ke.cache=function(O){return function(){return O.apply(null,arguments)}},ke.cloneElement=function(O,se,he){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ce=V({},O.props),we=O.key,Me=void 0;if(se!=null)for(Ae in se.ref!==void 0&&(Me=void 0),se.key!==void 0&&(we=""+se.key),se)!ie.call(se,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&se.ref===void 0||(ce[Ae]=se[Ae]);var Ae=arguments.length-2;if(Ae===1)ce.children=he;else if(1<Ae){for(var Xt=Array(Ae),Je=0;Je<Ae;Je++)Xt[Je]=arguments[Je+2];ce.children=Xt}return I(O.type,we,void 0,void 0,Me,ce)},ke.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},ke.createElement=function(O,se,he){var ce,we={},Me=null;if(se!=null)for(ce in se.key!==void 0&&(Me=""+se.key),se)ie.call(se,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(we[ce]=se[ce]);var Ae=arguments.length-2;if(Ae===1)we.children=he;else if(1<Ae){for(var Xt=Array(Ae),Je=0;Je<Ae;Je++)Xt[Je]=arguments[Je+2];we.children=Xt}if(O&&O.defaultProps)for(ce in Ae=O.defaultProps,Ae)we[ce]===void 0&&(we[ce]=Ae[ce]);return I(O,Me,void 0,void 0,null,we)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(O){return{$$typeof:p,render:O}},ke.isValidElement=C,ke.lazy=function(O){return{$$typeof:w,_payload:{_status:-1,_result:O},_init:ue}},ke.memo=function(O,se){return{$$typeof:y,type:O,compare:se===void 0?null:se}},ke.startTransition=function(O){var se=oe.T,he={};oe.T=he;try{var ce=O(),we=oe.S;we!==null&&we(he,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(Fe,_e)}catch(Me){_e(Me)}finally{oe.T=se}},ke.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()},ke.use=function(O){return oe.H.use(O)},ke.useActionState=function(O,se,he){return oe.H.useActionState(O,se,he)},ke.useCallback=function(O,se){return oe.H.useCallback(O,se)},ke.useContext=function(O){return oe.H.useContext(O)},ke.useDebugValue=function(){},ke.useDeferredValue=function(O,se){return oe.H.useDeferredValue(O,se)},ke.useEffect=function(O,se,he){var ce=oe.H;if(typeof he=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ce.useEffect(O,se)},ke.useId=function(){return oe.H.useId()},ke.useImperativeHandle=function(O,se,he){return oe.H.useImperativeHandle(O,se,he)},ke.useInsertionEffect=function(O,se){return oe.H.useInsertionEffect(O,se)},ke.useLayoutEffect=function(O,se){return oe.H.useLayoutEffect(O,se)},ke.useMemo=function(O,se){return oe.H.useMemo(O,se)},ke.useOptimistic=function(O,se){return oe.H.useOptimistic(O,se)},ke.useReducer=function(O,se,he){return oe.H.useReducer(O,se,he)},ke.useRef=function(O){return oe.H.useRef(O)},ke.useState=function(O){return oe.H.useState(O)},ke.useSyncExternalStore=function(O,se,he){return oe.H.useSyncExternalStore(O,se,he)},ke.useTransition=function(){return oe.H.useTransition()},ke.version="19.1.1",ke}var vw;function Ng(){return vw||(vw=1,Ep.exports=X4()),Ep.exports}var j=Ng();const Aa=Y4(j);var Tp={exports:{}},_c={},Sp={exports:{}},Ap={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ww;function W4(){return ww||(ww=1,(function(n){function e(W,ue){var _e=W.length;W.push(ue);e:for(;0<_e;){var Fe=_e-1>>>1,O=W[Fe];if(0<o(O,ue))W[Fe]=ue,W[_e]=O,_e=Fe;else break e}}function t(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var ue=W[0],_e=W.pop();if(_e!==ue){W[0]=_e;e:for(var Fe=0,O=W.length,se=O>>>1;Fe<se;){var he=2*(Fe+1)-1,ce=W[he],we=he+1,Me=W[we];if(0>o(ce,_e))we<O&&0>o(Me,ce)?(W[Fe]=Me,W[we]=_e,Fe=we):(W[Fe]=ce,W[he]=_e,Fe=he);else if(we<O&&0>o(Me,_e))W[Fe]=Me,W[we]=_e,Fe=we;else break e}}return ue}function o(W,ue){var _e=W.sortIndex-ue.sortIndex;return _e!==0?_e:W.id-ue.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();n.unstable_now=function(){return d.now()-p}}var g=[],y=[],w=1,x=null,T=3,N=!1,V=!1,G=!1,B=!1,J=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function pe(W){for(var ue=t(y);ue!==null;){if(ue.callback===null)s(y);else if(ue.startTime<=W)s(y),ue.sortIndex=ue.expirationTime,e(g,ue);else break;ue=t(y)}}function oe(W){if(G=!1,pe(W),!V)if(t(g)!==null)V=!0,ie||(ie=!0,U());else{var ue=t(y);ue!==null&&ft(oe,ue.startTime-W)}}var ie=!1,I=-1,A=5,C=-1;function M(){return B?!0:!(n.unstable_now()-C<A)}function D(){if(B=!1,ie){var W=n.unstable_now();C=W;var ue=!0;try{e:{V=!1,G&&(G=!1,K(I),I=-1),N=!0;var _e=T;try{t:{for(pe(W),x=t(g);x!==null&&!(x.expirationTime>W&&M());){var Fe=x.callback;if(typeof Fe=="function"){x.callback=null,T=x.priorityLevel;var O=Fe(x.expirationTime<=W);if(W=n.unstable_now(),typeof O=="function"){x.callback=O,pe(W),ue=!0;break t}x===t(g)&&s(g),pe(W)}else s(g);x=t(g)}if(x!==null)ue=!0;else{var se=t(y);se!==null&&ft(oe,se.startTime-W),ue=!1}}break e}finally{x=null,T=_e,N=!1}ue=void 0}}finally{ue?U():ie=!1}}}var U;if(typeof X=="function")U=function(){X(D)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,wt=k.port2;k.port1.onmessage=D,U=function(){wt.postMessage(null)}}else U=function(){J(D,0)};function ft(W,ue){I=J(function(){W(n.unstable_now())},ue)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(W){switch(T){case 1:case 2:case 3:var ue=3;break;default:ue=T}var _e=T;T=ue;try{return W()}finally{T=_e}},n.unstable_requestPaint=function(){B=!0},n.unstable_runWithPriority=function(W,ue){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var _e=T;T=W;try{return ue()}finally{T=_e}},n.unstable_scheduleCallback=function(W,ue,_e){var Fe=n.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?Fe+_e:Fe):_e=Fe,W){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=_e+O,W={id:w++,callback:ue,priorityLevel:W,startTime:_e,expirationTime:O,sortIndex:-1},_e>Fe?(W.sortIndex=_e,e(y,W),t(g)===null&&W===t(y)&&(G?(K(I),I=-1):G=!0,ft(oe,_e-Fe))):(W.sortIndex=O,e(g,W),V||N||(V=!0,ie||(ie=!0,U()))),W},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(W){var ue=T;return function(){var _e=T;T=ue;try{return W.apply(this,arguments)}finally{T=_e}}}})(Ap)),Ap}var bw;function Z4(){return bw||(bw=1,Sp.exports=W4()),Sp.exports}var Cp={exports:{}},ln={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _w;function J4(){if(_w)return ln;_w=1;var n=Ng();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)y+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,w){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:g,containerInfo:y,implementation:w}}var d=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ln.createPortal=function(g,y){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,w)},ln.flushSync=function(g){var y=d.T,w=s.p;try{if(d.T=null,s.p=2,g)return g()}finally{d.T=y,s.p=w,s.d.f()}},ln.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},ln.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},ln.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var w=y.as,x=p(w,y.crossOrigin),T=typeof y.integrity=="string"?y.integrity:void 0,N=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;w==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:x,integrity:T,fetchPriority:N}):w==="script"&&s.d.X(g,{crossOrigin:x,integrity:T,fetchPriority:N,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},ln.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var w=p(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},ln.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var w=y.as,x=p(w,y.crossOrigin);s.d.L(g,w,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},ln.preloadModule=function(g,y){if(typeof g=="string")if(y){var w=p(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},ln.requestFormReset=function(g){s.d.r(g)},ln.unstable_batchedUpdates=function(g,y){return g(y)},ln.useFormState=function(g,y,w){return d.H.useFormState(g,y,w)},ln.useFormStatus=function(){return d.H.useHostTransitionStatus()},ln.version="19.1.1",ln}var xw;function e3(){if(xw)return Cp.exports;xw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Cp.exports=J4(),Cp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ew;function t3(){if(Ew)return _c;Ew=1;var n=Z4(),e=Ng(),t=e3();function s(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function c(r){var i=r,a=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(a=i.return),r=i.return;while(r)}return i.tag===3?a:null}function d(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function p(r){if(c(r)!==r)throw Error(s(188))}function g(r){var i=r.alternate;if(!i){if(i=c(r),i===null)throw Error(s(188));return i!==r?null:r}for(var a=r,l=i;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return p(h),r;if(m===l)return p(h),i;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=m;else{for(var _=!1,E=h.child;E;){if(E===a){_=!0,a=h,l=m;break}if(E===l){_=!0,l=h,a=m;break}E=E.sibling}if(!_){for(E=m.child;E;){if(E===a){_=!0,a=m,l=h;break}if(E===l){_=!0,l=m,a=h;break}E=E.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?r:i}function y(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=y(r),i!==null)return i;r=r.sibling}return null}var w=Object.assign,x=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),K=Symbol.for("react.consumer"),X=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(r){return r===null||typeof r!="object"?null:(r=D&&r[D]||r["@@iterator"],typeof r=="function"?r:null)}var k=Symbol.for("react.client.reference");function wt(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===k?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case V:return"Fragment";case B:return"Profiler";case G:return"StrictMode";case oe:return"Suspense";case ie:return"SuspenseList";case C:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case N:return"Portal";case X:return(r.displayName||"Context")+".Provider";case K:return(r._context.displayName||"Context")+".Consumer";case pe:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case I:return i=r.displayName||null,i!==null?i:wt(r.type)||"Memo";case A:i=r._payload,r=r._init;try{return wt(r(i))}catch{}}return null}var ft=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},Fe=[],O=-1;function se(r){return{current:r}}function he(r){0>O||(r.current=Fe[O],Fe[O]=null,O--)}function ce(r,i){O++,Fe[O]=r.current,r.current=i}var we=se(null),Me=se(null),Ae=se(null),Xt=se(null);function Je(r,i){switch(ce(Ae,i),ce(Me,r),ce(we,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?qv(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=qv(i),r=Fv(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}he(we),ce(we,r)}function or(){he(we),he(Me),he(Ae)}function ml(r){r.memoizedState!==null&&ce(Xt,r);var i=we.current,a=Fv(i,r.type);i!==a&&(ce(Me,r),ce(we,a))}function za(r){Me.current===r&&(he(we),he(Me)),Xt.current===r&&(he(Xt),pc._currentValue=_e)}var Ha=Object.prototype.hasOwnProperty,Bs=n.unstable_scheduleCallback,qa=n.unstable_cancelCallback,Ef=n.unstable_shouldYield,pl=n.unstable_requestPaint,_n=n.unstable_now,bu=n.unstable_getCurrentPriorityLevel,Vt=n.unstable_ImmediatePriority,qt=n.unstable_UserBlockingPriority,Wr=n.unstable_NormalPriority,Tf=n.unstable_LowPriority,gl=n.unstable_IdlePriority,Sf=n.log,zs=n.unstable_setDisableYieldValue,Mi=null,sn=null;function Fn(r){if(typeof Sf=="function"&&zs(r),sn&&typeof sn.setStrictMode=="function")try{sn.setStrictMode(Mi,r)}catch{}}var mn=Math.clz32?Math.clz32:xu,Af=Math.log,_u=Math.LN2;function xu(r){return r>>>=0,r===0?32:31-(Af(r)/_u|0)|0}var Tr=256,Vi=4194304;function lr(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Gn(r,i,a){var l=r.pendingLanes;if(l===0)return 0;var h=0,m=r.suspendedLanes,_=r.pingedLanes;r=r.warmLanes;var E=l&134217727;return E!==0?(l=E&~m,l!==0?h=lr(l):(_&=E,_!==0?h=lr(_):a||(a=E&~r,a!==0&&(h=lr(a))))):(E=l&~m,E!==0?h=lr(E):_!==0?h=lr(_):a||(a=l&~r,a!==0&&(h=lr(a)))),h===0?0:i!==0&&i!==h&&(i&m)===0&&(m=h&-h,a=i&-i,m>=a||m===32&&(a&4194048)!==0)?i:h}function Li(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function Fa(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yl(){var r=Tr;return Tr<<=1,(Tr&4194048)===0&&(Tr=256),r}function Ui(){var r=Vi;return Vi<<=1,(Vi&62914560)===0&&(Vi=4194304),r}function Ga(r){for(var i=[],a=0;31>a;a++)i.push(r);return i}function Et(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Eu(r,i,a,l,h,m){var _=r.pendingLanes;r.pendingLanes=a,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=a,r.entangledLanes&=a,r.errorRecoveryDisabledLanes&=a,r.shellSuspendCounter=0;var E=r.entanglements,R=r.expirationTimes,q=r.hiddenUpdates;for(a=_&~a;0<a;){var Z=31-mn(a),ne=1<<Z;E[Z]=0,R[Z]=-1;var F=q[Z];if(F!==null)for(q[Z]=null,Z=0;Z<F.length;Z++){var $=F[Z];$!==null&&($.lane&=-536870913)}a&=~ne}l!==0&&Bi(r,l,0),m!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=m&~(_&~i))}function Bi(r,i,a){r.pendingLanes|=i,r.suspendedLanes&=~i;var l=31-mn(i);r.entangledLanes|=i,r.entanglements[l]=r.entanglements[l]|1073741824|a&4194090}function zi(r,i){var a=r.entangledLanes|=i;for(r=r.entanglements;a;){var l=31-mn(a),h=1<<l;h&i|r[l]&i&&(r[l]|=i),a&=~h}}function vl(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function wl(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Zr(){var r=ue.p;return r!==0?r:(r=window.event,r===void 0?32:cw(r.type))}function Cf(r,i){var a=ue.p;try{return ue.p=r,i()}finally{ue.p=a}}var Sr=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Sr,Wt="__reactProps$"+Sr,Jr="__reactContainer$"+Sr,Hs="__reactEvents$"+Sr,qs="__reactListeners$"+Sr,Nf="__reactHandles$"+Sr,cr="__reactResources$"+Sr,Hi="__reactMarker$"+Sr;function $a(r){delete r[Tt],delete r[Wt],delete r[Hs],delete r[qs],delete r[Nf]}function Ar(r){var i=r[Tt];if(i)return i;for(var a=r.parentNode;a;){if(i=a[Jr]||a[Tt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(r=Kv(r);r!==null;){if(a=r[Tt])return a;r=Kv(r)}return i}r=a,a=r.parentNode}return null}function Cr(r){if(r=r[Tt]||r[Jr]){var i=r.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return r}return null}function qi(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(s(33))}function Fi(r){var i=r[cr];return i||(i=r[cr]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function St(r){r[Hi]=!0}var Tu=new Set,Fs={};function Nr(r,i){Rr(r,i),Rr(r+"Capture",i)}function Rr(r,i){for(Fs[r]=i,r=0;r<i.length;r++)Tu.add(i[r])}var Gs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ir={},Ya={};function Rf(r){return Ha.call(Ya,r)?!0:Ha.call(Ir,r)?!1:Gs.test(r)?Ya[r]=!0:(Ir[r]=!0,!1)}function $s(r,i,a){if(Rf(i))if(a===null)r.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+a)}}function Ys(r,i,a){if(a===null)r.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+a)}}function $n(r,i,a,l){if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttributeNS(i,a,""+l)}}var Ks,Ka;function ei(r){if(Ks===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Ks=i&&i[1]||"",Ka=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ks+r+Ka}var Qa=!1;function Xa(r,i){if(!r||Qa)return"";Qa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch($){var F=$}Reflect.construct(r,[],ne)}else{try{ne.call()}catch($){F=$}r.call(ne.prototype)}}else{try{throw Error()}catch($){F=$}(ne=r())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch($){if($&&F&&typeof $.stack=="string")return[$.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),_=m[0],E=m[1];if(_&&E){var R=_.split(`
`),q=E.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===q.length)for(l=R.length-1,h=q.length-1;1<=l&&0<=h&&R[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==q[h]){var Z=`
`+R[l].replace(" at new "," at ");return r.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",r.displayName)),Z}while(1<=l&&0<=h);break}}}finally{Qa=!1,Error.prepareStackTrace=a}return(a=r?r.displayName||r.name:"")?ei(a):""}function If(r){switch(r.tag){case 26:case 27:case 5:return ei(r.type);case 16:return ei("Lazy");case 13:return ei("Suspense");case 19:return ei("SuspenseList");case 0:case 15:return Xa(r.type,!1);case 11:return Xa(r.type.render,!1);case 1:return Xa(r.type,!0);case 31:return ei("Activity");default:return""}}function ur(r){try{var i="";do i+=If(r),r=r.return;while(r);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function pt(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Gi(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Qs(r){var i=Gi(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),l=""+r[i];if(!r.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,m=a.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,m.call(this,_)}}),Object.defineProperty(r,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function $i(r){r._valueTracker||(r._valueTracker=Qs(r))}function et(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return r&&(l=Gi(r)?r.checked?"true":"false":r.value),r=l,r!==a?(i.setValue(r),!0):!1}function ti(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Xs=/[\n"\\]/g;function Ft(r){return r.replace(Xs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function bl(r,i,a,l,h,m,_,E){r.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?r.type=_:r.removeAttribute("type"),i!=null?_==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+pt(i)):r.value!==""+pt(i)&&(r.value=""+pt(i)):_!=="submit"&&_!=="reset"||r.removeAttribute("value"),i!=null?xl(r,_,pt(i)):a!=null?xl(r,_,pt(a)):l!=null&&r.removeAttribute("value"),h==null&&m!=null&&(r.defaultChecked=!!m),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.name=""+pt(E):r.removeAttribute("name")}function _l(r,i,a,l,h,m,_,E){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(r.type=m),i!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;a=a!=null?""+pt(a):"",i=i!=null?""+pt(i):a,E||i===r.value||(r.value=i),r.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,r.checked=E?r.checked:!!l,r.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(r.name=_)}function xl(r,i,a){i==="number"&&ti(r.ownerDocument)===r||r.defaultValue===""+a||(r.defaultValue=""+a)}function Yi(r,i,a,l){if(r=r.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<r.length;a++)h=i.hasOwnProperty("$"+r[a].value),r[a].selected!==h&&(r[a].selected=h),h&&l&&(r[a].defaultSelected=!0)}else{for(a=""+pt(a),i=null,h=0;h<r.length;h++){if(r[h].value===a){r[h].selected=!0,l&&(r[h].defaultSelected=!0);return}i!==null||r[h].disabled||(i=r[h])}i!==null&&(i.selected=!0)}}function Su(r,i,a){if(i!=null&&(i=""+pt(i),i!==r.value&&(r.value=i),a==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=a!=null?""+pt(a):""}function Au(r,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ft(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=pt(i),r.defaultValue=a,l=r.textContent,l===a&&l!==""&&l!==null&&(r.value=l)}function Yn(r,i){if(i){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=i;return}}r.textContent=i}var ni=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function El(r,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":l?r.setProperty(i,a):typeof a!="number"||a===0||ni.has(i)?i==="float"?r.cssFloat=a:r[i]=(""+a).trim():r[i]=a+"px"}function Tl(r,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(r=r.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?r.setProperty(l,""):l==="float"?r.cssFloat="":r[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&El(r,h,l)}else for(var m in i)i.hasOwnProperty(m)&&El(r,m,i[m])}function Wa(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function dr(r){return Nu.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Sl=null;function Al(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ki=null,pn=null;function Ru(r){var i=Cr(r);if(i&&(r=i.stateNode)){var a=r[Wt]||null;e:switch(r=i.stateNode,i.type){case"input":if(bl(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ft(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==r&&l.form===r.form){var h=l[Wt]||null;if(!h)throw Error(s(90));bl(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===r.form&&et(l)}break e;case"textarea":Su(r,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Yi(r,!!a.multiple,i,!1)}}}var Ws=!1;function Zs(r,i,a){if(Ws)return r(i,a);Ws=!0;try{var l=r(i);return l}finally{if(Ws=!1,(Ki!==null||pn!==null)&&(vd(),Ki&&(i=Ki,r=pn,pn=Ki=null,Ru(i),r)))for(i=0;i<r.length;i++)Ru(r[i])}}function Qi(r,i){var a=r.stateNode;if(a===null)return null;var l=a[Wt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(r=r.type,l=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!l;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ri=!1;if(gn)try{var Xi={};Object.defineProperty(Xi,"passive",{get:function(){ri=!0}}),window.addEventListener("test",Xi,Xi),window.removeEventListener("test",Xi,Xi)}catch{ri=!1}var Kn=null,st=null,Za=null;function Iu(){if(Za)return Za;var r,i=st,a=i.length,l,h="value"in Kn?Kn.value:Kn.textContent,m=h.length;for(r=0;r<a&&i[r]===h[r];r++);var _=a-r;for(l=1;l<=_&&i[a-l]===h[m-l];l++);return Za=h.slice(r,1<l?1-l:void 0)}function Js(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function ea(){return!0}function Cl(){return!1}function Lt(r){function i(a,l,h,m,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var E in r)r.hasOwnProperty(E)&&(a=r[E],this[E]=a?a(m):m[E]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ea:Cl,this.isPropagationStopped=Cl,this}return w(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ea)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ea)},persist:function(){},isPersistent:ea}),i}var an={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ta=Lt(an),na=w({},an,{view:0,detail:0}),ra=Lt(na),Ja,ia,kr,sa=w({},na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:no,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==kr&&(kr&&r.type==="mousemove"?(Ja=r.screenX-kr.screenX,ia=r.screenY-kr.screenY):ia=Ja=0,kr=r),Ja)},movementY:function(r){return"movementY"in r?r.movementY:ia}}),aa=Lt(sa),kf=w({},sa,{dataTransfer:0}),ku=Lt(kf),oa=w({},na,{relatedTarget:0}),eo=Lt(oa),ju=w({},an,{animationName:0,elapsedTime:0,pseudoElement:0}),Nl=Lt(ju),Rl=w({},an,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Du=Lt(Rl),to=w({},an,{data:0}),Il=Lt(to),Ou={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ii={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mu(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Pu[r])?!!i[r]:!1}function no(){return Mu}var Vu=w({},na,{key:function(r){if(r.key){var i=Ou[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Js(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?ii[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:no,charCode:function(r){return r.type==="keypress"?Js(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Js(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),ro=Lt(Vu),yn=w({},sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kl=Lt(yn),Lu=w({},na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:no}),Wi=Lt(Lu),u=w({},an,{propertyName:0,elapsedTime:0,pseudoElement:0}),v=Lt(u),b=w({},sa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),S=Lt(b),H=w({},an,{newState:0,oldState:0}),Y=Lt(H),le=[9,13,27,32],Re=gn&&"CompositionEvent"in window,ut=null;gn&&"documentMode"in document&&(ut=document.documentMode);var Xe=gn&&"TextEvent"in window&&!ut,At=gn&&(!Re||ut&&8<ut&&11>=ut),Rn=" ",jr=!1;function hr(r,i){switch(r){case"keyup":return le.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fr(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var mr=!1;function jl(r,i){switch(r){case"compositionend":return fr(i);case"keypress":return i.which!==32?null:(jr=!0,Rn);case"textInput":return r=i.data,r===Rn&&jr?null:r;default:return null}}function bT(r,i){if(mr)return r==="compositionend"||!Re&&hr(r,i)?(r=Iu(),Za=st=Kn=null,mr=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return At&&i.locale!=="ko"?null:i.data;default:return null}}var _T={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ry(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!_T[r.type]:i==="textarea"}function iy(r,i,a,l){Ki?pn?pn.push(l):pn=[l]:Ki=l,i=Td(i,"onChange"),0<i.length&&(a=new ta("onChange","change",null,a,l),r.push({event:a,listeners:i}))}var Dl=null,Ol=null;function xT(r){Lv(r,0)}function Uu(r){var i=qi(r);if(et(i))return r}function sy(r,i){if(r==="change")return i}var ay=!1;if(gn){var jf;if(gn){var Df="oninput"in document;if(!Df){var oy=document.createElement("div");oy.setAttribute("oninput","return;"),Df=typeof oy.oninput=="function"}jf=Df}else jf=!1;ay=jf&&(!document.documentMode||9<document.documentMode)}function ly(){Dl&&(Dl.detachEvent("onpropertychange",cy),Ol=Dl=null)}function cy(r){if(r.propertyName==="value"&&Uu(Ol)){var i=[];iy(i,Ol,r,Al(r)),Zs(xT,i)}}function ET(r,i,a){r==="focusin"?(ly(),Dl=i,Ol=a,Dl.attachEvent("onpropertychange",cy)):r==="focusout"&&ly()}function TT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Uu(Ol)}function ST(r,i){if(r==="click")return Uu(i)}function AT(r,i){if(r==="input"||r==="change")return Uu(i)}function CT(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var In=typeof Object.is=="function"?Object.is:CT;function Pl(r,i){if(In(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var a=Object.keys(r),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Ha.call(i,h)||!In(r[h],i[h]))return!1}return!0}function uy(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function dy(r,i){var a=uy(r);r=0;for(var l;a;){if(a.nodeType===3){if(l=r+a.textContent.length,r<=i&&l>=i)return{node:a,offset:i-r};r=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=uy(a)}}function hy(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?hy(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function fy(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=ti(r.document);i instanceof r.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)r=i.contentWindow;else break;i=ti(r.document)}return i}function Of(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var NT=gn&&"documentMode"in document&&11>=document.documentMode,io=null,Pf=null,Ml=null,Mf=!1;function my(r,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Mf||io==null||io!==ti(l)||(l=io,"selectionStart"in l&&Of(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ml&&Pl(Ml,l)||(Ml=l,l=Td(Pf,"onSelect"),0<l.length&&(i=new ta("onSelect","select",null,i,a),r.push({event:i,listeners:l}),i.target=io)))}function la(r,i){var a={};return a[r.toLowerCase()]=i.toLowerCase(),a["Webkit"+r]="webkit"+i,a["Moz"+r]="moz"+i,a}var so={animationend:la("Animation","AnimationEnd"),animationiteration:la("Animation","AnimationIteration"),animationstart:la("Animation","AnimationStart"),transitionrun:la("Transition","TransitionRun"),transitionstart:la("Transition","TransitionStart"),transitioncancel:la("Transition","TransitionCancel"),transitionend:la("Transition","TransitionEnd")},Vf={},py={};gn&&(py=document.createElement("div").style,"AnimationEvent"in window||(delete so.animationend.animation,delete so.animationiteration.animation,delete so.animationstart.animation),"TransitionEvent"in window||delete so.transitionend.transition);function ca(r){if(Vf[r])return Vf[r];if(!so[r])return r;var i=so[r],a;for(a in i)if(i.hasOwnProperty(a)&&a in py)return Vf[r]=i[a];return r}var gy=ca("animationend"),yy=ca("animationiteration"),vy=ca("animationstart"),RT=ca("transitionrun"),IT=ca("transitionstart"),kT=ca("transitioncancel"),wy=ca("transitionend"),by=new Map,Lf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lf.push("scrollEnd");function pr(r,i){by.set(r,i),Nr(i,[r])}var _y=new WeakMap;function Qn(r,i){if(typeof r=="object"&&r!==null){var a=_y.get(r);return a!==void 0?a:(i={value:r,source:i,stack:ur(i)},_y.set(r,i),i)}return{value:r,source:i,stack:ur(i)}}var Xn=[],ao=0,Uf=0;function Bu(){for(var r=ao,i=Uf=ao=0;i<r;){var a=Xn[i];Xn[i++]=null;var l=Xn[i];Xn[i++]=null;var h=Xn[i];Xn[i++]=null;var m=Xn[i];if(Xn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}m!==0&&xy(a,h,m)}}function zu(r,i,a,l){Xn[ao++]=r,Xn[ao++]=i,Xn[ao++]=a,Xn[ao++]=l,Uf|=l,r.lanes|=l,r=r.alternate,r!==null&&(r.lanes|=l)}function Bf(r,i,a,l){return zu(r,i,a,l),Hu(r)}function oo(r,i){return zu(r,null,null,i),Hu(r)}function xy(r,i,a){r.lanes|=a;var l=r.alternate;l!==null&&(l.lanes|=a);for(var h=!1,m=r.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(r=m.stateNode,r===null||r._visibility&1||(h=!0)),r=m,m=m.return;return r.tag===3?(m=r.stateNode,h&&i!==null&&(h=31-mn(a),r=m.hiddenUpdates,l=r[h],l===null?r[h]=[i]:l.push(i),i.lane=a|536870912),m):null}function Hu(r){if(50<oc)throw oc=0,$m=null,Error(s(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var lo={};function jT(r,i,a,l){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(r,i,a,l){return new jT(r,i,a,l)}function zf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function si(r,i){var a=r.alternate;return a===null?(a=kn(r.tag,i,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=i,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&65011712,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,i=r.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a.refCleanup=r.refCleanup,a}function Ey(r,i){r.flags&=65011714;var a=r.alternate;return a===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=a.childLanes,r.lanes=a.lanes,r.child=a.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=a.memoizedProps,r.memoizedState=a.memoizedState,r.updateQueue=a.updateQueue,r.type=a.type,i=a.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function qu(r,i,a,l,h,m){var _=0;if(l=r,typeof r=="function")zf(r)&&(_=1);else if(typeof r=="string")_=O4(r,a,we.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case C:return r=kn(31,a,i,h),r.elementType=C,r.lanes=m,r;case V:return ua(a.children,h,m,i);case G:_=8,h|=24;break;case B:return r=kn(12,a,i,h|2),r.elementType=B,r.lanes=m,r;case oe:return r=kn(13,a,i,h),r.elementType=oe,r.lanes=m,r;case ie:return r=kn(19,a,i,h),r.elementType=ie,r.lanes=m,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case J:case X:_=10;break e;case K:_=9;break e;case pe:_=11;break e;case I:_=14;break e;case A:_=16,l=null;break e}_=29,a=Error(s(130,r===null?"null":typeof r,"")),l=null}return i=kn(_,a,i,h),i.elementType=r,i.type=l,i.lanes=m,i}function ua(r,i,a,l){return r=kn(7,r,l,i),r.lanes=a,r}function Hf(r,i,a){return r=kn(6,r,null,i),r.lanes=a,r}function qf(r,i,a){return i=kn(4,r.children!==null?r.children:[],r.key,i),i.lanes=a,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var co=[],uo=0,Fu=null,Gu=0,Wn=[],Zn=0,da=null,ai=1,oi="";function ha(r,i){co[uo++]=Gu,co[uo++]=Fu,Fu=r,Gu=i}function Ty(r,i,a){Wn[Zn++]=ai,Wn[Zn++]=oi,Wn[Zn++]=da,da=r;var l=ai;r=oi;var h=32-mn(l)-1;l&=~(1<<h),a+=1;var m=32-mn(i)+h;if(30<m){var _=h-h%5;m=(l&(1<<_)-1).toString(32),l>>=_,h-=_,ai=1<<32-mn(i)+h|a<<h|l,oi=m+r}else ai=1<<m|a<<h|l,oi=r}function Ff(r){r.return!==null&&(ha(r,1),Ty(r,1,0))}function Gf(r){for(;r===Fu;)Fu=co[--uo],co[uo]=null,Gu=co[--uo],co[uo]=null;for(;r===da;)da=Wn[--Zn],Wn[Zn]=null,oi=Wn[--Zn],Wn[Zn]=null,ai=Wn[--Zn],Wn[Zn]=null}var vn=null,bt=null,Ye=!1,fa=null,Dr=!1,$f=Error(s(519));function ma(r){var i=Error(s(418,""));throw Ul(Qn(i,r)),$f}function Sy(r){var i=r.stateNode,a=r.type,l=r.memoizedProps;switch(i[Tt]=r,i[Wt]=l,a){case"dialog":Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":case"embed":Pe("load",i);break;case"video":case"audio":for(a=0;a<cc.length;a++)Pe(cc[a],i);break;case"source":Pe("error",i);break;case"img":case"image":case"link":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"input":Pe("invalid",i),_l(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),$i(i);break;case"select":Pe("invalid",i);break;case"textarea":Pe("invalid",i),Au(i,l.value,l.defaultValue,l.children),$i(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Hv(i.textContent,a)?(l.popover!=null&&(Pe("beforetoggle",i),Pe("toggle",i)),l.onScroll!=null&&Pe("scroll",i),l.onScrollEnd!=null&&Pe("scrollend",i),l.onClick!=null&&(i.onclick=Sd),i=!0):i=!1,i||ma(r)}function Ay(r){for(vn=r.return;vn;)switch(vn.tag){case 5:case 13:Dr=!1;return;case 27:case 3:Dr=!0;return;default:vn=vn.return}}function Vl(r){if(r!==vn)return!1;if(!Ye)return Ay(r),Ye=!0,!1;var i=r.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=r.type,a=!(a!=="form"&&a!=="button")||lp(r.type,r.memoizedProps)),a=!a),a&&bt&&ma(r),Ay(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8)if(a=r.data,a==="/$"){if(i===0){bt=yr(r.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;r=r.nextSibling}bt=null}}else i===27?(i=bt,fs(r.type)?(r=hp,hp=null,bt=r):bt=i):bt=vn?yr(r.stateNode.nextSibling):null;return!0}function Ll(){bt=vn=null,Ye=!1}function Cy(){var r=fa;return r!==null&&(Tn===null?Tn=r:Tn.push.apply(Tn,r),fa=null),r}function Ul(r){fa===null?fa=[r]:fa.push(r)}var Yf=se(null),pa=null,li=null;function Zi(r,i,a){ce(Yf,i._currentValue),i._currentValue=a}function ci(r){r._currentValue=Yf.current,he(Yf)}function Kf(r,i,a){for(;r!==null;){var l=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),r===a)break;r=r.return}}function Qf(r,i,a,l){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var m=h.dependencies;if(m!==null){var _=h.child;m=m.firstContext;e:for(;m!==null;){var E=m;m=h;for(var R=0;R<i.length;R++)if(E.context===i[R]){m.lanes|=a,E=m.alternate,E!==null&&(E.lanes|=a),Kf(m.return,a,r),l||(_=null);break e}m=E.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,m=_.alternate,m!==null&&(m.lanes|=a),Kf(_,a,r),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===r){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Bl(r,i,a,l){r=null;for(var h=i,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var E=h.type;In(h.pendingProps.value,_.value)||(r!==null?r.push(E):r=[E])}}else if(h===Xt.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push(pc):r=[pc])}h=h.return}r!==null&&Qf(i,r,a,l),i.flags|=262144}function $u(r){for(r=r.firstContext;r!==null;){if(!In(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ga(r){pa=r,li=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function on(r){return Ny(pa,r)}function Yu(r,i){return pa===null&&ga(r),Ny(r,i)}function Ny(r,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},li===null){if(r===null)throw Error(s(308));li=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else li=li.next=i;return a}var DT=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(a,l){r.push(l)}};this.abort=function(){i.aborted=!0,r.forEach(function(a){return a()})}},OT=n.unstable_scheduleCallback,PT=n.unstable_NormalPriority,Ut={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xf(){return{controller:new DT,data:new Map,refCount:0}}function zl(r){r.refCount--,r.refCount===0&&OT(PT,function(){r.controller.abort()})}var Hl=null,Wf=0,ho=0,fo=null;function MT(r,i){if(Hl===null){var a=Hl=[];Wf=0,ho=Jm(),fo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Wf++,i.then(Ry,Ry),i}function Ry(){if(--Wf===0&&Hl!==null){fo!==null&&(fo.status="fulfilled");var r=Hl;Hl=null,ho=0,fo=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function VT(r,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return r.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Iy=W.S;W.S=function(r,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&MT(r,i),Iy!==null&&Iy(r,i)};var ya=se(null);function Zf(){var r=ya.current;return r!==null?r:at.pooledCache}function Ku(r,i){i===null?ce(ya,ya.current):ce(ya,i.pool)}function ky(){var r=Zf();return r===null?null:{parent:Ut._currentValue,pool:r}}var ql=Error(s(460)),jy=Error(s(474)),Qu=Error(s(542)),Jf={then:function(){}};function Dy(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Xu(){}function Oy(r,i,a){switch(a=r[a],a===void 0?r.push(i):a!==i&&(i.then(Xu,Xu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,My(r),r;default:if(typeof i.status=="string")i.then(Xu,Xu);else{if(r=at,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=i,r.status="pending",r.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,My(r),r}throw Fl=i,ql}}var Fl=null;function Py(){if(Fl===null)throw Error(s(459));var r=Fl;return Fl=null,r}function My(r){if(r===ql||r===Qu)throw Error(s(483))}var Ji=!1;function em(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tm(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function es(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ts(r,i,a){var l=r.updateQueue;if(l===null)return null;if(l=l.shared,(We&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Hu(r),xy(r,null,a),i}return zu(r,l,i,a),Hu(r)}function Gl(r,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=r.pendingLanes,a|=l,i.lanes=a,zi(r,a)}}function nm(r,i){var a=r.updateQueue,l=r.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?h=m=_:m=m.next=_,a=a.next}while(a!==null);m===null?h=m=i:m=m.next=i}else h=m=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=i:r.next=i,a.lastBaseUpdate=i}var rm=!1;function $l(){if(rm){var r=fo;if(r!==null)throw r}}function Yl(r,i,a,l){rm=!1;var h=r.updateQueue;Ji=!1;var m=h.firstBaseUpdate,_=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,q=R.next;R.next=null,_===null?m=q:_.next=q,_=R;var Z=r.alternate;Z!==null&&(Z=Z.updateQueue,E=Z.lastBaseUpdate,E!==_&&(E===null?Z.firstBaseUpdate=q:E.next=q,Z.lastBaseUpdate=R))}if(m!==null){var ne=h.baseState;_=0,Z=q=R=null,E=m;do{var F=E.lane&-536870913,$=F!==E.lane;if($?(ze&F)===F:(l&F)===F){F!==0&&F===ho&&(rm=!0),Z!==null&&(Z=Z.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var Ce=r,Ee=E;F=i;var rt=a;switch(Ee.tag){case 1:if(Ce=Ee.payload,typeof Ce=="function"){ne=Ce.call(rt,ne,F);break e}ne=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Ee.payload,F=typeof Ce=="function"?Ce.call(rt,ne,F):Ce,F==null)break e;ne=w({},ne,F);break e;case 2:Ji=!0}}F=E.callback,F!==null&&(r.flags|=64,$&&(r.flags|=8192),$=h.callbacks,$===null?h.callbacks=[F]:$.push(F))}else $={lane:F,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Z===null?(q=Z=$,R=ne):Z=Z.next=$,_|=F;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;$=E,E=$.next,$.next=null,h.lastBaseUpdate=$,h.shared.pending=null}}while(!0);Z===null&&(R=ne),h.baseState=R,h.firstBaseUpdate=q,h.lastBaseUpdate=Z,m===null&&(h.shared.lanes=0),cs|=_,r.lanes=_,r.memoizedState=ne}}function Vy(r,i){if(typeof r!="function")throw Error(s(191,r));r.call(i)}function Ly(r,i){var a=r.callbacks;if(a!==null)for(r.callbacks=null,r=0;r<a.length;r++)Vy(a[r],i)}var mo=se(null),Wu=se(0);function Uy(r,i){r=gi,ce(Wu,r),ce(mo,i),gi=r|i.baseLanes}function im(){ce(Wu,gi),ce(mo,mo.current)}function sm(){gi=Wu.current,he(mo),he(Wu)}var ns=0,je=null,tt=null,jt=null,Zu=!1,po=!1,va=!1,Ju=0,Kl=0,go=null,LT=0;function Ct(){throw Error(s(321))}function am(r,i){if(i===null)return!1;for(var a=0;a<i.length&&a<r.length;a++)if(!In(r[a],i[a]))return!1;return!0}function om(r,i,a,l,h,m){return ns=m,je=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,W.H=r===null||r.memoizedState===null?x2:E2,va=!1,m=a(l,h),va=!1,po&&(m=zy(i,a,l,h)),By(r),m}function By(r){W.H=sd;var i=tt!==null&&tt.next!==null;if(ns=0,jt=tt=je=null,Zu=!1,Kl=0,go=null,i)throw Error(s(300));r===null||Gt||(r=r.dependencies,r!==null&&$u(r)&&(Gt=!0))}function zy(r,i,a,l){je=r;var h=0;do{if(po&&(go=null),Kl=0,po=!1,25<=h)throw Error(s(301));if(h+=1,jt=tt=null,r.updateQueue!=null){var m=r.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}W.H=GT,m=i(a,l)}while(po);return m}function UT(){var r=W.H,i=r.useState()[0];return i=typeof i.then=="function"?Ql(i):i,r=r.useState()[0],(tt!==null?tt.memoizedState:null)!==r&&(je.flags|=1024),i}function lm(){var r=Ju!==0;return Ju=0,r}function cm(r,i,a){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~a}function um(r){if(Zu){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Zu=!1}ns=0,jt=tt=je=null,po=!1,Kl=Ju=0,go=null}function xn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?je.memoizedState=jt=r:jt=jt.next=r,jt}function Dt(){if(tt===null){var r=je.alternate;r=r!==null?r.memoizedState:null}else r=tt.next;var i=jt===null?je.memoizedState:jt.next;if(i!==null)jt=i,tt=r;else{if(r===null)throw je.alternate===null?Error(s(467)):Error(s(310));tt=r,r={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},jt===null?je.memoizedState=jt=r:jt=jt.next=r}return jt}function dm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ql(r){var i=Kl;return Kl+=1,go===null&&(go=[]),r=Oy(go,r,i),i=je,(jt===null?i.memoizedState:jt.next)===null&&(i=i.alternate,W.H=i===null||i.memoizedState===null?x2:E2),r}function ed(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Ql(r);if(r.$$typeof===X)return on(r)}throw Error(s(438,String(r)))}function hm(r){var i=null,a=je.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=je.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=dm(),je.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(r),l=0;l<r;l++)a[l]=M;return i.index++,a}function ui(r,i){return typeof i=="function"?i(r):i}function td(r){var i=Dt();return fm(i,tt,r)}function fm(r,i,a){var l=r.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=r.baseQueue,m=l.pending;if(m!==null){if(h!==null){var _=h.next;h.next=m.next,m.next=_}i.baseQueue=h=m,l.pending=null}if(m=r.baseState,h===null)r.memoizedState=m;else{i=h.next;var E=_=null,R=null,q=i,Z=!1;do{var ne=q.lane&-536870913;if(ne!==q.lane?(ze&ne)===ne:(ns&ne)===ne){var F=q.revertLane;if(F===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ne===ho&&(Z=!0);else if((ns&F)===F){q=q.next,F===ho&&(Z=!0);continue}else ne={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},R===null?(E=R=ne,_=m):R=R.next=ne,je.lanes|=F,cs|=F;ne=q.action,va&&a(m,ne),m=q.hasEagerState?q.eagerState:a(m,ne)}else F={lane:ne,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},R===null?(E=R=F,_=m):R=R.next=F,je.lanes|=ne,cs|=ne;q=q.next}while(q!==null&&q!==i);if(R===null?_=m:R.next=E,!In(m,r.memoizedState)&&(Gt=!0,Z&&(a=fo,a!==null)))throw a;r.memoizedState=m,r.baseState=_,r.baseQueue=R,l.lastRenderedState=m}return h===null&&(l.lanes=0),[r.memoizedState,l.dispatch]}function mm(r){var i=Dt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=r;var l=a.dispatch,h=a.pending,m=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do m=r(m,_.action),_=_.next;while(_!==h);In(m,i.memoizedState)||(Gt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,l]}function Hy(r,i,a){var l=je,h=Dt(),m=Ye;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!In((tt||h).memoizedState,a);_&&(h.memoizedState=a,Gt=!0),h=h.queue;var E=Gy.bind(null,l,h,r);if(Xl(2048,8,E,[r]),h.getSnapshot!==i||_||jt!==null&&jt.memoizedState.tag&1){if(l.flags|=2048,yo(9,nd(),Fy.bind(null,l,h,a,i),null),at===null)throw Error(s(349));m||(ns&124)!==0||qy(l,i,a)}return a}function qy(r,i,a){r.flags|=16384,r={getSnapshot:i,value:a},i=je.updateQueue,i===null?(i=dm(),je.updateQueue=i,i.stores=[r]):(a=i.stores,a===null?i.stores=[r]:a.push(r))}function Fy(r,i,a,l){i.value=a,i.getSnapshot=l,$y(i)&&Yy(r)}function Gy(r,i,a){return a(function(){$y(i)&&Yy(r)})}function $y(r){var i=r.getSnapshot;r=r.value;try{var a=i();return!In(r,a)}catch{return!0}}function Yy(r){var i=oo(r,2);i!==null&&Mn(i,r,2)}function pm(r){var i=xn();if(typeof r=="function"){var a=r;if(r=a(),va){Fn(!0);try{a()}finally{Fn(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:r},i}function Ky(r,i,a,l){return r.baseState=a,fm(r,tt,typeof l=="function"?l:ui)}function BT(r,i,a,l,h){if(id(r))throw Error(s(485));if(r=i.action,r!==null){var m={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};W.T!==null?a(!0):m.isTransition=!1,l(m),a=i.pending,a===null?(m.next=i.pending=m,Qy(i,m)):(m.next=a.next,i.pending=a.next=m)}}function Qy(r,i){var a=i.action,l=i.payload,h=r.state;if(i.isTransition){var m=W.T,_={};W.T=_;try{var E=a(h,l),R=W.S;R!==null&&R(_,E),Xy(r,i,E)}catch(q){gm(r,i,q)}finally{W.T=m}}else try{m=a(h,l),Xy(r,i,m)}catch(q){gm(r,i,q)}}function Xy(r,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Wy(r,i,l)},function(l){return gm(r,i,l)}):Wy(r,i,a)}function Wy(r,i,a){i.status="fulfilled",i.value=a,Zy(i),r.state=a,i=r.pending,i!==null&&(a=i.next,a===i?r.pending=null:(a=a.next,i.next=a,Qy(r,a)))}function gm(r,i,a){var l=r.pending;if(r.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Zy(i),i=i.next;while(i!==l)}r.action=null}function Zy(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function Jy(r,i){return i}function e2(r,i){if(Ye){var a=at.formState;if(a!==null){e:{var l=je;if(Ye){if(bt){t:{for(var h=bt,m=Dr;h.nodeType!==8;){if(!m){h=null;break t}if(h=yr(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){bt=yr(h.nextSibling),l=h.data==="F!";break e}}ma(l)}l=!1}l&&(i=a[0])}}return a=xn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jy,lastRenderedState:i},a.queue=l,a=w2.bind(null,je,l),l.dispatch=a,l=pm(!1),m=_m.bind(null,je,!1,l.queue),l=xn(),h={state:i,dispatch:null,action:r,pending:null},l.queue=h,a=BT.bind(null,je,h,m,a),h.dispatch=a,l.memoizedState=r,[i,a,!1]}function t2(r){var i=Dt();return n2(i,tt,r)}function n2(r,i,a){if(i=fm(r,i,Jy)[0],r=td(ui)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Ql(i)}catch(_){throw _===ql?Qu:_}else l=i;i=Dt();var h=i.queue,m=h.dispatch;return a!==i.memoizedState&&(je.flags|=2048,yo(9,nd(),zT.bind(null,h,a),null)),[l,m,r]}function zT(r,i){r.action=i}function r2(r){var i=Dt(),a=tt;if(a!==null)return n2(i,a,r);Dt(),i=i.memoizedState,a=Dt();var l=a.queue.dispatch;return a.memoizedState=r,[i,l,!1]}function yo(r,i,a,l){return r={tag:r,create:a,deps:l,inst:i,next:null},i=je.updateQueue,i===null&&(i=dm(),je.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=r.next=r:(l=a.next,a.next=r,r.next=l,i.lastEffect=r),r}function nd(){return{destroy:void 0,resource:void 0}}function i2(){return Dt().memoizedState}function rd(r,i,a,l){var h=xn();l=l===void 0?null:l,je.flags|=r,h.memoizedState=yo(1|i,nd(),a,l)}function Xl(r,i,a,l){var h=Dt();l=l===void 0?null:l;var m=h.memoizedState.inst;tt!==null&&l!==null&&am(l,tt.memoizedState.deps)?h.memoizedState=yo(i,m,a,l):(je.flags|=r,h.memoizedState=yo(1|i,m,a,l))}function s2(r,i){rd(8390656,8,r,i)}function a2(r,i){Xl(2048,8,r,i)}function o2(r,i){return Xl(4,2,r,i)}function l2(r,i){return Xl(4,4,r,i)}function c2(r,i){if(typeof i=="function"){r=r();var a=i(r);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function u2(r,i,a){a=a!=null?a.concat([r]):null,Xl(4,4,c2.bind(null,i,r),a)}function ym(){}function d2(r,i){var a=Dt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&am(i,l[1])?l[0]:(a.memoizedState=[r,i],r)}function h2(r,i){var a=Dt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&am(i,l[1]))return l[0];if(l=r(),va){Fn(!0);try{r()}finally{Fn(!1)}}return a.memoizedState=[l,i],l}function vm(r,i,a){return a===void 0||(ns&1073741824)!==0?r.memoizedState=i:(r.memoizedState=a,r=pv(),je.lanes|=r,cs|=r,a)}function f2(r,i,a,l){return In(a,i)?a:mo.current!==null?(r=vm(r,a,l),In(r,i)||(Gt=!0),r):(ns&42)===0?(Gt=!0,r.memoizedState=a):(r=pv(),je.lanes|=r,cs|=r,i)}function m2(r,i,a,l,h){var m=ue.p;ue.p=m!==0&&8>m?m:8;var _=W.T,E={};W.T=E,_m(r,!1,i,a);try{var R=h(),q=W.S;if(q!==null&&q(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Z=VT(R,l);Wl(r,i,Z,Pn(r))}else Wl(r,i,l,Pn(r))}catch(ne){Wl(r,i,{then:function(){},status:"rejected",reason:ne},Pn())}finally{ue.p=m,W.T=_}}function HT(){}function wm(r,i,a,l){if(r.tag!==5)throw Error(s(476));var h=p2(r).queue;m2(r,h,i,_e,a===null?HT:function(){return g2(r),a(l)})}function p2(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:_e},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:a},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function g2(r){var i=p2(r).next.queue;Wl(r,i,{},Pn())}function bm(){return on(pc)}function y2(){return Dt().memoizedState}function v2(){return Dt().memoizedState}function qT(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var a=Pn();r=es(a);var l=ts(i,r,a);l!==null&&(Mn(l,i,a),Gl(l,i,a)),i={cache:Xf()},r.payload=i;return}i=i.return}}function FT(r,i,a){var l=Pn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},id(r)?b2(i,a):(a=Bf(r,i,a,l),a!==null&&(Mn(a,r,l),_2(a,i,l)))}function w2(r,i,a){var l=Pn();Wl(r,i,a,l)}function Wl(r,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(id(r))b2(i,h);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var _=i.lastRenderedState,E=m(_,a);if(h.hasEagerState=!0,h.eagerState=E,In(E,_))return zu(r,i,h,0),at===null&&Bu(),!1}catch{}finally{}if(a=Bf(r,i,h,l),a!==null)return Mn(a,r,l),_2(a,i,l),!0}return!1}function _m(r,i,a,l){if(l={lane:2,revertLane:Jm(),action:l,hasEagerState:!1,eagerState:null,next:null},id(r)){if(i)throw Error(s(479))}else i=Bf(r,a,l,2),i!==null&&Mn(i,r,2)}function id(r){var i=r.alternate;return r===je||i!==null&&i===je}function b2(r,i){po=Zu=!0;var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}function _2(r,i,a){if((a&4194048)!==0){var l=i.lanes;l&=r.pendingLanes,a|=l,i.lanes=a,zi(r,a)}}var sd={readContext:on,use:ed,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct},x2={readContext:on,use:ed,useCallback:function(r,i){return xn().memoizedState=[r,i===void 0?null:i],r},useContext:on,useEffect:s2,useImperativeHandle:function(r,i,a){a=a!=null?a.concat([r]):null,rd(4194308,4,c2.bind(null,i,r),a)},useLayoutEffect:function(r,i){return rd(4194308,4,r,i)},useInsertionEffect:function(r,i){rd(4,2,r,i)},useMemo:function(r,i){var a=xn();i=i===void 0?null:i;var l=r();if(va){Fn(!0);try{r()}finally{Fn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(r,i,a){var l=xn();if(a!==void 0){var h=a(i);if(va){Fn(!0);try{a(i)}finally{Fn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},l.queue=r,r=r.dispatch=FT.bind(null,je,r),[l.memoizedState,r]},useRef:function(r){var i=xn();return r={current:r},i.memoizedState=r},useState:function(r){r=pm(r);var i=r.queue,a=w2.bind(null,je,i);return i.dispatch=a,[r.memoizedState,a]},useDebugValue:ym,useDeferredValue:function(r,i){var a=xn();return vm(a,r,i)},useTransition:function(){var r=pm(!1);return r=m2.bind(null,je,r.queue,!0,!1),xn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,a){var l=je,h=xn();if(Ye){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),at===null)throw Error(s(349));(ze&124)!==0||qy(l,i,a)}h.memoizedState=a;var m={value:a,getSnapshot:i};return h.queue=m,s2(Gy.bind(null,l,m,r),[r]),l.flags|=2048,yo(9,nd(),Fy.bind(null,l,m,a,i),null),a},useId:function(){var r=xn(),i=at.identifierPrefix;if(Ye){var a=oi,l=ai;a=(l&~(1<<32-mn(l)-1)).toString(32)+a,i=""+i+"R"+a,a=Ju++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=LT++,i=""+i+"r"+a.toString(32)+"";return r.memoizedState=i},useHostTransitionStatus:bm,useFormState:e2,useActionState:e2,useOptimistic:function(r){var i=xn();i.memoizedState=i.baseState=r;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=_m.bind(null,je,!0,a),a.dispatch=i,[r,i]},useMemoCache:hm,useCacheRefresh:function(){return xn().memoizedState=qT.bind(null,je)}},E2={readContext:on,use:ed,useCallback:d2,useContext:on,useEffect:a2,useImperativeHandle:u2,useInsertionEffect:o2,useLayoutEffect:l2,useMemo:h2,useReducer:td,useRef:i2,useState:function(){return td(ui)},useDebugValue:ym,useDeferredValue:function(r,i){var a=Dt();return f2(a,tt.memoizedState,r,i)},useTransition:function(){var r=td(ui)[0],i=Dt().memoizedState;return[typeof r=="boolean"?r:Ql(r),i]},useSyncExternalStore:Hy,useId:y2,useHostTransitionStatus:bm,useFormState:t2,useActionState:t2,useOptimistic:function(r,i){var a=Dt();return Ky(a,tt,r,i)},useMemoCache:hm,useCacheRefresh:v2},GT={readContext:on,use:ed,useCallback:d2,useContext:on,useEffect:a2,useImperativeHandle:u2,useInsertionEffect:o2,useLayoutEffect:l2,useMemo:h2,useReducer:mm,useRef:i2,useState:function(){return mm(ui)},useDebugValue:ym,useDeferredValue:function(r,i){var a=Dt();return tt===null?vm(a,r,i):f2(a,tt.memoizedState,r,i)},useTransition:function(){var r=mm(ui)[0],i=Dt().memoizedState;return[typeof r=="boolean"?r:Ql(r),i]},useSyncExternalStore:Hy,useId:y2,useHostTransitionStatus:bm,useFormState:r2,useActionState:r2,useOptimistic:function(r,i){var a=Dt();return tt!==null?Ky(a,tt,r,i):(a.baseState=r,[r,a.queue.dispatch])},useMemoCache:hm,useCacheRefresh:v2},vo=null,Zl=0;function ad(r){var i=Zl;return Zl+=1,vo===null&&(vo=[]),Oy(vo,r,i)}function Jl(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function od(r,i){throw i.$$typeof===x?Error(s(525)):(r=Object.prototype.toString.call(i),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function T2(r){var i=r._init;return i(r._payload)}function S2(r){function i(L,P){if(r){var z=L.deletions;z===null?(L.deletions=[P],L.flags|=16):z.push(P)}}function a(L,P){if(!r)return null;for(;P!==null;)i(L,P),P=P.sibling;return null}function l(L){for(var P=new Map;L!==null;)L.key!==null?P.set(L.key,L):P.set(L.index,L),L=L.sibling;return P}function h(L,P){return L=si(L,P),L.index=0,L.sibling=null,L}function m(L,P,z){return L.index=z,r?(z=L.alternate,z!==null?(z=z.index,z<P?(L.flags|=67108866,P):z):(L.flags|=67108866,P)):(L.flags|=1048576,P)}function _(L){return r&&L.alternate===null&&(L.flags|=67108866),L}function E(L,P,z,ee){return P===null||P.tag!==6?(P=Hf(z,L.mode,ee),P.return=L,P):(P=h(P,z),P.return=L,P)}function R(L,P,z,ee){var me=z.type;return me===V?Z(L,P,z.props.children,ee,z.key):P!==null&&(P.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===A&&T2(me)===P.type)?(P=h(P,z.props),Jl(P,z),P.return=L,P):(P=qu(z.type,z.key,z.props,null,L.mode,ee),Jl(P,z),P.return=L,P)}function q(L,P,z,ee){return P===null||P.tag!==4||P.stateNode.containerInfo!==z.containerInfo||P.stateNode.implementation!==z.implementation?(P=qf(z,L.mode,ee),P.return=L,P):(P=h(P,z.children||[]),P.return=L,P)}function Z(L,P,z,ee,me){return P===null||P.tag!==7?(P=ua(z,L.mode,ee,me),P.return=L,P):(P=h(P,z),P.return=L,P)}function ne(L,P,z){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Hf(""+P,L.mode,z),P.return=L,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case T:return z=qu(P.type,P.key,P.props,null,L.mode,z),Jl(z,P),z.return=L,z;case N:return P=qf(P,L.mode,z),P.return=L,P;case A:var ee=P._init;return P=ee(P._payload),ne(L,P,z)}if(ft(P)||U(P))return P=ua(P,L.mode,z,null),P.return=L,P;if(typeof P.then=="function")return ne(L,ad(P),z);if(P.$$typeof===X)return ne(L,Yu(L,P),z);od(L,P)}return null}function F(L,P,z,ee){var me=P!==null?P.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return me!==null?null:E(L,P,""+z,ee);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case T:return z.key===me?R(L,P,z,ee):null;case N:return z.key===me?q(L,P,z,ee):null;case A:return me=z._init,z=me(z._payload),F(L,P,z,ee)}if(ft(z)||U(z))return me!==null?null:Z(L,P,z,ee,null);if(typeof z.then=="function")return F(L,P,ad(z),ee);if(z.$$typeof===X)return F(L,P,Yu(L,z),ee);od(L,z)}return null}function $(L,P,z,ee,me){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return L=L.get(z)||null,E(P,L,""+ee,me);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case T:return L=L.get(ee.key===null?z:ee.key)||null,R(P,L,ee,me);case N:return L=L.get(ee.key===null?z:ee.key)||null,q(P,L,ee,me);case A:var De=ee._init;return ee=De(ee._payload),$(L,P,z,ee,me)}if(ft(ee)||U(ee))return L=L.get(z)||null,Z(P,L,ee,me,null);if(typeof ee.then=="function")return $(L,P,z,ad(ee),me);if(ee.$$typeof===X)return $(L,P,z,Yu(P,ee),me);od(P,ee)}return null}function Ce(L,P,z,ee){for(var me=null,De=null,ye=P,Te=P=0,Yt=null;ye!==null&&Te<z.length;Te++){ye.index>Te?(Yt=ye,ye=null):Yt=ye.sibling;var Ge=F(L,ye,z[Te],ee);if(Ge===null){ye===null&&(ye=Yt);break}r&&ye&&Ge.alternate===null&&i(L,ye),P=m(Ge,P,Te),De===null?me=Ge:De.sibling=Ge,De=Ge,ye=Yt}if(Te===z.length)return a(L,ye),Ye&&ha(L,Te),me;if(ye===null){for(;Te<z.length;Te++)ye=ne(L,z[Te],ee),ye!==null&&(P=m(ye,P,Te),De===null?me=ye:De.sibling=ye,De=ye);return Ye&&ha(L,Te),me}for(ye=l(ye);Te<z.length;Te++)Yt=$(ye,L,Te,z[Te],ee),Yt!==null&&(r&&Yt.alternate!==null&&ye.delete(Yt.key===null?Te:Yt.key),P=m(Yt,P,Te),De===null?me=Yt:De.sibling=Yt,De=Yt);return r&&ye.forEach(function(vs){return i(L,vs)}),Ye&&ha(L,Te),me}function Ee(L,P,z,ee){if(z==null)throw Error(s(151));for(var me=null,De=null,ye=P,Te=P=0,Yt=null,Ge=z.next();ye!==null&&!Ge.done;Te++,Ge=z.next()){ye.index>Te?(Yt=ye,ye=null):Yt=ye.sibling;var vs=F(L,ye,Ge.value,ee);if(vs===null){ye===null&&(ye=Yt);break}r&&ye&&vs.alternate===null&&i(L,ye),P=m(vs,P,Te),De===null?me=vs:De.sibling=vs,De=vs,ye=Yt}if(Ge.done)return a(L,ye),Ye&&ha(L,Te),me;if(ye===null){for(;!Ge.done;Te++,Ge=z.next())Ge=ne(L,Ge.value,ee),Ge!==null&&(P=m(Ge,P,Te),De===null?me=Ge:De.sibling=Ge,De=Ge);return Ye&&ha(L,Te),me}for(ye=l(ye);!Ge.done;Te++,Ge=z.next())Ge=$(ye,L,Te,Ge.value,ee),Ge!==null&&(r&&Ge.alternate!==null&&ye.delete(Ge.key===null?Te:Ge.key),P=m(Ge,P,Te),De===null?me=Ge:De.sibling=Ge,De=Ge);return r&&ye.forEach(function($4){return i(L,$4)}),Ye&&ha(L,Te),me}function rt(L,P,z,ee){if(typeof z=="object"&&z!==null&&z.type===V&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case T:e:{for(var me=z.key;P!==null;){if(P.key===me){if(me=z.type,me===V){if(P.tag===7){a(L,P.sibling),ee=h(P,z.props.children),ee.return=L,L=ee;break e}}else if(P.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===A&&T2(me)===P.type){a(L,P.sibling),ee=h(P,z.props),Jl(ee,z),ee.return=L,L=ee;break e}a(L,P);break}else i(L,P);P=P.sibling}z.type===V?(ee=ua(z.props.children,L.mode,ee,z.key),ee.return=L,L=ee):(ee=qu(z.type,z.key,z.props,null,L.mode,ee),Jl(ee,z),ee.return=L,L=ee)}return _(L);case N:e:{for(me=z.key;P!==null;){if(P.key===me)if(P.tag===4&&P.stateNode.containerInfo===z.containerInfo&&P.stateNode.implementation===z.implementation){a(L,P.sibling),ee=h(P,z.children||[]),ee.return=L,L=ee;break e}else{a(L,P);break}else i(L,P);P=P.sibling}ee=qf(z,L.mode,ee),ee.return=L,L=ee}return _(L);case A:return me=z._init,z=me(z._payload),rt(L,P,z,ee)}if(ft(z))return Ce(L,P,z,ee);if(U(z)){if(me=U(z),typeof me!="function")throw Error(s(150));return z=me.call(z),Ee(L,P,z,ee)}if(typeof z.then=="function")return rt(L,P,ad(z),ee);if(z.$$typeof===X)return rt(L,P,Yu(L,z),ee);od(L,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,P!==null&&P.tag===6?(a(L,P.sibling),ee=h(P,z),ee.return=L,L=ee):(a(L,P),ee=Hf(z,L.mode,ee),ee.return=L,L=ee),_(L)):a(L,P)}return function(L,P,z,ee){try{Zl=0;var me=rt(L,P,z,ee);return vo=null,me}catch(ye){if(ye===ql||ye===Qu)throw ye;var De=kn(29,ye,null,L.mode);return De.lanes=ee,De.return=L,De}finally{}}}var wo=S2(!0),A2=S2(!1),Jn=se(null),Or=null;function rs(r){var i=r.alternate;ce(Bt,Bt.current&1),ce(Jn,r),Or===null&&(i===null||mo.current!==null||i.memoizedState!==null)&&(Or=r)}function C2(r){if(r.tag===22){if(ce(Bt,Bt.current),ce(Jn,r),Or===null){var i=r.alternate;i!==null&&i.memoizedState!==null&&(Or=r)}}else is()}function is(){ce(Bt,Bt.current),ce(Jn,Jn.current)}function di(r){he(Jn),Or===r&&(Or=null),he(Bt)}var Bt=se(0);function ld(r){for(var i=r;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||dp(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function xm(r,i,a,l){i=r.memoizedState,a=a(l,i),a=a==null?i:w({},i,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Em={enqueueSetState:function(r,i,a){r=r._reactInternals;var l=Pn(),h=es(l);h.payload=i,a!=null&&(h.callback=a),i=ts(r,h,l),i!==null&&(Mn(i,r,l),Gl(i,r,l))},enqueueReplaceState:function(r,i,a){r=r._reactInternals;var l=Pn(),h=es(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=ts(r,h,l),i!==null&&(Mn(i,r,l),Gl(i,r,l))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var a=Pn(),l=es(a);l.tag=2,i!=null&&(l.callback=i),i=ts(r,l,a),i!==null&&(Mn(i,r,a),Gl(i,r,a))}};function N2(r,i,a,l,h,m,_){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(l,m,_):i.prototype&&i.prototype.isPureReactComponent?!Pl(a,l)||!Pl(h,m):!0}function R2(r,i,a,l){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==r&&Em.enqueueReplaceState(i,i.state,null)}function wa(r,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(r=r.defaultProps){a===i&&(a=w({},a));for(var h in r)a[h]===void 0&&(a[h]=r[h])}return a}var cd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function I2(r){cd(r)}function k2(r){console.error(r)}function j2(r){cd(r)}function ud(r,i){try{var a=r.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function D2(r,i,a){try{var l=r.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Tm(r,i,a){return a=es(a),a.tag=3,a.payload={element:null},a.callback=function(){ud(r,i)},a}function O2(r){return r=es(r),r.tag=3,r}function P2(r,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var m=l.value;r.payload=function(){return h(m)},r.callback=function(){D2(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(r.callback=function(){D2(i,a,l),typeof h!="function"&&(us===null?us=new Set([this]):us.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function $T(r,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Bl(i,a,h,!0),a=Jn.current,a!==null){switch(a.tag){case 13:return Or===null?Km():a.alternate===null&&_t===0&&(_t=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Jf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Xm(r,l,h)),!1;case 22:return a.flags|=65536,l===Jf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Xm(r,l,h)),!1}throw Error(s(435,a.tag))}return Xm(r,l,h),Km(),!1}if(Ye)return i=Jn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==$f&&(r=Error(s(422),{cause:l}),Ul(Qn(r,a)))):(l!==$f&&(i=Error(s(423),{cause:l}),Ul(Qn(i,a))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,l=Qn(l,a),h=Tm(r.stateNode,l,h),nm(r,h),_t!==4&&(_t=2)),!1;var m=Error(s(520),{cause:l});if(m=Qn(m,a),ac===null?ac=[m]:ac.push(m),_t!==4&&(_t=2),i===null)return!0;l=Qn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,r=h&-h,a.lanes|=r,r=Tm(a.stateNode,l,r),nm(a,r),!1;case 1:if(i=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(us===null||!us.has(m))))return a.flags|=65536,h&=-h,a.lanes|=h,h=O2(h),P2(h,r,a,l),nm(a,h),!1}a=a.return}while(a!==null);return!1}var M2=Error(s(461)),Gt=!1;function Zt(r,i,a,l){i.child=r===null?A2(i,null,a,l):wo(i,r.child,a,l)}function V2(r,i,a,l,h){a=a.render;var m=i.ref;if("ref"in l){var _={};for(var E in l)E!=="ref"&&(_[E]=l[E])}else _=l;return ga(i),l=om(r,i,a,_,m,h),E=lm(),r!==null&&!Gt?(cm(r,i,h),hi(r,i,h)):(Ye&&E&&Ff(i),i.flags|=1,Zt(r,i,l,h),i.child)}function L2(r,i,a,l,h){if(r===null){var m=a.type;return typeof m=="function"&&!zf(m)&&m.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=m,U2(r,i,m,l,h)):(r=qu(a.type,null,l,i,i.mode,h),r.ref=i.ref,r.return=i,i.child=r)}if(m=r.child,!jm(r,h)){var _=m.memoizedProps;if(a=a.compare,a=a!==null?a:Pl,a(_,l)&&r.ref===i.ref)return hi(r,i,h)}return i.flags|=1,r=si(m,l),r.ref=i.ref,r.return=i,i.child=r}function U2(r,i,a,l,h){if(r!==null){var m=r.memoizedProps;if(Pl(m,l)&&r.ref===i.ref)if(Gt=!1,i.pendingProps=l=m,jm(r,h))(r.flags&131072)!==0&&(Gt=!0);else return i.lanes=r.lanes,hi(r,i,h)}return Sm(r,i,a,l,h)}function B2(r,i,a){var l=i.pendingProps,h=l.children,m=r!==null?r.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,r!==null){for(h=i.child=r.child,m=0;h!==null;)m=m|h.lanes|h.childLanes,h=h.sibling;i.childLanes=m&~l}else i.childLanes=0,i.child=null;return z2(r,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&Ku(i,m!==null?m.cachePool:null),m!==null?Uy(i,m):im(),C2(i);else return i.lanes=i.childLanes=536870912,z2(r,i,m!==null?m.baseLanes|a:a,a)}else m!==null?(Ku(i,m.cachePool),Uy(i,m),is(),i.memoizedState=null):(r!==null&&Ku(i,null),im(),is());return Zt(r,i,h,a),i.child}function z2(r,i,a,l){var h=Zf();return h=h===null?null:{parent:Ut._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},r!==null&&Ku(i,null),im(),C2(i),r!==null&&Bl(r,i,l,!0),null}function dd(r,i){var a=i.ref;if(a===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(r===null||r.ref!==a)&&(i.flags|=4194816)}}function Sm(r,i,a,l,h){return ga(i),a=om(r,i,a,l,void 0,h),l=lm(),r!==null&&!Gt?(cm(r,i,h),hi(r,i,h)):(Ye&&l&&Ff(i),i.flags|=1,Zt(r,i,a,h),i.child)}function H2(r,i,a,l,h,m){return ga(i),i.updateQueue=null,a=zy(i,l,a,h),By(r),l=lm(),r!==null&&!Gt?(cm(r,i,m),hi(r,i,m)):(Ye&&l&&Ff(i),i.flags|=1,Zt(r,i,a,m),i.child)}function q2(r,i,a,l,h){if(ga(i),i.stateNode===null){var m=lo,_=a.contextType;typeof _=="object"&&_!==null&&(m=on(_)),m=new a(l,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Em,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=l,m.state=i.memoizedState,m.refs={},em(i),_=a.contextType,m.context=typeof _=="object"&&_!==null?on(_):lo,m.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(xm(i,a,_,l),m.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&Em.enqueueReplaceState(m,m.state,null),Yl(i,l,m,h),$l(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(r===null){m=i.stateNode;var E=i.memoizedProps,R=wa(a,E);m.props=R;var q=m.context,Z=a.contextType;_=lo,typeof Z=="object"&&Z!==null&&(_=on(Z));var ne=a.getDerivedStateFromProps;Z=typeof ne=="function"||typeof m.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,Z||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E||q!==_)&&R2(i,m,l,_),Ji=!1;var F=i.memoizedState;m.state=F,Yl(i,l,m,h),$l(),q=i.memoizedState,E||F!==q||Ji?(typeof ne=="function"&&(xm(i,a,ne,l),q=i.memoizedState),(R=Ji||N2(i,a,R,l,F,q,_))?(Z||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=q),m.props=l,m.state=q,m.context=_,l=R):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{m=i.stateNode,tm(r,i),_=i.memoizedProps,Z=wa(a,_),m.props=Z,ne=i.pendingProps,F=m.context,q=a.contextType,R=lo,typeof q=="object"&&q!==null&&(R=on(q)),E=a.getDerivedStateFromProps,(q=typeof E=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==ne||F!==R)&&R2(i,m,l,R),Ji=!1,F=i.memoizedState,m.state=F,Yl(i,l,m,h),$l();var $=i.memoizedState;_!==ne||F!==$||Ji||r!==null&&r.dependencies!==null&&$u(r.dependencies)?(typeof E=="function"&&(xm(i,a,E,l),$=i.memoizedState),(Z=Ji||N2(i,a,Z,l,F,$,R)||r!==null&&r.dependencies!==null&&$u(r.dependencies))?(q||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,$,R),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,$,R)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===r.memoizedProps&&F===r.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===r.memoizedProps&&F===r.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=$),m.props=l,m.state=$,m.context=R,l=Z):(typeof m.componentDidUpdate!="function"||_===r.memoizedProps&&F===r.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===r.memoizedProps&&F===r.memoizedState||(i.flags|=1024),l=!1)}return m=l,dd(r,i),l=(i.flags&128)!==0,m||l?(m=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,r!==null&&l?(i.child=wo(i,r.child,null,h),i.child=wo(i,null,a,h)):Zt(r,i,a,h),i.memoizedState=m.state,r=i.child):r=hi(r,i,h),r}function F2(r,i,a,l){return Ll(),i.flags|=256,Zt(r,i,a,l),i.child}var Am={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cm(r){return{baseLanes:r,cachePool:ky()}}function Nm(r,i,a){return r=r!==null?r.childLanes&~a:0,i&&(r|=er),r}function G2(r,i,a){var l=i.pendingProps,h=!1,m=(i.flags&128)!==0,_;if((_=m)||(_=r!==null&&r.memoizedState===null?!1:(Bt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,r===null){if(Ye){if(h?rs(i):is(),Ye){var E=bt,R;if(R=E){e:{for(R=E,E=Dr;R.nodeType!==8;){if(!E){E=null;break e}if(R=yr(R.nextSibling),R===null){E=null;break e}}E=R}E!==null?(i.memoizedState={dehydrated:E,treeContext:da!==null?{id:ai,overflow:oi}:null,retryLane:536870912,hydrationErrors:null},R=kn(18,null,null,0),R.stateNode=E,R.return=i,i.child=R,vn=i,bt=null,R=!0):R=!1}R||ma(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return dp(E)?i.lanes=32:i.lanes=536870912,null;di(i)}return E=l.children,l=l.fallback,h?(is(),h=i.mode,E=hd({mode:"hidden",children:E},h),l=ua(l,h,a,null),E.return=i,l.return=i,E.sibling=l,i.child=E,h=i.child,h.memoizedState=Cm(a),h.childLanes=Nm(r,_,a),i.memoizedState=Am,l):(rs(i),Rm(i,E))}if(R=r.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(m)i.flags&256?(rs(i),i.flags&=-257,i=Im(r,i,a)):i.memoizedState!==null?(is(),i.child=r.child,i.flags|=128,i=null):(is(),h=l.fallback,E=i.mode,l=hd({mode:"visible",children:l.children},E),h=ua(h,E,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,wo(i,r.child,null,a),l=i.child,l.memoizedState=Cm(a),l.childLanes=Nm(r,_,a),i.memoizedState=Am,i=h);else if(rs(i),dp(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var q=_.dgst;_=q,l=Error(s(419)),l.stack="",l.digest=_,Ul({value:l,source:null,stack:null}),i=Im(r,i,a)}else if(Gt||Bl(r,i,a,!1),_=(a&r.childLanes)!==0,Gt||_){if(_=at,_!==null&&(l=a&-a,l=(l&42)!==0?1:vl(l),l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,oo(r,l),Mn(_,r,l),M2;E.data==="$?"||Km(),i=Im(r,i,a)}else E.data==="$?"?(i.flags|=192,i.child=r.child,i=null):(r=R.treeContext,bt=yr(E.nextSibling),vn=i,Ye=!0,fa=null,Dr=!1,r!==null&&(Wn[Zn++]=ai,Wn[Zn++]=oi,Wn[Zn++]=da,ai=r.id,oi=r.overflow,da=i),i=Rm(i,l.children),i.flags|=4096);return i}return h?(is(),h=l.fallback,E=i.mode,R=r.child,q=R.sibling,l=si(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,q!==null?h=si(q,h):(h=ua(h,E,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,E=r.child.memoizedState,E===null?E=Cm(a):(R=E.cachePool,R!==null?(q=Ut._currentValue,R=R.parent!==q?{parent:q,pool:q}:R):R=ky(),E={baseLanes:E.baseLanes|a,cachePool:R}),h.memoizedState=E,h.childLanes=Nm(r,_,a),i.memoizedState=Am,l):(rs(i),a=r.child,r=a.sibling,a=si(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,r!==null&&(_=i.deletions,_===null?(i.deletions=[r],i.flags|=16):_.push(r)),i.child=a,i.memoizedState=null,a)}function Rm(r,i){return i=hd({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function hd(r,i){return r=kn(22,r,null,i),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Im(r,i,a){return wo(i,r.child,null,a),r=Rm(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function $2(r,i,a){r.lanes|=i;var l=r.alternate;l!==null&&(l.lanes|=i),Kf(r.return,i,a)}function km(r,i,a,l,h){var m=r.memoizedState;m===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=h)}function Y2(r,i,a){var l=i.pendingProps,h=l.revealOrder,m=l.tail;if(Zt(r,i,l.children,a),l=Bt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&$2(r,a,i);else if(r.tag===19)$2(r,a,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}l&=1}switch(ce(Bt,l),h){case"forwards":for(a=i.child,h=null;a!==null;)r=a.alternate,r!==null&&ld(r)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),km(i,!1,h,a,m);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(r=h.alternate,r!==null&&ld(r)===null){i.child=h;break}r=h.sibling,h.sibling=a,a=h,h=r}km(i,!0,a,null,m);break;case"together":km(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function hi(r,i,a){if(r!==null&&(i.dependencies=r.dependencies),cs|=i.lanes,(a&i.childLanes)===0)if(r!==null){if(Bl(r,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(s(153));if(i.child!==null){for(r=i.child,a=si(r,r.pendingProps),i.child=a,a.return=i;r.sibling!==null;)r=r.sibling,a=a.sibling=si(r,r.pendingProps),a.return=i;a.sibling=null}return i.child}function jm(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&$u(r)))}function YT(r,i,a){switch(i.tag){case 3:Je(i,i.stateNode.containerInfo),Zi(i,Ut,r.memoizedState.cache),Ll();break;case 27:case 5:ml(i);break;case 4:Je(i,i.stateNode.containerInfo);break;case 10:Zi(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(rs(i),i.flags|=128,null):(a&i.child.childLanes)!==0?G2(r,i,a):(rs(i),r=hi(r,i,a),r!==null?r.sibling:null);rs(i);break;case 19:var h=(r.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Bl(r,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Y2(r,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ce(Bt,Bt.current),l)break;return null;case 22:case 23:return i.lanes=0,B2(r,i,a);case 24:Zi(i,Ut,r.memoizedState.cache)}return hi(r,i,a)}function K2(r,i,a){if(r!==null)if(r.memoizedProps!==i.pendingProps)Gt=!0;else{if(!jm(r,a)&&(i.flags&128)===0)return Gt=!1,YT(r,i,a);Gt=(r.flags&131072)!==0}else Gt=!1,Ye&&(i.flags&1048576)!==0&&Ty(i,Gu,i.index);switch(i.lanes=0,i.tag){case 16:e:{r=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")zf(l)?(r=wa(l,r),i.tag=1,i=q2(null,i,l,r,a)):(i.tag=0,i=Sm(null,i,l,r,a));else{if(l!=null){if(h=l.$$typeof,h===pe){i.tag=11,i=V2(null,i,l,r,a);break e}else if(h===I){i.tag=14,i=L2(null,i,l,r,a);break e}}throw i=wt(l)||l,Error(s(306,i,""))}}return i;case 0:return Sm(r,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=wa(l,i.pendingProps),q2(r,i,l,h,a);case 3:e:{if(Je(i,i.stateNode.containerInfo),r===null)throw Error(s(387));l=i.pendingProps;var m=i.memoizedState;h=m.element,tm(r,i),Yl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Zi(i,Ut,l),l!==m.cache&&Qf(i,[Ut],a,!0),$l(),l=_.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=F2(r,i,l,a);break e}else if(l!==h){h=Qn(Error(s(424)),i),Ul(h),i=F2(r,i,l,a);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(bt=yr(r.firstChild),vn=i,Ye=!0,fa=null,Dr=!0,a=A2(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ll(),l===h){i=hi(r,i,a);break e}Zt(r,i,l,a)}i=i.child}return i;case 26:return dd(r,i),r===null?(a=Zv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ye||(a=i.type,r=i.pendingProps,l=Ad(Ae.current).createElement(a),l[Tt]=i,l[Wt]=r,en(l,a,r),St(l),i.stateNode=l):i.memoizedState=Zv(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return ml(i),r===null&&Ye&&(l=i.stateNode=Qv(i.type,i.pendingProps,Ae.current),vn=i,Dr=!0,h=bt,fs(i.type)?(hp=h,bt=yr(l.firstChild)):bt=h),Zt(r,i,i.pendingProps.children,a),dd(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&Ye&&((h=l=bt)&&(l=_4(l,i.type,i.pendingProps,Dr),l!==null?(i.stateNode=l,vn=i,bt=yr(l.firstChild),Dr=!1,h=!0):h=!1),h||ma(i)),ml(i),h=i.type,m=i.pendingProps,_=r!==null?r.memoizedProps:null,l=m.children,lp(h,m)?l=null:_!==null&&lp(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=om(r,i,UT,null,null,a),pc._currentValue=h),dd(r,i),Zt(r,i,l,a),i.child;case 6:return r===null&&Ye&&((r=a=bt)&&(a=x4(a,i.pendingProps,Dr),a!==null?(i.stateNode=a,vn=i,bt=null,r=!0):r=!1),r||ma(i)),null;case 13:return G2(r,i,a);case 4:return Je(i,i.stateNode.containerInfo),l=i.pendingProps,r===null?i.child=wo(i,null,l,a):Zt(r,i,l,a),i.child;case 11:return V2(r,i,i.type,i.pendingProps,a);case 7:return Zt(r,i,i.pendingProps,a),i.child;case 8:return Zt(r,i,i.pendingProps.children,a),i.child;case 12:return Zt(r,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Zi(i,i.type,l.value),Zt(r,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,ga(i),h=on(h),l=l(h),i.flags|=1,Zt(r,i,l,a),i.child;case 14:return L2(r,i,i.type,i.pendingProps,a);case 15:return U2(r,i,i.type,i.pendingProps,a);case 19:return Y2(r,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},r===null?(a=hd(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=si(r.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return B2(r,i,a);case 24:return ga(i),l=on(Ut),r===null?(h=Zf(),h===null&&(h=at,m=Xf(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=a),h=m),i.memoizedState={parent:l,cache:h},em(i),Zi(i,Ut,h)):((r.lanes&a)!==0&&(tm(r,i),Yl(i,null,null,a),$l()),h=r.memoizedState,m=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Zi(i,Ut,l)):(l=m.cache,Zi(i,Ut,l),l!==h.cache&&Qf(i,[Ut],a,!0))),Zt(r,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function fi(r){r.flags|=4}function Q2(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!rw(i)){if(i=Jn.current,i!==null&&((ze&4194048)===ze?Or!==null:(ze&62914560)!==ze&&(ze&536870912)===0||i!==Or))throw Fl=Jf,jy;r.flags|=8192}}function fd(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?Ui():536870912,r.lanes|=i,Eo|=i)}function ec(r,i){if(!Ye)switch(r.tailMode){case"hidden":i=r.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:l.sibling=null}}function gt(r){var i=r.alternate!==null&&r.alternate.child===r.child,a=0,l=0;if(i)for(var h=r.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=l,r.childLanes=a,i}function KT(r,i,a){var l=i.pendingProps;switch(Gf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(i),null;case 1:return gt(i),null;case 3:return a=i.stateNode,l=null,r!==null&&(l=r.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ci(Ut),or(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(r===null||r.child===null)&&(Vl(i)?fi(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Cy())),gt(i),null;case 26:return a=i.memoizedState,r===null?(fi(i),a!==null?(gt(i),Q2(i,a)):(gt(i),i.flags&=-16777217)):a?a!==r.memoizedState?(fi(i),gt(i),Q2(i,a)):(gt(i),i.flags&=-16777217):(r.memoizedProps!==l&&fi(i),gt(i),i.flags&=-16777217),null;case 27:za(i),a=Ae.current;var h=i.type;if(r!==null&&i.stateNode!=null)r.memoizedProps!==l&&fi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return gt(i),null}r=we.current,Vl(i)?Sy(i):(r=Qv(h,l,a),i.stateNode=r,fi(i))}return gt(i),null;case 5:if(za(i),a=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==l&&fi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return gt(i),null}if(r=we.current,Vl(i))Sy(i);else{switch(h=Ad(Ae.current),r){case 1:r=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:r=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":r=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":r=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":r=h.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?r.multiple=!0:l.size&&(r.size=l.size);break;default:r=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}r[Tt]=i,r[Wt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)r.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=r;e:switch(en(r,a,l),a){case"button":case"input":case"select":case"textarea":r=!!l.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&fi(i)}}return gt(i),i.flags&=-16777217,null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==l&&fi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(r=Ae.current,Vl(i)){if(r=i.stateNode,a=i.memoizedProps,l=null,h=vn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}r[Tt]=i,r=!!(r.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Hv(r.nodeValue,a)),r||ma(i)}else r=Ad(r).createTextNode(l),r[Tt]=i,i.stateNode=r}return gt(i),null;case 13:if(l=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=Vl(i),l!==null&&l.dehydrated!==null){if(r===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Tt]=i}else Ll(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;gt(i),h=!1}else h=Cy(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(di(i),i):(di(i),null)}if(di(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,r=r!==null&&r.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==h&&(l.flags|=2048)}return a!==r&&a&&(i.child.flags|=8192),fd(i,i.updateQueue),gt(i),null;case 4:return or(),r===null&&rp(i.stateNode.containerInfo),gt(i),null;case 10:return ci(i.type),gt(i),null;case 19:if(he(Bt),h=i.memoizedState,h===null)return gt(i),null;if(l=(i.flags&128)!==0,m=h.rendering,m===null)if(l)ec(h,!1);else{if(_t!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(m=ld(r),m!==null){for(i.flags|=128,ec(h,!1),r=m.updateQueue,i.updateQueue=r,fd(i,r),i.subtreeFlags=0,r=a,a=i.child;a!==null;)Ey(a,r),a=a.sibling;return ce(Bt,Bt.current&1|2),i.child}r=r.sibling}h.tail!==null&&_n()>gd&&(i.flags|=128,l=!0,ec(h,!1),i.lanes=4194304)}else{if(!l)if(r=ld(m),r!==null){if(i.flags|=128,l=!0,r=r.updateQueue,i.updateQueue=r,fd(i,r),ec(h,!0),h.tail===null&&h.tailMode==="hidden"&&!m.alternate&&!Ye)return gt(i),null}else 2*_n()-h.renderingStartTime>gd&&a!==536870912&&(i.flags|=128,l=!0,ec(h,!1),i.lanes=4194304);h.isBackwards?(m.sibling=i.child,i.child=m):(r=h.last,r!==null?r.sibling=m:i.child=m,h.last=m)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=_n(),i.sibling=null,r=Bt.current,ce(Bt,l?r&1|2:r&1),i):(gt(i),null);case 22:case 23:return di(i),sm(),l=i.memoizedState!==null,r!==null?r.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(gt(i),i.subtreeFlags&6&&(i.flags|=8192)):gt(i),a=i.updateQueue,a!==null&&fd(i,a.retryQueue),a=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),r!==null&&he(ya),null;case 24:return a=null,r!==null&&(a=r.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ci(Ut),gt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function QT(r,i){switch(Gf(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return ci(Ut),or(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return za(i),null;case 13:if(di(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ll()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return he(Bt),null;case 4:return or(),null;case 10:return ci(i.type),null;case 22:case 23:return di(i),sm(),r!==null&&he(ya),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return ci(Ut),null;case 25:return null;default:return null}}function X2(r,i){switch(Gf(i),i.tag){case 3:ci(Ut),or();break;case 26:case 27:case 5:za(i);break;case 4:or();break;case 13:di(i);break;case 19:he(Bt);break;case 10:ci(i.type);break;case 22:case 23:di(i),sm(),r!==null&&he(ya);break;case 24:ci(Ut)}}function tc(r,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&r)===r){l=void 0;var m=a.create,_=a.inst;l=m(),_.destroy=l}a=a.next}while(a!==h)}}catch(E){it(i,i.return,E)}}function ss(r,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var m=h.next;l=m;do{if((l.tag&r)===r){var _=l.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,h=i;var R=a,q=E;try{q()}catch(Z){it(h,R,Z)}}}l=l.next}while(l!==m)}}catch(Z){it(i,i.return,Z)}}function W2(r){var i=r.updateQueue;if(i!==null){var a=r.stateNode;try{Ly(i,a)}catch(l){it(r,r.return,l)}}}function Z2(r,i,a){a.props=wa(r.type,r.memoizedProps),a.state=r.memoizedState;try{a.componentWillUnmount()}catch(l){it(r,i,l)}}function nc(r,i){try{var a=r.ref;if(a!==null){switch(r.tag){case 26:case 27:case 5:var l=r.stateNode;break;case 30:l=r.stateNode;break;default:l=r.stateNode}typeof a=="function"?r.refCleanup=a(l):a.current=l}}catch(h){it(r,i,h)}}function Pr(r,i){var a=r.ref,l=r.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){it(r,i,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){it(r,i,h)}else a.current=null}function J2(r){var i=r.type,a=r.memoizedProps,l=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){it(r,r.return,h)}}function Dm(r,i,a){try{var l=r.stateNode;g4(l,r.type,a,i),l[Wt]=i}catch(h){it(r,r.return,h)}}function ev(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&fs(r.type)||r.tag===4}function Om(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||ev(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&fs(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Pm(r,i,a){var l=r.tag;if(l===5||l===6)r=r.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(r,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(r),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Sd));else if(l!==4&&(l===27&&fs(r.type)&&(a=r.stateNode,i=null),r=r.child,r!==null))for(Pm(r,i,a),r=r.sibling;r!==null;)Pm(r,i,a),r=r.sibling}function md(r,i,a){var l=r.tag;if(l===5||l===6)r=r.stateNode,i?a.insertBefore(r,i):a.appendChild(r);else if(l!==4&&(l===27&&fs(r.type)&&(a=r.stateNode),r=r.child,r!==null))for(md(r,i,a),r=r.sibling;r!==null;)md(r,i,a),r=r.sibling}function tv(r){var i=r.stateNode,a=r.memoizedProps;try{for(var l=r.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);en(i,l,a),i[Tt]=r,i[Wt]=a}catch(m){it(r,r.return,m)}}var mi=!1,Nt=!1,Mm=!1,nv=typeof WeakSet=="function"?WeakSet:Set,$t=null;function XT(r,i){if(r=r.containerInfo,ap=jd,r=fy(r),Of(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var _=0,E=-1,R=-1,q=0,Z=0,ne=r,F=null;t:for(;;){for(var $;ne!==a||h!==0&&ne.nodeType!==3||(E=_+h),ne!==m||l!==0&&ne.nodeType!==3||(R=_+l),ne.nodeType===3&&(_+=ne.nodeValue.length),($=ne.firstChild)!==null;)F=ne,ne=$;for(;;){if(ne===r)break t;if(F===a&&++q===h&&(E=_),F===m&&++Z===l&&(R=_),($=ne.nextSibling)!==null)break;ne=F,F=ne.parentNode}ne=$}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(op={focusedElem:r,selectionRange:a},jd=!1,$t=i;$t!==null;)if(i=$t,r=i.child,(i.subtreeFlags&1024)!==0&&r!==null)r.return=i,$t=r;else for(;$t!==null;){switch(i=$t,m=i.alternate,r=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&m!==null){r=void 0,a=i,h=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var Ce=wa(a.type,h,a.elementType===a.type);r=l.getSnapshotBeforeUpdate(Ce,m),l.__reactInternalSnapshotBeforeUpdate=r}catch(Ee){it(a,a.return,Ee)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,a=r.nodeType,a===9)up(r);else if(a===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":up(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=i.sibling,r!==null){r.return=i.return,$t=r;break}$t=i.return}}function rv(r,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:as(r,a),l&4&&tc(5,a);break;case 1:if(as(r,a),l&4)if(r=a.stateNode,i===null)try{r.componentDidMount()}catch(_){it(a,a.return,_)}else{var h=wa(a.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(h,i,r.__reactInternalSnapshotBeforeUpdate)}catch(_){it(a,a.return,_)}}l&64&&W2(a),l&512&&nc(a,a.return);break;case 3:if(as(r,a),l&64&&(r=a.updateQueue,r!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Ly(r,i)}catch(_){it(a,a.return,_)}}break;case 27:i===null&&l&4&&tv(a);case 26:case 5:as(r,a),i===null&&l&4&&J2(a),l&512&&nc(a,a.return);break;case 12:as(r,a);break;case 13:as(r,a),l&4&&av(r,a),l&64&&(r=a.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(a=s4.bind(null,a),E4(r,a))));break;case 22:if(l=a.memoizedState!==null||mi,!l){i=i!==null&&i.memoizedState!==null||Nt,h=mi;var m=Nt;mi=l,(Nt=i)&&!m?os(r,a,(a.subtreeFlags&8772)!==0):as(r,a),mi=h,Nt=m}break;case 30:break;default:as(r,a)}}function iv(r){var i=r.alternate;i!==null&&(r.alternate=null,iv(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&$a(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var mt=null,En=!1;function pi(r,i,a){for(a=a.child;a!==null;)sv(r,i,a),a=a.sibling}function sv(r,i,a){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(Mi,a)}catch{}switch(a.tag){case 26:Nt||Pr(a,i),pi(r,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Nt||Pr(a,i);var l=mt,h=En;fs(a.type)&&(mt=a.stateNode,En=!1),pi(r,i,a),dc(a.stateNode),mt=l,En=h;break;case 5:Nt||Pr(a,i);case 6:if(l=mt,h=En,mt=null,pi(r,i,a),mt=l,En=h,mt!==null)if(En)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(a.stateNode)}catch(m){it(a,i,m)}else try{mt.removeChild(a.stateNode)}catch(m){it(a,i,m)}break;case 18:mt!==null&&(En?(r=mt,Yv(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,a.stateNode),wc(r)):Yv(mt,a.stateNode));break;case 4:l=mt,h=En,mt=a.stateNode.containerInfo,En=!0,pi(r,i,a),mt=l,En=h;break;case 0:case 11:case 14:case 15:Nt||ss(2,a,i),Nt||ss(4,a,i),pi(r,i,a);break;case 1:Nt||(Pr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Z2(a,i,l)),pi(r,i,a);break;case 21:pi(r,i,a);break;case 22:Nt=(l=Nt)||a.memoizedState!==null,pi(r,i,a),Nt=l;break;default:pi(r,i,a)}}function av(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{wc(r)}catch(a){it(i,i.return,a)}}function WT(r){switch(r.tag){case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new nv),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new nv),i;default:throw Error(s(435,r.tag))}}function Vm(r,i){var a=WT(r);i.forEach(function(l){var h=a4.bind(null,r,l);a.has(l)||(a.add(l),l.then(h,h))})}function jn(r,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],m=r,_=i,E=_;e:for(;E!==null;){switch(E.tag){case 27:if(fs(E.type)){mt=E.stateNode,En=!1;break e}break;case 5:mt=E.stateNode,En=!1;break e;case 3:case 4:mt=E.stateNode.containerInfo,En=!0;break e}E=E.return}if(mt===null)throw Error(s(160));sv(m,_,h),mt=null,En=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)ov(i,r),i=i.sibling}var gr=null;function ov(r,i){var a=r.alternate,l=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:jn(i,r),Dn(r),l&4&&(ss(3,r,r.return),tc(3,r),ss(5,r,r.return));break;case 1:jn(i,r),Dn(r),l&512&&(Nt||a===null||Pr(a,a.return)),l&64&&mi&&(r=r.updateQueue,r!==null&&(l=r.callbacks,l!==null&&(a=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=gr;if(jn(i,r),Dn(r),l&512&&(Nt||a===null||Pr(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=r.memoizedState,a===null)if(l===null)if(r.stateNode===null){e:{l=r.type,a=r.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":m=h.getElementsByTagName("title")[0],(!m||m[Hi]||m[Tt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(l),h.head.insertBefore(m,h.querySelector("head > title"))),en(m,l,a),m[Tt]=r,St(m),l=m;break e;case"link":var _=tw("link","href",h).get(l+(a.href||""));if(_){for(var E=0;E<_.length;E++)if(m=_[E],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(E,1);break t}}m=h.createElement(l),en(m,l,a),h.head.appendChild(m);break;case"meta":if(_=tw("meta","content",h).get(l+(a.content||""))){for(E=0;E<_.length;E++)if(m=_[E],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(E,1);break t}}m=h.createElement(l),en(m,l,a),h.head.appendChild(m);break;default:throw Error(s(468,l))}m[Tt]=r,St(m),l=m}r.stateNode=l}else nw(h,r.type,r.stateNode);else r.stateNode=ew(h,l,r.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?nw(h,r.type,r.stateNode):ew(h,l,r.memoizedProps)):l===null&&r.stateNode!==null&&Dm(r,r.memoizedProps,a.memoizedProps)}break;case 27:jn(i,r),Dn(r),l&512&&(Nt||a===null||Pr(a,a.return)),a!==null&&l&4&&Dm(r,r.memoizedProps,a.memoizedProps);break;case 5:if(jn(i,r),Dn(r),l&512&&(Nt||a===null||Pr(a,a.return)),r.flags&32){h=r.stateNode;try{Yn(h,"")}catch($){it(r,r.return,$)}}l&4&&r.stateNode!=null&&(h=r.memoizedProps,Dm(r,h,a!==null?a.memoizedProps:h)),l&1024&&(Mm=!0);break;case 6:if(jn(i,r),Dn(r),l&4){if(r.stateNode===null)throw Error(s(162));l=r.memoizedProps,a=r.stateNode;try{a.nodeValue=l}catch($){it(r,r.return,$)}}break;case 3:if(Rd=null,h=gr,gr=Cd(i.containerInfo),jn(i,r),gr=h,Dn(r),l&4&&a!==null&&a.memoizedState.isDehydrated)try{wc(i.containerInfo)}catch($){it(r,r.return,$)}Mm&&(Mm=!1,lv(r));break;case 4:l=gr,gr=Cd(r.stateNode.containerInfo),jn(i,r),Dn(r),gr=l;break;case 12:jn(i,r),Dn(r);break;case 13:jn(i,r),Dn(r),r.child.flags&8192&&r.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(qm=_n()),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,Vm(r,l)));break;case 22:h=r.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,q=mi,Z=Nt;if(mi=q||h,Nt=Z||R,jn(i,r),Nt=Z,mi=q,Dn(r),l&8192)e:for(i=r.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||R||mi||Nt||ba(r)),a=null,i=r;;){if(i.tag===5||i.tag===26){if(a===null){R=a=i;try{if(m=R.stateNode,h)_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=R.stateNode;var ne=R.memoizedProps.style,F=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;E.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch($){it(R,R.return,$)}}}else if(i.tag===6){if(a===null){R=i;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch($){it(R,R.return,$)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=r.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Vm(r,a))));break;case 19:jn(i,r),Dn(r),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,Vm(r,l)));break;case 30:break;case 21:break;default:jn(i,r),Dn(r)}}function Dn(r){var i=r.flags;if(i&2){try{for(var a,l=r.return;l!==null;){if(ev(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,m=Om(r);md(r,m,h);break;case 5:var _=a.stateNode;a.flags&32&&(Yn(_,""),a.flags&=-33);var E=Om(r);md(r,E,_);break;case 3:case 4:var R=a.stateNode.containerInfo,q=Om(r);Pm(r,q,R);break;default:throw Error(s(161))}}catch(Z){it(r,r.return,Z)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function lv(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;lv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function as(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)rv(r,i.alternate,i),i=i.sibling}function ba(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:ss(4,i,i.return),ba(i);break;case 1:Pr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Z2(i,i.return,a),ba(i);break;case 27:dc(i.stateNode);case 26:case 5:Pr(i,i.return),ba(i);break;case 22:i.memoizedState===null&&ba(i);break;case 30:ba(i);break;default:ba(i)}r=r.sibling}}function os(r,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=r,m=i,_=m.flags;switch(m.tag){case 0:case 11:case 15:os(h,m,a),tc(4,m);break;case 1:if(os(h,m,a),l=m,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){it(l,l.return,q)}if(l=m,h=l.updateQueue,h!==null){var E=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Vy(R[h],E)}catch(q){it(l,l.return,q)}}a&&_&64&&W2(m),nc(m,m.return);break;case 27:tv(m);case 26:case 5:os(h,m,a),a&&l===null&&_&4&&J2(m),nc(m,m.return);break;case 12:os(h,m,a);break;case 13:os(h,m,a),a&&_&4&&av(h,m);break;case 22:m.memoizedState===null&&os(h,m,a),nc(m,m.return);break;case 30:break;default:os(h,m,a)}i=i.sibling}}function Lm(r,i){var a=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==a&&(r!=null&&r.refCount++,a!=null&&zl(a))}function Um(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&zl(r))}function Mr(r,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)cv(r,i,a,l),i=i.sibling}function cv(r,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Mr(r,i,a,l),h&2048&&tc(9,i);break;case 1:Mr(r,i,a,l);break;case 3:Mr(r,i,a,l),h&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&zl(r)));break;case 12:if(h&2048){Mr(r,i,a,l),r=i.stateNode;try{var m=i.memoizedProps,_=m.id,E=m.onPostCommit;typeof E=="function"&&E(_,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(R){it(i,i.return,R)}}else Mr(r,i,a,l);break;case 13:Mr(r,i,a,l);break;case 23:break;case 22:m=i.stateNode,_=i.alternate,i.memoizedState!==null?m._visibility&2?Mr(r,i,a,l):rc(r,i):m._visibility&2?Mr(r,i,a,l):(m._visibility|=2,bo(r,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Lm(_,i);break;case 24:Mr(r,i,a,l),h&2048&&Um(i.alternate,i);break;default:Mr(r,i,a,l)}}function bo(r,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=r,_=i,E=a,R=l,q=_.flags;switch(_.tag){case 0:case 11:case 15:bo(m,_,E,R,h),tc(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&2?bo(m,_,E,R,h):rc(m,_):(Z._visibility|=2,bo(m,_,E,R,h)),h&&q&2048&&Lm(_.alternate,_);break;case 24:bo(m,_,E,R,h),h&&q&2048&&Um(_.alternate,_);break;default:bo(m,_,E,R,h)}i=i.sibling}}function rc(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=r,l=i,h=l.flags;switch(l.tag){case 22:rc(a,l),h&2048&&Lm(l.alternate,l);break;case 24:rc(a,l),h&2048&&Um(l.alternate,l);break;default:rc(a,l)}i=i.sibling}}var ic=8192;function _o(r){if(r.subtreeFlags&ic)for(r=r.child;r!==null;)uv(r),r=r.sibling}function uv(r){switch(r.tag){case 26:_o(r),r.flags&ic&&r.memoizedState!==null&&M4(gr,r.memoizedState,r.memoizedProps);break;case 5:_o(r);break;case 3:case 4:var i=gr;gr=Cd(r.stateNode.containerInfo),_o(r),gr=i;break;case 22:r.memoizedState===null&&(i=r.alternate,i!==null&&i.memoizedState!==null?(i=ic,ic=16777216,_o(r),ic=i):_o(r));break;default:_o(r)}}function dv(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function sc(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];$t=l,fv(l,r)}dv(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)hv(r),r=r.sibling}function hv(r){switch(r.tag){case 0:case 11:case 15:sc(r),r.flags&2048&&ss(9,r,r.return);break;case 3:sc(r);break;case 12:sc(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,pd(r)):sc(r);break;default:sc(r)}}function pd(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];$t=l,fv(l,r)}dv(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:ss(8,i,i.return),pd(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,pd(i));break;default:pd(i)}r=r.sibling}}function fv(r,i){for(;$t!==null;){var a=$t;switch(a.tag){case 0:case 11:case 15:ss(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:zl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,$t=l;else e:for(a=r;$t!==null;){l=$t;var h=l.sibling,m=l.return;if(iv(l),l===a){$t=null;break e}if(h!==null){h.return=m,$t=h;break e}$t=m}}}var ZT={getCacheForType:function(r){var i=on(Ut),a=i.data.get(r);return a===void 0&&(a=r(),i.data.set(r,a)),a}},JT=typeof WeakMap=="function"?WeakMap:Map,We=0,at=null,Oe=null,ze=0,Ze=0,On=null,ls=!1,xo=!1,Bm=!1,gi=0,_t=0,cs=0,_a=0,zm=0,er=0,Eo=0,ac=null,Tn=null,Hm=!1,qm=0,gd=1/0,yd=null,us=null,Jt=0,ds=null,To=null,So=0,Fm=0,Gm=null,mv=null,oc=0,$m=null;function Pn(){if((We&2)!==0&&ze!==0)return ze&-ze;if(W.T!==null){var r=ho;return r!==0?r:Jm()}return Zr()}function pv(){er===0&&(er=(ze&536870912)===0||Ye?yl():536870912);var r=Jn.current;return r!==null&&(r.flags|=32),er}function Mn(r,i,a){(r===at&&(Ze===2||Ze===9)||r.cancelPendingCommit!==null)&&(Ao(r,0),hs(r,ze,er,!1)),Et(r,a),((We&2)===0||r!==at)&&(r===at&&((We&2)===0&&(_a|=a),_t===4&&hs(r,ze,er,!1)),Vr(r))}function gv(r,i,a){if((We&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&r.expiredLanes)===0||Li(r,i),h=l?n4(r,i):Qm(r,i,!0),m=l;do{if(h===0){xo&&!l&&hs(r,i,0,!1);break}else{if(a=r.current.alternate,m&&!e4(a)){h=Qm(r,i,!1),m=!1;continue}if(h===2){if(m=i,r.errorRecoveryDisabledLanes&m)var _=0;else _=r.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var E=r;h=ac;var R=E.current.memoizedState.isDehydrated;if(R&&(Ao(E,_).flags|=256),_=Qm(E,_,!1),_!==2){if(Bm&&!R){E.errorRecoveryDisabledLanes|=m,_a|=m,h=4;break e}m=Tn,Tn=h,m!==null&&(Tn===null?Tn=m:Tn.push.apply(Tn,m))}h=_}if(m=!1,h!==2)continue}}if(h===1){Ao(r,0),hs(r,i,0,!0);break}e:{switch(l=r,m=h,m){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:hs(l,i,er,!ls);break e;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=qm+300-_n(),10<h)){if(hs(l,i,er,!ls),Gn(l,0,!0)!==0)break e;l.timeoutHandle=Gv(yv.bind(null,l,a,Tn,yd,Hm,i,er,_a,Eo,ls,m,2,-0,0),h);break e}yv(l,a,Tn,yd,Hm,i,er,_a,Eo,ls,m,0,-0,0)}}break}while(!0);Vr(r)}function yv(r,i,a,l,h,m,_,E,R,q,Z,ne,F,$){if(r.timeoutHandle=-1,ne=i.subtreeFlags,(ne&8192||(ne&16785408)===16785408)&&(mc={stylesheets:null,count:0,unsuspend:P4},uv(i),ne=V4(),ne!==null)){r.cancelPendingCommit=ne(Tv.bind(null,r,i,m,a,l,h,_,E,R,Z,1,F,$)),hs(r,m,_,!q);return}Tv(r,i,m,a,l,h,_,E,R)}function e4(r){for(var i=r;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],m=h.getSnapshot;h=h.value;try{if(!In(m(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function hs(r,i,a,l){i&=~zm,i&=~_a,r.suspendedLanes|=i,r.pingedLanes&=~i,l&&(r.warmLanes|=i),l=r.expirationTimes;for(var h=i;0<h;){var m=31-mn(h),_=1<<m;l[m]=-1,h&=~_}a!==0&&Bi(r,a,i)}function vd(){return(We&6)===0?(lc(0),!1):!0}function Ym(){if(Oe!==null){if(Ze===0)var r=Oe.return;else r=Oe,li=pa=null,um(r),vo=null,Zl=0,r=Oe;for(;r!==null;)X2(r.alternate,r),r=r.return;Oe=null}}function Ao(r,i){var a=r.timeoutHandle;a!==-1&&(r.timeoutHandle=-1,v4(a)),a=r.cancelPendingCommit,a!==null&&(r.cancelPendingCommit=null,a()),Ym(),at=r,Oe=a=si(r.current,null),ze=i,Ze=0,On=null,ls=!1,xo=Li(r,i),Bm=!1,Eo=er=zm=_a=cs=_t=0,Tn=ac=null,Hm=!1,(i&8)!==0&&(i|=i&32);var l=r.entangledLanes;if(l!==0)for(r=r.entanglements,l&=i;0<l;){var h=31-mn(l),m=1<<h;i|=r[h],l&=~m}return gi=i,Bu(),a}function vv(r,i){je=null,W.H=sd,i===ql||i===Qu?(i=Py(),Ze=3):i===jy?(i=Py(),Ze=4):Ze=i===M2?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,On=i,Oe===null&&(_t=1,ud(r,Qn(i,r.current)))}function wv(){var r=W.H;return W.H=sd,r===null?sd:r}function bv(){var r=W.A;return W.A=ZT,r}function Km(){_t=4,ls||(ze&4194048)!==ze&&Jn.current!==null||(xo=!0),(cs&134217727)===0&&(_a&134217727)===0||at===null||hs(at,ze,er,!1)}function Qm(r,i,a){var l=We;We|=2;var h=wv(),m=bv();(at!==r||ze!==i)&&(yd=null,Ao(r,i)),i=!1;var _=_t;e:do try{if(Ze!==0&&Oe!==null){var E=Oe,R=On;switch(Ze){case 8:Ym(),_=6;break e;case 3:case 2:case 9:case 6:Jn.current===null&&(i=!0);var q=Ze;if(Ze=0,On=null,Co(r,E,R,q),a&&xo){_=0;break e}break;default:q=Ze,Ze=0,On=null,Co(r,E,R,q)}}t4(),_=_t;break}catch(Z){vv(r,Z)}while(!0);return i&&r.shellSuspendCounter++,li=pa=null,We=l,W.H=h,W.A=m,Oe===null&&(at=null,ze=0,Bu()),_}function t4(){for(;Oe!==null;)_v(Oe)}function n4(r,i){var a=We;We|=2;var l=wv(),h=bv();at!==r||ze!==i?(yd=null,gd=_n()+500,Ao(r,i)):xo=Li(r,i);e:do try{if(Ze!==0&&Oe!==null){i=Oe;var m=On;t:switch(Ze){case 1:Ze=0,On=null,Co(r,i,m,1);break;case 2:case 9:if(Dy(m)){Ze=0,On=null,xv(i);break}i=function(){Ze!==2&&Ze!==9||at!==r||(Ze=7),Vr(r)},m.then(i,i);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:Dy(m)?(Ze=0,On=null,xv(i)):(Ze=0,On=null,Co(r,i,m,7));break;case 5:var _=null;switch(Oe.tag){case 26:_=Oe.memoizedState;case 5:case 27:var E=Oe;if(!_||rw(_)){Ze=0,On=null;var R=E.sibling;if(R!==null)Oe=R;else{var q=E.return;q!==null?(Oe=q,wd(q)):Oe=null}break t}}Ze=0,On=null,Co(r,i,m,5);break;case 6:Ze=0,On=null,Co(r,i,m,6);break;case 8:Ym(),_t=6;break e;default:throw Error(s(462))}}r4();break}catch(Z){vv(r,Z)}while(!0);return li=pa=null,W.H=l,W.A=h,We=a,Oe!==null?0:(at=null,ze=0,Bu(),_t)}function r4(){for(;Oe!==null&&!Ef();)_v(Oe)}function _v(r){var i=K2(r.alternate,r,gi);r.memoizedProps=r.pendingProps,i===null?wd(r):Oe=i}function xv(r){var i=r,a=i.alternate;switch(i.tag){case 15:case 0:i=H2(a,i,i.pendingProps,i.type,void 0,ze);break;case 11:i=H2(a,i,i.pendingProps,i.type.render,i.ref,ze);break;case 5:um(i);default:X2(a,i),i=Oe=Ey(i,gi),i=K2(a,i,gi)}r.memoizedProps=r.pendingProps,i===null?wd(r):Oe=i}function Co(r,i,a,l){li=pa=null,um(i),vo=null,Zl=0;var h=i.return;try{if($T(r,h,i,a,ze)){_t=1,ud(r,Qn(a,r.current)),Oe=null;return}}catch(m){if(h!==null)throw Oe=h,m;_t=1,ud(r,Qn(a,r.current)),Oe=null;return}i.flags&32768?(Ye||l===1?r=!0:xo||(ze&536870912)!==0?r=!1:(ls=r=!0,(l===2||l===9||l===3||l===6)&&(l=Jn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ev(i,r)):wd(i)}function wd(r){var i=r;do{if((i.flags&32768)!==0){Ev(i,ls);return}r=i.return;var a=KT(i.alternate,i,gi);if(a!==null){Oe=a;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=r}while(i!==null);_t===0&&(_t=5)}function Ev(r,i){do{var a=QT(r.alternate,r);if(a!==null){a.flags&=32767,Oe=a;return}if(a=r.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(r=r.sibling,r!==null)){Oe=r;return}Oe=r=a}while(r!==null);_t=6,Oe=null}function Tv(r,i,a,l,h,m,_,E,R){r.cancelPendingCommit=null;do bd();while(Jt!==0);if((We&6)!==0)throw Error(s(327));if(i!==null){if(i===r.current)throw Error(s(177));if(m=i.lanes|i.childLanes,m|=Uf,Eu(r,a,m,_,E,R),r===at&&(Oe=at=null,ze=0),To=i,ds=r,So=a,Fm=m,Gm=h,mv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,o4(Wr,function(){return Rv(),null})):(r.callbackNode=null,r.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,h=ue.p,ue.p=2,_=We,We|=4;try{XT(r,i,a)}finally{We=_,ue.p=h,W.T=l}}Jt=1,Sv(),Av(),Cv()}}function Sv(){if(Jt===1){Jt=0;var r=ds,i=To,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var l=ue.p;ue.p=2;var h=We;We|=4;try{ov(i,r);var m=op,_=fy(r.containerInfo),E=m.focusedElem,R=m.selectionRange;if(_!==E&&E&&E.ownerDocument&&hy(E.ownerDocument.documentElement,E)){if(R!==null&&Of(E)){var q=R.start,Z=R.end;if(Z===void 0&&(Z=q),"selectionStart"in E)E.selectionStart=q,E.selectionEnd=Math.min(Z,E.value.length);else{var ne=E.ownerDocument||document,F=ne&&ne.defaultView||window;if(F.getSelection){var $=F.getSelection(),Ce=E.textContent.length,Ee=Math.min(R.start,Ce),rt=R.end===void 0?Ee:Math.min(R.end,Ce);!$.extend&&Ee>rt&&(_=rt,rt=Ee,Ee=_);var L=dy(E,Ee),P=dy(E,rt);if(L&&P&&($.rangeCount!==1||$.anchorNode!==L.node||$.anchorOffset!==L.offset||$.focusNode!==P.node||$.focusOffset!==P.offset)){var z=ne.createRange();z.setStart(L.node,L.offset),$.removeAllRanges(),Ee>rt?($.addRange(z),$.extend(P.node,P.offset)):(z.setEnd(P.node,P.offset),$.addRange(z))}}}}for(ne=[],$=E;$=$.parentNode;)$.nodeType===1&&ne.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<ne.length;E++){var ee=ne[E];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}jd=!!ap,op=ap=null}finally{We=h,ue.p=l,W.T=a}}r.current=i,Jt=2}}function Av(){if(Jt===2){Jt=0;var r=ds,i=To,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var l=ue.p;ue.p=2;var h=We;We|=4;try{rv(r,i.alternate,i)}finally{We=h,ue.p=l,W.T=a}}Jt=3}}function Cv(){if(Jt===4||Jt===3){Jt=0,pl();var r=ds,i=To,a=So,l=mv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Jt=5:(Jt=0,To=ds=null,Nv(r,r.pendingLanes));var h=r.pendingLanes;if(h===0&&(us=null),wl(a),i=i.stateNode,sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(Mi,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=W.T,h=ue.p,ue.p=2,W.T=null;try{for(var m=r.onRecoverableError,_=0;_<l.length;_++){var E=l[_];m(E.value,{componentStack:E.stack})}}finally{W.T=i,ue.p=h}}(So&3)!==0&&bd(),Vr(r),h=r.pendingLanes,(a&4194090)!==0&&(h&42)!==0?r===$m?oc++:(oc=0,$m=r):oc=0,lc(0)}}function Nv(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,zl(i)))}function bd(r){return Sv(),Av(),Cv(),Rv()}function Rv(){if(Jt!==5)return!1;var r=ds,i=Fm;Fm=0;var a=wl(So),l=W.T,h=ue.p;try{ue.p=32>a?32:a,W.T=null,a=Gm,Gm=null;var m=ds,_=So;if(Jt=0,To=ds=null,So=0,(We&6)!==0)throw Error(s(331));var E=We;if(We|=4,hv(m.current),cv(m,m.current,_,a),We=E,lc(0,!1),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(Mi,m)}catch{}return!0}finally{ue.p=h,W.T=l,Nv(r,i)}}function Iv(r,i,a){i=Qn(a,i),i=Tm(r.stateNode,i,2),r=ts(r,i,2),r!==null&&(Et(r,2),Vr(r))}function it(r,i,a){if(r.tag===3)Iv(r,r,a);else for(;i!==null;){if(i.tag===3){Iv(i,r,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(us===null||!us.has(l))){r=Qn(a,r),a=O2(2),l=ts(i,a,2),l!==null&&(P2(a,l,i,r),Et(l,2),Vr(l));break}}i=i.return}}function Xm(r,i,a){var l=r.pingCache;if(l===null){l=r.pingCache=new JT;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Bm=!0,h.add(a),r=i4.bind(null,r,i,a),i.then(r,r))}function i4(r,i,a){var l=r.pingCache;l!==null&&l.delete(i),r.pingedLanes|=r.suspendedLanes&a,r.warmLanes&=~a,at===r&&(ze&a)===a&&(_t===4||_t===3&&(ze&62914560)===ze&&300>_n()-qm?(We&2)===0&&Ao(r,0):zm|=a,Eo===ze&&(Eo=0)),Vr(r)}function kv(r,i){i===0&&(i=Ui()),r=oo(r,i),r!==null&&(Et(r,i),Vr(r))}function s4(r){var i=r.memoizedState,a=0;i!==null&&(a=i.retryLane),kv(r,a)}function a4(r,i){var a=0;switch(r.tag){case 13:var l=r.stateNode,h=r.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=r.stateNode;break;case 22:l=r.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),kv(r,a)}function o4(r,i){return Bs(r,i)}var _d=null,No=null,Wm=!1,xd=!1,Zm=!1,xa=0;function Vr(r){r!==No&&r.next===null&&(No===null?_d=No=r:No=No.next=r),xd=!0,Wm||(Wm=!0,c4())}function lc(r,i){if(!Zm&&xd){Zm=!0;do for(var a=!1,l=_d;l!==null;){if(r!==0){var h=l.pendingLanes;if(h===0)var m=0;else{var _=l.suspendedLanes,E=l.pingedLanes;m=(1<<31-mn(42|r)+1)-1,m&=h&~(_&~E),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,Pv(l,m))}else m=ze,m=Gn(l,l===at?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Li(l,m)||(a=!0,Pv(l,m));l=l.next}while(a);Zm=!1}}function l4(){jv()}function jv(){xd=Wm=!1;var r=0;xa!==0&&(y4()&&(r=xa),xa=0);for(var i=_n(),a=null,l=_d;l!==null;){var h=l.next,m=Dv(l,i);m===0?(l.next=null,a===null?_d=h:a.next=h,h===null&&(No=a)):(a=l,(r!==0||(m&3)!==0)&&(xd=!0)),l=h}lc(r)}function Dv(r,i){for(var a=r.suspendedLanes,l=r.pingedLanes,h=r.expirationTimes,m=r.pendingLanes&-62914561;0<m;){var _=31-mn(m),E=1<<_,R=h[_];R===-1?((E&a)===0||(E&l)!==0)&&(h[_]=Fa(E,i)):R<=i&&(r.expiredLanes|=E),m&=~E}if(i=at,a=ze,a=Gn(r,r===i?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),l=r.callbackNode,a===0||r===i&&(Ze===2||Ze===9)||r.cancelPendingCommit!==null)return l!==null&&l!==null&&qa(l),r.callbackNode=null,r.callbackPriority=0;if((a&3)===0||Li(r,a)){if(i=a&-a,i===r.callbackPriority)return i;switch(l!==null&&qa(l),wl(a)){case 2:case 8:a=qt;break;case 32:a=Wr;break;case 268435456:a=gl;break;default:a=Wr}return l=Ov.bind(null,r),a=Bs(a,l),r.callbackPriority=i,r.callbackNode=a,i}return l!==null&&l!==null&&qa(l),r.callbackPriority=2,r.callbackNode=null,2}function Ov(r,i){if(Jt!==0&&Jt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var a=r.callbackNode;if(bd()&&r.callbackNode!==a)return null;var l=ze;return l=Gn(r,r===at?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),l===0?null:(gv(r,l,i),Dv(r,_n()),r.callbackNode!=null&&r.callbackNode===a?Ov.bind(null,r):null)}function Pv(r,i){if(bd())return null;gv(r,i,!0)}function c4(){w4(function(){(We&6)!==0?Bs(Vt,l4):jv()})}function Jm(){return xa===0&&(xa=yl()),xa}function Mv(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:dr(""+r)}function Vv(r,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,r.id&&a.setAttribute("form",r.id),i.parentNode.insertBefore(a,i),r=new FormData(r),a.parentNode.removeChild(a),r}function u4(r,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var m=Mv((h[Wt]||null).action),_=l.submitter;_&&(i=(i=_[Wt]||null)?Mv(i.formAction):_.getAttribute("formAction"),i!==null&&(m=i,_=null));var E=new ta("action","action",null,l,h);r.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(xa!==0){var R=_?Vv(h,_):new FormData(h);wm(a,{pending:!0,data:R,method:h.method,action:m},null,R)}}else typeof m=="function"&&(E.preventDefault(),R=_?Vv(h,_):new FormData(h),wm(a,{pending:!0,data:R,method:h.method,action:m},m,R))},currentTarget:h}]})}}for(var ep=0;ep<Lf.length;ep++){var tp=Lf[ep],d4=tp.toLowerCase(),h4=tp[0].toUpperCase()+tp.slice(1);pr(d4,"on"+h4)}pr(gy,"onAnimationEnd"),pr(yy,"onAnimationIteration"),pr(vy,"onAnimationStart"),pr("dblclick","onDoubleClick"),pr("focusin","onFocus"),pr("focusout","onBlur"),pr(RT,"onTransitionRun"),pr(IT,"onTransitionStart"),pr(kT,"onTransitionCancel"),pr(wy,"onTransitionEnd"),Rr("onMouseEnter",["mouseout","mouseover"]),Rr("onMouseLeave",["mouseout","mouseover"]),Rr("onPointerEnter",["pointerout","pointerover"]),Rr("onPointerLeave",["pointerout","pointerover"]),Nr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cc));function Lv(r,i){i=(i&4)!==0;for(var a=0;a<r.length;a++){var l=r[a],h=l.event;l=l.listeners;e:{var m=void 0;if(i)for(var _=l.length-1;0<=_;_--){var E=l[_],R=E.instance,q=E.currentTarget;if(E=E.listener,R!==m&&h.isPropagationStopped())break e;m=E,h.currentTarget=q;try{m(h)}catch(Z){cd(Z)}h.currentTarget=null,m=R}else for(_=0;_<l.length;_++){if(E=l[_],R=E.instance,q=E.currentTarget,E=E.listener,R!==m&&h.isPropagationStopped())break e;m=E,h.currentTarget=q;try{m(h)}catch(Z){cd(Z)}h.currentTarget=null,m=R}}}}function Pe(r,i){var a=i[Hs];a===void 0&&(a=i[Hs]=new Set);var l=r+"__bubble";a.has(l)||(Uv(i,r,2,!1),a.add(l))}function np(r,i,a){var l=0;i&&(l|=4),Uv(a,r,l,i)}var Ed="_reactListening"+Math.random().toString(36).slice(2);function rp(r){if(!r[Ed]){r[Ed]=!0,Tu.forEach(function(a){a!=="selectionchange"&&(f4.has(a)||np(a,!1,r),np(a,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Ed]||(i[Ed]=!0,np("selectionchange",!1,i))}}function Uv(r,i,a,l){switch(cw(i)){case 2:var h=B4;break;case 8:h=z4;break;default:h=yp}a=h.bind(null,i,a,r),h=void 0,!ri||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?r.addEventListener(i,a,{capture:!0,passive:h}):r.addEventListener(i,a,!0):h!==void 0?r.addEventListener(i,a,{passive:h}):r.addEventListener(i,a,!1)}function ip(r,i,a,l,h){var m=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var E=l.stateNode.containerInfo;if(E===h)break;if(_===4)for(_=l.return;_!==null;){var R=_.tag;if((R===3||R===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;E!==null;){if(_=Ar(E),_===null)return;if(R=_.tag,R===5||R===6||R===26||R===27){l=m=_;continue e}E=E.parentNode}}l=l.return}Zs(function(){var q=m,Z=Al(a),ne=[];e:{var F=by.get(r);if(F!==void 0){var $=ta,Ce=r;switch(r){case"keypress":if(Js(a)===0)break e;case"keydown":case"keyup":$=ro;break;case"focusin":Ce="focus",$=eo;break;case"focusout":Ce="blur",$=eo;break;case"beforeblur":case"afterblur":$=eo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=aa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=ku;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=Wi;break;case gy:case yy:case vy:$=Nl;break;case wy:$=v;break;case"scroll":case"scrollend":$=ra;break;case"wheel":$=S;break;case"copy":case"cut":case"paste":$=Du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=kl;break;case"toggle":case"beforetoggle":$=Y}var Ee=(i&4)!==0,rt=!Ee&&(r==="scroll"||r==="scrollend"),L=Ee?F!==null?F+"Capture":null:F;Ee=[];for(var P=q,z;P!==null;){var ee=P;if(z=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||z===null||L===null||(ee=Qi(P,L),ee!=null&&Ee.push(uc(P,ee,z))),rt)break;P=P.return}0<Ee.length&&(F=new $(F,Ce,null,a,Z),ne.push({event:F,listeners:Ee}))}}if((i&7)===0){e:{if(F=r==="mouseover"||r==="pointerover",$=r==="mouseout"||r==="pointerout",F&&a!==Sl&&(Ce=a.relatedTarget||a.fromElement)&&(Ar(Ce)||Ce[Jr]))break e;if(($||F)&&(F=Z.window===Z?Z:(F=Z.ownerDocument)?F.defaultView||F.parentWindow:window,$?(Ce=a.relatedTarget||a.toElement,$=q,Ce=Ce?Ar(Ce):null,Ce!==null&&(rt=c(Ce),Ee=Ce.tag,Ce!==rt||Ee!==5&&Ee!==27&&Ee!==6)&&(Ce=null)):($=null,Ce=q),$!==Ce)){if(Ee=aa,ee="onMouseLeave",L="onMouseEnter",P="mouse",(r==="pointerout"||r==="pointerover")&&(Ee=kl,ee="onPointerLeave",L="onPointerEnter",P="pointer"),rt=$==null?F:qi($),z=Ce==null?F:qi(Ce),F=new Ee(ee,P+"leave",$,a,Z),F.target=rt,F.relatedTarget=z,ee=null,Ar(Z)===q&&(Ee=new Ee(L,P+"enter",Ce,a,Z),Ee.target=z,Ee.relatedTarget=rt,ee=Ee),rt=ee,$&&Ce)t:{for(Ee=$,L=Ce,P=0,z=Ee;z;z=Ro(z))P++;for(z=0,ee=L;ee;ee=Ro(ee))z++;for(;0<P-z;)Ee=Ro(Ee),P--;for(;0<z-P;)L=Ro(L),z--;for(;P--;){if(Ee===L||L!==null&&Ee===L.alternate)break t;Ee=Ro(Ee),L=Ro(L)}Ee=null}else Ee=null;$!==null&&Bv(ne,F,$,Ee,!1),Ce!==null&&rt!==null&&Bv(ne,rt,Ce,Ee,!0)}}e:{if(F=q?qi(q):window,$=F.nodeName&&F.nodeName.toLowerCase(),$==="select"||$==="input"&&F.type==="file")var me=sy;else if(ry(F))if(ay)me=AT;else{me=TT;var De=ET}else $=F.nodeName,!$||$.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?q&&Wa(q.elementType)&&(me=sy):me=ST;if(me&&(me=me(r,q))){iy(ne,me,a,Z);break e}De&&De(r,F,q),r==="focusout"&&q&&F.type==="number"&&q.memoizedProps.value!=null&&xl(F,"number",F.value)}switch(De=q?qi(q):window,r){case"focusin":(ry(De)||De.contentEditable==="true")&&(io=De,Pf=q,Ml=null);break;case"focusout":Ml=Pf=io=null;break;case"mousedown":Mf=!0;break;case"contextmenu":case"mouseup":case"dragend":Mf=!1,my(ne,a,Z);break;case"selectionchange":if(NT)break;case"keydown":case"keyup":my(ne,a,Z)}var ye;if(Re)e:{switch(r){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else mr?hr(r,a)&&(Te="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(At&&a.locale!=="ko"&&(mr||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&mr&&(ye=Iu()):(Kn=Z,st="value"in Kn?Kn.value:Kn.textContent,mr=!0)),De=Td(q,Te),0<De.length&&(Te=new Il(Te,r,null,a,Z),ne.push({event:Te,listeners:De}),ye?Te.data=ye:(ye=fr(a),ye!==null&&(Te.data=ye)))),(ye=Xe?jl(r,a):bT(r,a))&&(Te=Td(q,"onBeforeInput"),0<Te.length&&(De=new Il("onBeforeInput","beforeinput",null,a,Z),ne.push({event:De,listeners:Te}),De.data=ye)),u4(ne,r,q,a,Z)}Lv(ne,i)})}function uc(r,i,a){return{instance:r,listener:i,currentTarget:a}}function Td(r,i){for(var a=i+"Capture",l=[];r!==null;){var h=r,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=Qi(r,a),h!=null&&l.unshift(uc(r,h,m)),h=Qi(r,i),h!=null&&l.push(uc(r,h,m))),r.tag===3)return l;r=r.return}return[]}function Ro(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Bv(r,i,a,l,h){for(var m=i._reactName,_=[];a!==null&&a!==l;){var E=a,R=E.alternate,q=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||q===null||(R=q,h?(q=Qi(a,m),q!=null&&_.unshift(uc(a,q,R))):h||(q=Qi(a,m),q!=null&&_.push(uc(a,q,R)))),a=a.return}_.length!==0&&r.push({event:i,listeners:_})}var m4=/\r\n?/g,p4=/\u0000|\uFFFD/g;function zv(r){return(typeof r=="string"?r:""+r).replace(m4,`
`).replace(p4,"")}function Hv(r,i){return i=zv(i),zv(r)===i}function Sd(){}function nt(r,i,a,l,h,m){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Yn(r,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Yn(r,""+l);break;case"className":Ys(r,"class",l);break;case"tabIndex":Ys(r,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ys(r,a,l);break;case"style":Tl(r,l,m);break;case"data":if(i!=="object"){Ys(r,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){r.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){r.removeAttribute(a);break}l=dr(""+l),r.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){r.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(i!=="input"&&nt(r,i,"name",h.name,h,null),nt(r,i,"formEncType",h.formEncType,h,null),nt(r,i,"formMethod",h.formMethod,h,null),nt(r,i,"formTarget",h.formTarget,h,null)):(nt(r,i,"encType",h.encType,h,null),nt(r,i,"method",h.method,h,null),nt(r,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){r.removeAttribute(a);break}l=dr(""+l),r.setAttribute(a,l);break;case"onClick":l!=null&&(r.onclick=Sd);break;case"onScroll":l!=null&&Pe("scroll",r);break;case"onScrollEnd":l!=null&&Pe("scrollend",r);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));r.innerHTML=a}}break;case"multiple":r.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":r.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){r.removeAttribute("xlink:href");break}a=dr(""+l),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(a,""+l):r.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(a,""):r.removeAttribute(a);break;case"capture":case"download":l===!0?r.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(a,l):r.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?r.setAttribute(a,l):r.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?r.removeAttribute(a):r.setAttribute(a,l);break;case"popover":Pe("beforetoggle",r),Pe("toggle",r),$s(r,"popover",l);break;case"xlinkActuate":$n(r,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":$n(r,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":$n(r,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":$n(r,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":$n(r,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":$n(r,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":$n(r,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":$n(r,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":$n(r,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":$s(r,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Cu.get(a)||a,$s(r,a,l))}}function sp(r,i,a,l,h,m){switch(a){case"style":Tl(r,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));r.innerHTML=a}}break;case"children":typeof l=="string"?Yn(r,l):(typeof l=="number"||typeof l=="bigint")&&Yn(r,""+l);break;case"onScroll":l!=null&&Pe("scroll",r);break;case"onScrollEnd":l!=null&&Pe("scrollend",r);break;case"onClick":l!=null&&(r.onclick=Sd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fs.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),m=r[Wt]||null,m=m!=null?m[a]:null,typeof m=="function"&&r.removeEventListener(i,m,h),typeof l=="function")){typeof m!="function"&&m!==null&&(a in r?r[a]=null:r.hasAttribute(a)&&r.removeAttribute(a)),r.addEventListener(i,l,h);break e}a in r?r[a]=l:l===!0?r.setAttribute(a,""):$s(r,a,l)}}}function en(r,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",r),Pe("load",r);var l=!1,h=!1,m;for(m in a)if(a.hasOwnProperty(m)){var _=a[m];if(_!=null)switch(m){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:nt(r,i,m,_,a,null)}}h&&nt(r,i,"srcSet",a.srcSet,a,null),l&&nt(r,i,"src",a.src,a,null);return;case"input":Pe("invalid",r);var E=m=_=h=null,R=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":h=Z;break;case"type":_=Z;break;case"checked":R=Z;break;case"defaultChecked":q=Z;break;case"value":m=Z;break;case"defaultValue":E=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,i));break;default:nt(r,i,l,Z,a,null)}}_l(r,m,E,R,q,_,h,!1),$i(r);return;case"select":Pe("invalid",r),l=_=m=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":m=E;break;case"defaultValue":_=E;break;case"multiple":l=E;default:nt(r,i,h,E,a,null)}i=m,a=_,r.multiple=!!l,i!=null?Yi(r,!!l,i,!1):a!=null&&Yi(r,!!l,a,!0);return;case"textarea":Pe("invalid",r),m=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(E=a[_],E!=null))switch(_){case"value":l=E;break;case"defaultValue":h=E;break;case"children":m=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:nt(r,i,_,E,a,null)}Au(r,l,h,m),$i(r);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":r.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:nt(r,i,R,l,a,null)}return;case"dialog":Pe("beforetoggle",r),Pe("toggle",r),Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":Pe("load",r);break;case"video":case"audio":for(l=0;l<cc.length;l++)Pe(cc[l],r);break;case"image":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"embed":case"source":case"link":Pe("error",r),Pe("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:nt(r,i,q,l,a,null)}return;default:if(Wa(i)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&sp(r,i,Z,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&nt(r,i,E,l,a,null))}function g4(r,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,_=null,E=null,R=null,q=null,Z=null;for($ in a){var ne=a[$];if(a.hasOwnProperty($)&&ne!=null)switch($){case"checked":break;case"value":break;case"defaultValue":R=ne;default:l.hasOwnProperty($)||nt(r,i,$,null,l,ne)}}for(var F in l){var $=l[F];if(ne=a[F],l.hasOwnProperty(F)&&($!=null||ne!=null))switch(F){case"type":m=$;break;case"name":h=$;break;case"checked":q=$;break;case"defaultChecked":Z=$;break;case"value":_=$;break;case"defaultValue":E=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:$!==ne&&nt(r,i,F,$,l,ne)}}bl(r,_,E,R,q,Z,m,h);return;case"select":$=_=E=F=null;for(m in a)if(R=a[m],a.hasOwnProperty(m)&&R!=null)switch(m){case"value":break;case"multiple":$=R;default:l.hasOwnProperty(m)||nt(r,i,m,null,l,R)}for(h in l)if(m=l[h],R=a[h],l.hasOwnProperty(h)&&(m!=null||R!=null))switch(h){case"value":F=m;break;case"defaultValue":E=m;break;case"multiple":_=m;default:m!==R&&nt(r,i,h,m,l,R)}i=E,a=_,l=$,F!=null?Yi(r,!!a,F,!1):!!l!=!!a&&(i!=null?Yi(r,!!a,i,!0):Yi(r,!!a,a?[]:"",!1));return;case"textarea":$=F=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:nt(r,i,E,null,l,h)}for(_ in l)if(h=l[_],m=a[_],l.hasOwnProperty(_)&&(h!=null||m!=null))switch(_){case"value":F=h;break;case"defaultValue":$=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==m&&nt(r,i,_,h,l,m)}Su(r,F,$);return;case"option":for(var Ce in a)if(F=a[Ce],a.hasOwnProperty(Ce)&&F!=null&&!l.hasOwnProperty(Ce))switch(Ce){case"selected":r.selected=!1;break;default:nt(r,i,Ce,null,l,F)}for(R in l)if(F=l[R],$=a[R],l.hasOwnProperty(R)&&F!==$&&(F!=null||$!=null))switch(R){case"selected":r.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:nt(r,i,R,F,l,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)F=a[Ee],a.hasOwnProperty(Ee)&&F!=null&&!l.hasOwnProperty(Ee)&&nt(r,i,Ee,null,l,F);for(q in l)if(F=l[q],$=a[q],l.hasOwnProperty(q)&&F!==$&&(F!=null||$!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:nt(r,i,q,F,l,$)}return;default:if(Wa(i)){for(var rt in a)F=a[rt],a.hasOwnProperty(rt)&&F!==void 0&&!l.hasOwnProperty(rt)&&sp(r,i,rt,void 0,l,F);for(Z in l)F=l[Z],$=a[Z],!l.hasOwnProperty(Z)||F===$||F===void 0&&$===void 0||sp(r,i,Z,F,l,$);return}}for(var L in a)F=a[L],a.hasOwnProperty(L)&&F!=null&&!l.hasOwnProperty(L)&&nt(r,i,L,null,l,F);for(ne in l)F=l[ne],$=a[ne],!l.hasOwnProperty(ne)||F===$||F==null&&$==null||nt(r,i,ne,F,l,$)}var ap=null,op=null;function Ad(r){return r.nodeType===9?r:r.ownerDocument}function qv(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fv(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function lp(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var cp=null;function y4(){var r=window.event;return r&&r.type==="popstate"?r===cp?!1:(cp=r,!0):(cp=null,!1)}var Gv=typeof setTimeout=="function"?setTimeout:void 0,v4=typeof clearTimeout=="function"?clearTimeout:void 0,$v=typeof Promise=="function"?Promise:void 0,w4=typeof queueMicrotask=="function"?queueMicrotask:typeof $v<"u"?function(r){return $v.resolve(null).then(r).catch(b4)}:Gv;function b4(r){setTimeout(function(){throw r})}function fs(r){return r==="head"}function Yv(r,i){var a=i,l=0,h=0;do{var m=a.nextSibling;if(r.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var _=r.ownerDocument;if(a&1&&dc(_.documentElement),a&2&&dc(_.body),a&4)for(a=_.head,dc(a),_=a.firstChild;_;){var E=_.nextSibling,R=_.nodeName;_[Hi]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=E}}if(h===0){r.removeChild(m),wc(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);wc(i)}function up(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":up(a),$a(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}r.removeChild(a)}}function _4(r,i,a,l){for(;r.nodeType===1;){var h=a;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(l){if(!r[Hi])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(m=r.getAttribute("rel"),m==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(m!==h.rel||r.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(m=r.getAttribute("src"),(m!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===m)return r}else return r;if(r=yr(r.nextSibling),r===null)break}return null}function x4(r,i,a){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=yr(r.nextSibling),r===null))return null;return r}function dp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function E4(r,i){var a=r.ownerDocument;if(r.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),r._reactRetry=l}}function yr(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return r}var hp=null;function Kv(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return r;i--}else a==="/$"&&i++}r=r.previousSibling}return null}function Qv(r,i,a){switch(i=Ad(a),r){case"html":if(r=i.documentElement,!r)throw Error(s(452));return r;case"head":if(r=i.head,!r)throw Error(s(453));return r;case"body":if(r=i.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function dc(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);$a(r)}var tr=new Map,Xv=new Set;function Cd(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var yi=ue.d;ue.d={f:T4,r:S4,D:A4,C:C4,L:N4,m:R4,X:k4,S:I4,M:j4};function T4(){var r=yi.f(),i=vd();return r||i}function S4(r){var i=Cr(r);i!==null&&i.tag===5&&i.type==="form"?g2(i):yi.r(r)}var Io=typeof document>"u"?null:document;function Wv(r,i,a){var l=Io;if(l&&typeof i=="string"&&i){var h=Ft(i);h='link[rel="'+r+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Xv.has(h)||(Xv.add(h),r={rel:r,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),en(i,"link",r),St(i),l.head.appendChild(i)))}}function A4(r){yi.D(r),Wv("dns-prefetch",r,null)}function C4(r,i){yi.C(r,i),Wv("preconnect",r,i)}function N4(r,i,a){yi.L(r,i,a);var l=Io;if(l&&r&&i){var h='link[rel="preload"][as="'+Ft(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Ft(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Ft(a.imageSizes)+'"]')):h+='[href="'+Ft(r)+'"]';var m=h;switch(i){case"style":m=ko(r);break;case"script":m=jo(r)}tr.has(m)||(r=w({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:r,as:i},a),tr.set(m,r),l.querySelector(h)!==null||i==="style"&&l.querySelector(hc(m))||i==="script"&&l.querySelector(fc(m))||(i=l.createElement("link"),en(i,"link",r),St(i),l.head.appendChild(i)))}}function R4(r,i){yi.m(r,i);var a=Io;if(a&&r){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Ft(l)+'"][href="'+Ft(r)+'"]',m=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=jo(r)}if(!tr.has(m)&&(r=w({rel:"modulepreload",href:r},i),tr.set(m,r),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(fc(m)))return}l=a.createElement("link"),en(l,"link",r),St(l),a.head.appendChild(l)}}}function I4(r,i,a){yi.S(r,i,a);var l=Io;if(l&&r){var h=Fi(l).hoistableStyles,m=ko(r);i=i||"default";var _=h.get(m);if(!_){var E={loading:0,preload:null};if(_=l.querySelector(hc(m)))E.loading=5;else{r=w({rel:"stylesheet",href:r,"data-precedence":i},a),(a=tr.get(m))&&fp(r,a);var R=_=l.createElement("link");St(R),en(R,"link",r),R._p=new Promise(function(q,Z){R.onload=q,R.onerror=Z}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Nd(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:E},h.set(m,_)}}}function k4(r,i){yi.X(r,i);var a=Io;if(a&&r){var l=Fi(a).hoistableScripts,h=jo(r),m=l.get(h);m||(m=a.querySelector(fc(h)),m||(r=w({src:r,async:!0},i),(i=tr.get(h))&&mp(r,i),m=a.createElement("script"),St(m),en(m,"link",r),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function j4(r,i){yi.M(r,i);var a=Io;if(a&&r){var l=Fi(a).hoistableScripts,h=jo(r),m=l.get(h);m||(m=a.querySelector(fc(h)),m||(r=w({src:r,async:!0,type:"module"},i),(i=tr.get(h))&&mp(r,i),m=a.createElement("script"),St(m),en(m,"link",r),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function Zv(r,i,a,l){var h=(h=Ae.current)?Cd(h):null;if(!h)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ko(a.href),a=Fi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){r=ko(a.href);var m=Fi(h).hoistableStyles,_=m.get(r);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(r,_),(m=h.querySelector(hc(r)))&&!m._p&&(_.instance=m,_.state.loading=5),tr.has(r)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},tr.set(r,a),m||D4(h,r,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=jo(a),a=Fi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function ko(r){return'href="'+Ft(r)+'"'}function hc(r){return'link[rel="stylesheet"]['+r+"]"}function Jv(r){return w({},r,{"data-precedence":r.precedence,precedence:null})}function D4(r,i,a,l){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=r.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),en(i,"link",a),St(i),r.head.appendChild(i))}function jo(r){return'[src="'+Ft(r)+'"]'}function fc(r){return"script[async]"+r}function ew(r,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=r.querySelector('style[data-href~="'+Ft(a.href)+'"]');if(l)return i.instance=l,St(l),l;var h=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(r.ownerDocument||r).createElement("style"),St(l),en(l,"style",h),Nd(l,a.precedence,r),i.instance=l;case"stylesheet":h=ko(a.href);var m=r.querySelector(hc(h));if(m)return i.state.loading|=4,i.instance=m,St(m),m;l=Jv(a),(h=tr.get(h))&&fp(l,h),m=(r.ownerDocument||r).createElement("link"),St(m);var _=m;return _._p=new Promise(function(E,R){_.onload=E,_.onerror=R}),en(m,"link",l),i.state.loading|=4,Nd(m,a.precedence,r),i.instance=m;case"script":return m=jo(a.src),(h=r.querySelector(fc(m)))?(i.instance=h,St(h),h):(l=a,(h=tr.get(m))&&(l=w({},a),mp(l,h)),r=r.ownerDocument||r,h=r.createElement("script"),St(h),en(h,"link",l),r.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Nd(l,a.precedence,r));return i.instance}function Nd(r,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,m=h,_=0;_<l.length;_++){var E=l[_];if(E.dataset.precedence===i)m=E;else if(m!==h)break}m?m.parentNode.insertBefore(r,m.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(r,i.firstChild))}function fp(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function mp(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var Rd=null;function tw(r,i,a){if(Rd===null){var l=new Map,h=Rd=new Map;h.set(a,l)}else h=Rd,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(r))return l;for(l.set(r,null),a=a.getElementsByTagName(r),h=0;h<a.length;h++){var m=a[h];if(!(m[Hi]||m[Tt]||r==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(i)||"";_=r+_;var E=l.get(_);E?E.push(m):l.set(_,[m])}}return l}function nw(r,i,a){r=r.ownerDocument||r,r.head.insertBefore(a,i==="title"?r.querySelector("head > title"):null)}function O4(r,i,a){if(a===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function rw(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var mc=null;function P4(){}function M4(r,i,a){if(mc===null)throw Error(s(475));var l=mc;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=ko(a.href),m=r.querySelector(hc(h));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(l.count++,l=Id.bind(l),r.then(l,l)),i.state.loading|=4,i.instance=m,St(m);return}m=r.ownerDocument||r,a=Jv(a),(h=tr.get(h))&&fp(a,h),m=m.createElement("link"),St(m);var _=m;_._p=new Promise(function(E,R){_.onload=E,_.onerror=R}),en(m,"link",a),i.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,r),(r=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Id.bind(l),r.addEventListener("load",i),r.addEventListener("error",i))}}function V4(){if(mc===null)throw Error(s(475));var r=mc;return r.stylesheets&&r.count===0&&pp(r,r.stylesheets),0<r.count?function(i){var a=setTimeout(function(){if(r.stylesheets&&pp(r,r.stylesheets),r.unsuspend){var l=r.unsuspend;r.unsuspend=null,l()}},6e4);return r.unsuspend=i,function(){r.unsuspend=null,clearTimeout(a)}}:null}function Id(){if(this.count--,this.count===0){if(this.stylesheets)pp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var kd=null;function pp(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,kd=new Map,i.forEach(L4,r),kd=null,Id.call(r))}function L4(r,i){if(!(i.state.loading&4)){var a=kd.get(r);if(a)var l=a.get(null);else{a=new Map,kd.set(r,a);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var _=h[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),m=a.get(_)||l,m===l&&a.set(null,h),a.set(_,h),this.count++,l=Id.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),m?m.parentNode.insertBefore(h,m.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),i.state.loading|=4}}var pc={$$typeof:X,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function U4(r,i,a,l,h,m,_,E){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ga(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ga(0),this.hiddenUpdates=Ga(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function iw(r,i,a,l,h,m,_,E,R,q,Z,ne){return r=new U4(r,i,a,_,E,R,q,ne),i=1,m===!0&&(i|=24),m=kn(3,null,null,i),r.current=m,m.stateNode=r,i=Xf(),i.refCount++,r.pooledCache=i,i.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:i},em(m),r}function sw(r){return r?(r=lo,r):lo}function aw(r,i,a,l,h,m){h=sw(h),l.context===null?l.context=h:l.pendingContext=h,l=es(i),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=ts(r,l,i),a!==null&&(Mn(a,r,i),Gl(a,r,i))}function ow(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<i?a:i}}function gp(r,i){ow(r,i),(r=r.alternate)&&ow(r,i)}function lw(r){if(r.tag===13){var i=oo(r,67108864);i!==null&&Mn(i,r,67108864),gp(r,67108864)}}var jd=!0;function B4(r,i,a,l){var h=W.T;W.T=null;var m=ue.p;try{ue.p=2,yp(r,i,a,l)}finally{ue.p=m,W.T=h}}function z4(r,i,a,l){var h=W.T;W.T=null;var m=ue.p;try{ue.p=8,yp(r,i,a,l)}finally{ue.p=m,W.T=h}}function yp(r,i,a,l){if(jd){var h=vp(l);if(h===null)ip(r,i,l,Dd,a),uw(r,l);else if(q4(h,r,i,a,l))l.stopPropagation();else if(uw(r,l),i&4&&-1<H4.indexOf(r)){for(;h!==null;){var m=Cr(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=lr(m.pendingLanes);if(_!==0){var E=m;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var R=1<<31-mn(_);E.entanglements[1]|=R,_&=~R}Vr(m),(We&6)===0&&(gd=_n()+500,lc(0))}}break;case 13:E=oo(m,2),E!==null&&Mn(E,m,2),vd(),gp(m,2)}if(m=vp(l),m===null&&ip(r,i,l,Dd,a),m===h)break;h=m}h!==null&&l.stopPropagation()}else ip(r,i,l,null,a)}}function vp(r){return r=Al(r),wp(r)}var Dd=null;function wp(r){if(Dd=null,r=Ar(r),r!==null){var i=c(r);if(i===null)r=null;else{var a=i.tag;if(a===13){if(r=d(i),r!==null)return r;r=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return Dd=r,null}function cw(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bu()){case Vt:return 2;case qt:return 8;case Wr:case Tf:return 32;case gl:return 268435456;default:return 32}default:return 32}}var bp=!1,ms=null,ps=null,gs=null,gc=new Map,yc=new Map,ys=[],H4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uw(r,i){switch(r){case"focusin":case"focusout":ms=null;break;case"dragenter":case"dragleave":ps=null;break;case"mouseover":case"mouseout":gs=null;break;case"pointerover":case"pointerout":gc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":yc.delete(i.pointerId)}}function vc(r,i,a,l,h,m){return r===null||r.nativeEvent!==m?(r={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[h]},i!==null&&(i=Cr(i),i!==null&&lw(i)),r):(r.eventSystemFlags|=l,i=r.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),r)}function q4(r,i,a,l,h){switch(i){case"focusin":return ms=vc(ms,r,i,a,l,h),!0;case"dragenter":return ps=vc(ps,r,i,a,l,h),!0;case"mouseover":return gs=vc(gs,r,i,a,l,h),!0;case"pointerover":var m=h.pointerId;return gc.set(m,vc(gc.get(m)||null,r,i,a,l,h)),!0;case"gotpointercapture":return m=h.pointerId,yc.set(m,vc(yc.get(m)||null,r,i,a,l,h)),!0}return!1}function dw(r){var i=Ar(r.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){r.blockedOn=i,Cf(r.priority,function(){if(a.tag===13){var l=Pn();l=vl(l);var h=oo(a,l);h!==null&&Mn(h,a,l),gp(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Od(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var a=vp(r.nativeEvent);if(a===null){a=r.nativeEvent;var l=new a.constructor(a.type,a);Sl=l,a.target.dispatchEvent(l),Sl=null}else return i=Cr(a),i!==null&&lw(i),r.blockedOn=a,!1;i.shift()}return!0}function hw(r,i,a){Od(r)&&a.delete(i)}function F4(){bp=!1,ms!==null&&Od(ms)&&(ms=null),ps!==null&&Od(ps)&&(ps=null),gs!==null&&Od(gs)&&(gs=null),gc.forEach(hw),yc.forEach(hw)}function Pd(r,i){r.blockedOn===i&&(r.blockedOn=null,bp||(bp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,F4)))}var Md=null;function fw(r){Md!==r&&(Md=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Md===r&&(Md=null);for(var i=0;i<r.length;i+=3){var a=r[i],l=r[i+1],h=r[i+2];if(typeof l!="function"){if(wp(l||a)===null)continue;break}var m=Cr(a);m!==null&&(r.splice(i,3),i-=3,wm(m,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function wc(r){function i(R){return Pd(R,r)}ms!==null&&Pd(ms,r),ps!==null&&Pd(ps,r),gs!==null&&Pd(gs,r),gc.forEach(i),yc.forEach(i);for(var a=0;a<ys.length;a++){var l=ys[a];l.blockedOn===r&&(l.blockedOn=null)}for(;0<ys.length&&(a=ys[0],a.blockedOn===null);)dw(a),a.blockedOn===null&&ys.shift();if(a=(r.ownerDocument||r).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],m=a[l+1],_=h[Wt]||null;if(typeof m=="function")_||fw(a);else if(_){var E=null;if(m&&m.hasAttribute("formAction")){if(h=m,_=m[Wt]||null)E=_.formAction;else if(wp(h)!==null)continue}else E=_.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),fw(a)}}}function _p(r){this._internalRoot=r}Vd.prototype.render=_p.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Pn();aw(a,l,r,i,null,null)},Vd.prototype.unmount=_p.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;aw(r.current,2,null,r,null,null),vd(),i[Jr]=null}};function Vd(r){this._internalRoot=r}Vd.prototype.unstable_scheduleHydration=function(r){if(r){var i=Zr();r={blockedOn:null,target:r,priority:i};for(var a=0;a<ys.length&&i!==0&&i<ys[a].priority;a++);ys.splice(a,0,r),a===0&&dw(r)}};var mw=e.version;if(mw!=="19.1.1")throw Error(s(527,mw,"19.1.1"));ue.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=g(i),r=r!==null?y(r):null,r=r===null?null:r.stateNode,r};var G4={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ld=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ld.isDisabled&&Ld.supportsFiber)try{Mi=Ld.inject(G4),sn=Ld}catch{}}return _c.createRoot=function(r,i){if(!o(r))throw Error(s(299));var a=!1,l="",h=I2,m=k2,_=j2,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=iw(r,1,!1,null,null,a,l,h,m,_,E,null),r[Jr]=i.current,rp(r),new _p(i)},_c.hydrateRoot=function(r,i,a){if(!o(r))throw Error(s(299));var l=!1,h="",m=I2,_=k2,E=j2,R=null,q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(q=a.formState)),i=iw(r,1,!0,i,a??null,l,h,m,_,E,R,q),i.context=sw(null),a=i.current,l=Pn(),l=vl(l),h=es(l),h.callback=null,ts(a,h,l),a=l,i.current.lanes=a,Et(i,a),Vr(i),r[Jr]=i.current,rp(r),new Vd(i)},_c.version="19.1.1",_c}var Tw;function n3(){if(Tw)return Tp.exports;Tw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Tp.exports=t3(),Tp.exports}var r3=n3();const i3=()=>{};var Sw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},s3=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const o=n[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=n[t++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=n[t++],d=n[t++],p=n[t++],g=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const c=n[t++],d=n[t++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Eb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<n.length;o+=3){const c=n[o],d=o+1<n.length,p=d?n[o+1]:0,g=o+2<n.length,y=g?n[o+2]:0,w=c>>2,x=(c&3)<<4|p>>4;let T=(p&15)<<2|y>>6,N=y&63;g||(N=64,d||(T=64)),s.push(t[w],t[x],t[T],t[N])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(xb(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):s3(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<n.length;){const c=t[n.charAt(o++)],p=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const x=o<n.length?t[n.charAt(o)]:64;if(++o,c==null||p==null||y==null||x==null)throw new a3;const T=c<<2|p>>4;if(s.push(T),y!==64){const N=p<<4&240|y>>2;if(s.push(N),x!==64){const V=y<<6&192|x;s.push(V)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class a3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const o3=function(n){const e=xb(n);return Eb.encodeByteArray(e,!0)},ah=function(n){return o3(n).replace(/\./g,"")},Tb=function(n){try{return Eb.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3=()=>l3().__FIREBASE_DEFAULTS__,u3=()=>{if(typeof process>"u"||typeof Sw>"u")return;const n=Sw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},d3=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Tb(n[1]);return e&&JSON.parse(e)},Bh=()=>{try{return i3()||c3()||u3()||d3()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Sb=n=>Bh()?.emulatorHosts?.[n],h3=n=>{const e=Sb(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},Ab=()=>Bh()?.config,Cb=n=>Bh()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Nb(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m3(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=n.iat||0,c=n.sub||n.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...n};return[ah(JSON.stringify(t)),ah(JSON.stringify(d)),""].join(".")}const Rc={};function p3(){const n={prod:[],emulator:[]};for(const e of Object.keys(Rc))Rc[e]?n.emulator.push(e):n.prod.push(e);return n}function g3(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Aw=!1;function Rb(n,e){if(typeof window>"u"||typeof document>"u"||!el(window.location.host)||Rc[n]===e||Rc[n]||Aw)return;Rc[n]=e;function t(T){return`__firebase__banner__${T}`}const s="__firebase__banner",c=p3().prod.length>0;function d(){const T=document.getElementById(s);T&&T.remove()}function p(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function g(T,N){T.setAttribute("width","24"),T.setAttribute("id",N),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function y(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{Aw=!0,d()},T}function w(T,N){T.setAttribute("id",N),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function x(){const T=g3(s),N=t("text"),V=document.getElementById(N)||document.createElement("span"),G=t("learnmore"),B=document.getElementById(G)||document.createElement("a"),J=t("preprendIcon"),K=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const X=T.element;p(X),w(B,G);const pe=y();g(K,J),X.append(K,V,B,pe),document.body.appendChild(X)}c?(V.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function y3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function v3(){const n=Bh()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function w3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function b3(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function _3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function x3(){const n=hn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function E3(){return!v3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function T3(){try{return typeof indexedDB=="object"}catch{return!1}}function S3(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3="FirebaseError";class Pi extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=A3,Object.setPrototypeOf(this,Pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xc.prototype.create)}}class Xc{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?C3(c,s):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Pi(o,p,s)}}function C3(n,e){return n.replace(N3,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const N3=/\{\$([^}]+)}/g;function R3(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ia(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const c=n[o],d=e[o];if(Cw(c)&&Cw(d)){if(!Ia(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function Cw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ec(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,c]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Tc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function I3(n,e){const t=new k3(n,e);return t.subscribe.bind(t)}class k3{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");j3(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Np),o.error===void 0&&(o.error=Np),o.complete===void 0&&(o.complete=Np);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function j3(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Np(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(n){return n&&n._delegate?n._delegate:n}class ka{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new f3;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(P3(e))try{this.getOrInitializeService({instanceIdentifier:Ta})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=Ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ta){return this.instances.has(e)}getOptions(e=Ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&d.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:O3(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ta){return this.component?this.component.multipleInstances?e:Ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function O3(n){return n===Ta?void 0:n}function P3(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new D3(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ve||(Ve={}));const V3={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},L3=Ve.INFO,U3={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},B3=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),o=U3[e];if(o)console[o](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rg{constructor(e){this.name=e,this._logLevel=L3,this._logHandler=B3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?V3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const z3=(n,e)=>e.some(t=>n instanceof t);let Nw,Rw;function H3(){return Nw||(Nw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function q3(){return Rw||(Rw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ib=new WeakMap,$p=new WeakMap,kb=new WeakMap,Rp=new WeakMap,Ig=new WeakMap;function F3(n){const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("success",c),n.removeEventListener("error",d)},c=()=>{t(Ss(n.result)),o()},d=()=>{s(n.error),o()};n.addEventListener("success",c),n.addEventListener("error",d)});return e.then(t=>{t instanceof IDBCursor&&Ib.set(t,n)}).catch(()=>{}),Ig.set(e,n),e}function G3(n){if($p.has(n))return;const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("complete",c),n.removeEventListener("error",d),n.removeEventListener("abort",d)},c=()=>{t(),o()},d=()=>{s(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",c),n.addEventListener("error",d),n.addEventListener("abort",d)});$p.set(n,e)}let Yp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return $p.get(n);if(e==="objectStoreNames")return n.objectStoreNames||kb.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ss(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function $3(n){Yp=n(Yp)}function Y3(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(Ip(this),e,...t);return kb.set(s,e.sort?e.sort():[e]),Ss(s)}:q3().includes(n)?function(...e){return n.apply(Ip(this),e),Ss(Ib.get(this))}:function(...e){return Ss(n.apply(Ip(this),e))}}function K3(n){return typeof n=="function"?Y3(n):(n instanceof IDBTransaction&&G3(n),z3(n,H3())?new Proxy(n,Yp):n)}function Ss(n){if(n instanceof IDBRequest)return F3(n);if(Rp.has(n))return Rp.get(n);const e=K3(n);return e!==n&&(Rp.set(n,e),Ig.set(e,n)),e}const Ip=n=>Ig.get(n);function Q3(n,e,{blocked:t,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(n,e),p=Ss(d);return s&&d.addEventListener("upgradeneeded",g=>{s(Ss(d.result),g.oldVersion,g.newVersion,Ss(d.transaction),g)}),t&&d.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const X3=["get","getKey","getAll","getAllKeys","count"],W3=["put","add","delete","clear"],kp=new Map;function Iw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(kp.get(e))return kp.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=W3.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||X3.includes(t)))return;const c=async function(d,...p){const g=this.transaction(d,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[t](...p),o&&g.done]))[0]};return kp.set(e,c),c}$3(n=>({...n,get:(e,t,s)=>Iw(e,t)||n.get(e,t,s),has:(e,t)=>!!Iw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(J3(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function J3(n){return n.getComponent()?.type==="VERSION"}const Kp="@firebase/app",kw="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=new Rg("@firebase/app"),eS="@firebase/app-compat",tS="@firebase/analytics-compat",nS="@firebase/analytics",rS="@firebase/app-check-compat",iS="@firebase/app-check",sS="@firebase/auth",aS="@firebase/auth-compat",oS="@firebase/database",lS="@firebase/data-connect",cS="@firebase/database-compat",uS="@firebase/functions",dS="@firebase/functions-compat",hS="@firebase/installations",fS="@firebase/installations-compat",mS="@firebase/messaging",pS="@firebase/messaging-compat",gS="@firebase/performance",yS="@firebase/performance-compat",vS="@firebase/remote-config",wS="@firebase/remote-config-compat",bS="@firebase/storage",_S="@firebase/storage-compat",xS="@firebase/firestore",ES="@firebase/ai",TS="@firebase/firestore-compat",SS="firebase",AS="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp="[DEFAULT]",CS={[Kp]:"fire-core",[eS]:"fire-core-compat",[nS]:"fire-analytics",[tS]:"fire-analytics-compat",[iS]:"fire-app-check",[rS]:"fire-app-check-compat",[sS]:"fire-auth",[aS]:"fire-auth-compat",[oS]:"fire-rtdb",[lS]:"fire-data-connect",[cS]:"fire-rtdb-compat",[uS]:"fire-fn",[dS]:"fire-fn-compat",[hS]:"fire-iid",[fS]:"fire-iid-compat",[mS]:"fire-fcm",[pS]:"fire-fcm-compat",[gS]:"fire-perf",[yS]:"fire-perf-compat",[vS]:"fire-rc",[wS]:"fire-rc-compat",[bS]:"fire-gcs",[_S]:"fire-gcs-compat",[xS]:"fire-fst",[TS]:"fire-fst-compat",[ES]:"fire-vertex","fire-js":"fire-js",[SS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh=new Map,NS=new Map,Xp=new Map;function jw(n,e){try{n.container.addComponent(e)}catch(t){Ni.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Go(n){const e=n.name;if(Xp.has(e))return Ni.debug(`There were multiple attempts to register component ${e}.`),!1;Xp.set(e,n);for(const t of oh.values())jw(t,n);for(const t of NS.values())jw(t,n);return!0}function kg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Vn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},As=new Xc("app","Firebase",RS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ka("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw As.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl=AS;function jb(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s={name:Qp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw As.create("bad-app-name",{appName:String(o)});if(t||(t=Ab()),!t)throw As.create("no-options");const c=oh.get(o);if(c){if(Ia(t,c.options)&&Ia(s,c.config))return c;throw As.create("duplicate-app",{appName:o})}const d=new M3(o);for(const g of Xp.values())d.addComponent(g);const p=new IS(t,s,d);return oh.set(o,p),p}function Db(n=Qp){const e=oh.get(n);if(!e&&n===Qp&&Ab())return jb();if(!e)throw As.create("no-app",{appName:n});return e}function Cs(n,e,t){let s=CS[n]??n;t&&(s+=`-${t}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ni.warn(d.join(" "));return}Go(new ka(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS="firebase-heartbeat-database",jS=1,Vc="firebase-heartbeat-store";let jp=null;function Ob(){return jp||(jp=Q3(kS,jS,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Vc)}catch(t){console.warn(t)}}}}).catch(n=>{throw As.create("idb-open",{originalErrorMessage:n.message})})),jp}async function DS(n){try{const t=(await Ob()).transaction(Vc),s=await t.objectStore(Vc).get(Pb(n));return await t.done,s}catch(e){if(e instanceof Pi)Ni.warn(e.message);else{const t=As.create("idb-get",{originalErrorMessage:e?.message});Ni.warn(t.message)}}}async function Dw(n,e){try{const s=(await Ob()).transaction(Vc,"readwrite");await s.objectStore(Vc).put(e,Pb(n)),await s.done}catch(t){if(t instanceof Pi)Ni.warn(t.message);else{const s=As.create("idb-set",{originalErrorMessage:t?.message});Ni.warn(s.message)}}}function Pb(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS=1024,PS=30;class MS{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new LS(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Ow();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>PS){const o=US(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ni.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Ow(),{heartbeatsToSend:t,unsentEntries:s}=VS(this._heartbeatsCache.heartbeats),o=ah(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ni.warn(e),""}}}function Ow(){return new Date().toISOString().substring(0,10)}function VS(n,e=OS){const t=[];let s=n.slice();for(const o of n){const c=t.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),Pw(t)>e){c.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Pw(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class LS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return T3()?S3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await DS(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Dw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Dw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Pw(n){return ah(JSON.stringify({version:2,heartbeats:n})).length}function US(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(n){Go(new ka("platform-logger",e=>new Z3(e),"PRIVATE")),Go(new ka("heartbeat",e=>new MS(e),"PRIVATE")),Cs(Kp,kw,n),Cs(Kp,kw,"esm2020"),Cs("fire-js","")}BS("");var zS="firebase",HS="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cs(zS,HS,"app");function Mb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qS=Mb,Vb=new Xc("auth","Firebase",Mb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=new Rg("@firebase/auth");function FS(n,...e){lh.logLevel<=Ve.WARN&&lh.warn(`Auth (${tl}): ${n}`,...e)}function Yd(n,...e){lh.logLevel<=Ve.ERROR&&lh.error(`Auth (${tl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(n,...e){throw Dg(n,...e)}function wr(n,...e){return Dg(n,...e)}function jg(n,e,t){const s={...qS(),[e]:t};return new Xc("auth","Firebase",s).create(e,{appName:n.name})}function Ei(n){return jg(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lb(n,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&Un(n,"argument-error"),jg(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Dg(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return Vb.create(n,...e)}function ge(n,e,...t){if(!n)throw Dg(e,...t)}function _i(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Yd(e),new Error(e)}function Ri(n,e){n||_i(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(){return typeof self<"u"&&self.location?.href||""}function Ub(){return Mw()==="http:"||Mw()==="https:"}function Mw(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ub()||b3()||"connection"in navigator)?navigator.onLine:!0}function $S(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ri(t>e,"Short delay should be less than long delay!"),this.isMobile=y3()||_3()}get(){return GS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(n,e){Ri(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],QS=new Zc(3e4,6e4);function Er(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function ar(n,e,t,s,o={}){return zb(n,o,async()=>{let c={},d={};s&&(e==="GET"?d=s:c={body:JSON.stringify(s)});const p=Wc({key:n.config.apiKey,...d}).slice(1),g=await n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);const y={method:e,headers:g,...c};return w3()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&el(n.emulatorConfig.host)&&(y.credentials="include"),Bb.fetch()(await Hb(n,n.config.apiHost,t,p),y)})}async function zb(n,e,t){n._canInitEmulator=!1;const s={...YS,...e};try{const o=new WS(n),c=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Ud(n,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ud(n,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw Ud(n,"email-already-in-use",d);if(g==="USER_DISABLED")throw Ud(n,"user-disabled",d);const w=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw jg(n,w,y);Un(n,w)}}catch(o){if(o instanceof Pi)throw o;Un(n,"network-request-failed",{message:String(o)})}}async function Jc(n,e,t,s,o={}){const c=await ar(n,e,t,s,o);return"mfaPendingCredential"in c&&Un(n,"multi-factor-auth-required",{_serverResponse:c}),c}async function Hb(n,e,t,s){const o=`${e}${t}?${s}`,c=n,d=c.config.emulator?Og(n.config,o):`${n.config.apiScheme}://${o}`;return KS.includes(t)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function XS(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class WS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(wr(this.auth,"network-request-failed")),QS.get())})}}function Ud(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=wr(n,e,s);return o.customData._tokenResponse=t,o}function Vw(n){return n!==void 0&&n.enterprise!==void 0}class ZS{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return XS(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function JS(n,e){return ar(n,"GET","/v2/recaptchaConfig",Er(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eA(n,e){return ar(n,"POST","/v1/accounts:delete",e)}async function tA(n,e){return ar(n,"POST","/v1/accounts:update",e)}async function uh(n,e){return ar(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function nA(n,e=!1){const t=lt(n),s=await t.getIdToken(e),o=Pg(s);ge(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:s,authTime:Ic(Dp(o.auth_time)),issuedAtTime:Ic(Dp(o.iat)),expirationTime:Ic(Dp(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Dp(n){return Number(n)*1e3}function Pg(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return Yd("JWT malformed, contained fewer than 3 sections"),null;try{const o=Tb(t);return o?JSON.parse(o):(Yd("Failed to decode base64 JWT payload"),null)}catch(o){return Yd("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Lw(n){const e=Pg(n);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lc(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Pi&&rA(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function rA({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ic(this.lastLoginAt),this.creationTime=Ic(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uc(n){const e=n.auth,t=await n.getIdToken(),s=await Lc(n,uh(e,{idToken:t}));ge(s?.users.length,e,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const c=o.providerUserInfo?.length?qb(o.providerUserInfo):[],d=aA(n.providerData,c),p=n.isAnonymous,g=!(n.email&&o.passwordHash)&&!d?.length,y=p?g:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Wp(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(n,w)}async function sA(n){const e=lt(n);await Uc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function aA(n,e){return[...n.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function qb(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oA(n,e){const t=await zb(n,{},async()=>{const s=Wc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=n.config,d=await Hb(n,o,"/v1/token",`key=${c}`),p=await n._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:s};return n.emulatorConfig&&el(n.emulatorConfig.host)&&(g.credentials="include"),Bb.fetch()(d,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function lA(n,e){return ar(n,"POST","/v2/accounts:revokeToken",Er(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Lw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const t=Lw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:c}=await oA(e,t);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:c}=t,d=new Vo;return s&&(ge(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),o&&(ge(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(ge(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vo,this.toJSON())}_performRefresh(){return _i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(n,e){ge(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class vr{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new iA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Wp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Lc(this,this.stsTokenManager.getToken(this.auth,e));return ge(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return nA(this,e)}reload(){return sA(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new vr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Uc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(Ei(this.auth));const e=await this.getIdToken();return await Lc(this,eA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,c=t.phoneNumber??void 0,d=t.photoURL??void 0,p=t.tenantId??void 0,g=t._redirectEventId??void 0,y=t.createdAt??void 0,w=t.lastLoginAt??void 0,{uid:x,emailVerified:T,isAnonymous:N,providerData:V,stsTokenManager:G}=t;ge(x&&G,e,"internal-error");const B=Vo.fromJSON(this.name,G);ge(typeof x=="string",e,"internal-error"),ws(s,e.name),ws(o,e.name),ge(typeof T=="boolean",e,"internal-error"),ge(typeof N=="boolean",e,"internal-error"),ws(c,e.name),ws(d,e.name),ws(p,e.name),ws(g,e.name),ws(y,e.name),ws(w,e.name);const J=new vr({uid:x,auth:e,email:o,emailVerified:T,displayName:s,isAnonymous:N,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:B,createdAt:y,lastLoginAt:w});return V&&Array.isArray(V)&&(J.providerData=V.map(K=>({...K}))),g&&(J._redirectEventId=g),J}static async _fromIdTokenResponse(e,t,s=!1){const o=new Vo;o.updateFromServerResponse(t);const c=new vr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Uc(c),c}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];ge(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?qb(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,p=new Vo;p.updateFromIdToken(s);const g=new vr({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Wp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw=new Map;function xi(n){Ri(n instanceof Function,"Expected a class definition");let e=Uw.get(n);return e?(Ri(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Uw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Fb.type="NONE";const Bw=Fb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(n,e,t){return`firebase:${n}:${e}:${t}`}class Lo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=Kd(this.userKey,o.apiKey,c),this.fullPersistenceKey=Kd("persistence",o.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await uh(this.auth,{idToken:e}).catch(()=>{});return t?vr._fromGetAccountInfoResponse(this.auth,t,e):null}return vr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Lo(xi(Bw),e,s);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||xi(Bw);const d=Kd(s,e.config.apiKey,e.name);let p=null;for(const y of t)try{const w=await y._get(d);if(w){let x;if(typeof w=="string"){const T=await uh(e,{idToken:w}).catch(()=>{});if(!T)break;x=await vr._fromGetAccountInfoResponse(e,T,w)}else x=vr._fromJSON(e,w);y!==c&&(p=x),c=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new Lo(c,e,s):(c=g[0],p&&await c._set(d,p.toJSON()),await Promise.all(t.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Lo(c,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Kb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Gb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Xb(e))return"Blackberry";if(Wb(e))return"Webos";if($b(e))return"Safari";if((e.includes("chrome/")||Yb(e))&&!e.includes("edge/"))return"Chrome";if(Qb(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if(s?.length===2)return s[1]}return"Other"}function Gb(n=hn()){return/firefox\//i.test(n)}function $b(n=hn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Yb(n=hn()){return/crios\//i.test(n)}function Kb(n=hn()){return/iemobile/i.test(n)}function Qb(n=hn()){return/android/i.test(n)}function Xb(n=hn()){return/blackberry/i.test(n)}function Wb(n=hn()){return/webos/i.test(n)}function Mg(n=hn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function cA(n=hn()){return Mg(n)&&!!window.navigator?.standalone}function uA(){return x3()&&document.documentMode===10}function Zb(n=hn()){return Mg(n)||Qb(n)||Wb(n)||Xb(n)||/windows phone/i.test(n)||Kb(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(n,e=[]){let t;switch(n){case"Browser":t=zw(hn());break;case"Worker":t=`${zw(hn())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${tl}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=c=>new Promise((d,p)=>{try{const g=e(c);d(g)}catch(g){p(g)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hA(n,e={}){return ar(n,"GET","/v2/passwordPolicy",Er(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA=6;class mA{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??fA,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hw(this),this.idTokenSubscription=new Hw(this),this.beforeStateQueue=new dA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Vb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=xi(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Lo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await uh(this,{idToken:e}),s=await vr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Vn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Uc(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$S()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vn(this.app))return Promise.reject(Ei(this));const t=e?lt(e):null;return t&&ge(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject(Ei(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vn(this.app)?Promise.reject(Ei(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await hA(this),t=new mA(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xc("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await lA(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&xi(e)||this._popupRedirectResolver;ge(t,this,"argument-error"),this.redirectPersistenceManager=await Lo.create(this,[xi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const c=typeof t=="function"?t:t.next.bind(t);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,s,o);return()=>{d=!0,g()}}else{const g=e.addObserver(t);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Jb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&FS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Kr(n){return lt(n)}class Hw{constructor(e){this.auth=e,this.observer=null,this.addObserver=I3(t=>this.observer=t)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gA(n){zh=n}function e_(n){return zh.loadJS(n)}function yA(){return zh.recaptchaEnterpriseScript}function vA(){return zh.gapiScript}function wA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class bA{constructor(){this.enterprise=new _A}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class _A{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const xA="recaptcha-enterprise",t_="NO_RECAPTCHA";class EA{constructor(e){this.type=xA,this.auth=Kr(e)}async verify(e="verify",t=!1){async function s(c){if(!t){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{JS(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new ZS(g);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(g=>{p(g)})})}function o(c,d,p){const g=window.grecaptcha;Vw(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(y=>{d(y)}).catch(()=>{d(t_)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new bA().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{s(this.auth).then(p=>{if(!t&&Vw(window.grecaptcha))o(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=yA();g.length!==0&&(g+=p),e_(g).then(()=>{o(p,c,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function qw(n,e,t,s=!1,o=!1){const c=new EA(n);let d;if(o)d=t_;else try{d=await c.verify(t)}catch{d=await c.verify(t,!0)}const p={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function dh(n,e,t,s,o){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await qw(n,e,t,t==="getOobCode");return s(n,c)}else return s(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await qw(n,e,t,t==="getOobCode");return s(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(n,e){const t=kg(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),c=t.getOptions();if(Ia(c,e??{}))return o;Un(o,"already-initialized")}return t.initialize({options:e})}function SA(n,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(xi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e?.popupRedirectResolver)}function AA(n,e,t){const s=Kr(n);ge(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=n_(e),{host:d,port:p}=CA(e),g=p===null?"":`:${p}`,y={url:`${c}//${d}${g}/`},w=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ge(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ge(Ia(y,s.config.emulator)&&Ia(w,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=w,s.settings.appVerificationDisabledForTesting=!0,el(d)?(Nb(`${c}//${d}${g}`),Rb("Auth",!0)):NA()}function n_(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function CA(n){const e=n_(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:Fw(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:Fw(d)}}}function Fw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function NA(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return _i("not implemented")}_getIdTokenResponse(e){return _i("not implemented")}_linkToIdToken(e,t){return _i("not implemented")}_getReauthenticationResolver(e){return _i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r_(n,e){return ar(n,"POST","/v1/accounts:resetPassword",Er(n,e))}async function RA(n,e){return ar(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IA(n,e){return Jc(n,"POST","/v1/accounts:signInWithPassword",Er(n,e))}async function kA(n,e){return ar(n,"POST","/v1/accounts:sendOobCode",Er(n,e))}async function jA(n,e){return kA(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DA(n,e){return Jc(n,"POST","/v1/accounts:signInWithEmailLink",Er(n,e))}async function OA(n,e){return Jc(n,"POST","/v1/accounts:signInWithEmailLink",Er(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc extends Vg{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Bc(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Bc(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dh(e,t,"signInWithPassword",IA);case"emailLink":return DA(e,{email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dh(e,s,"signUpPassword",RA);case"emailLink":return OA(e,{idToken:t,email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(n,e){return Jc(n,"POST","/v1/accounts:signInWithIdp",Er(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA="http://localhost";class Ii extends Vg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ii(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Un("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=t;if(!s||!o)return null;const d=new Ii(s,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const t=this.buildRequest();return Uo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Uo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Uo(e,t)}buildRequest(){const e={requestUri:PA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Wc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function VA(n){const e=Ec(Tc(n)).link,t=e?Ec(Tc(e)).deep_link_id:null,s=Ec(Tc(n)).deep_link_id;return(s?Ec(Tc(s)).link:null)||s||t||e||n}class Lg{constructor(e){const t=Ec(Tc(e)),s=t.apiKey??null,o=t.oobCode??null,c=MA(t.mode??null);ge(s&&o&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=VA(e);try{return new Lg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(){this.providerId=Ma.PROVIDER_ID}static credential(e,t){return Bc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Lg.parseLink(t);return ge(s,"argument-error"),Bc._fromEmailAndCode(e,s.code,s.tenantId)}}Ma.PROVIDER_ID="password";Ma.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ma.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl extends Hh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class kc extends nl{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return ge("providerId"in t&&"signInMethod"in t,"argument-error"),Ii._fromParams(t)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return ge(e.idToken||e.accessToken,"argument-error"),Ii._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return kc.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return kc.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:c,nonce:d,providerId:p}=e;if(!s&&!o&&!t&&!c||!p)return null;try{return new kc(p)._credential({idToken:t,accessToken:s,nonce:d,pendingToken:c})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends nl{constructor(){super("facebook.com")}static credential(e){return Ii._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vi.credentialFromTaggedObject(e)}static credentialFromError(e){return vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vi.credential(e.oauthAccessToken)}catch{return null}}}vi.FACEBOOK_SIGN_IN_METHOD="facebook.com";vi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi extends nl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ii._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return wi.credentialFromTaggedObject(e)}static credentialFromError(e){return wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return wi.credential(t,s)}catch{return null}}}wi.GOOGLE_SIGN_IN_METHOD="google.com";wi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends nl{constructor(){super("github.com")}static credential(e){return Ii._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bi.credentialFromTaggedObject(e)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bi.credential(e.oauthAccessToken)}catch{return null}}}bi.GITHUB_SIGN_IN_METHOD="github.com";bi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends nl{constructor(){super("twitter.com")}static credential(e,t){return Ii._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return bs.credential(t,s)}catch{return null}}}bs.TWITTER_SIGN_IN_METHOD="twitter.com";bs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LA(n,e){return Jc(n,"POST","/v1/accounts:signUp",Er(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const c=await vr._fromIdTokenResponse(e,s,o),d=Gw(s);return new ja({user:c,providerId:d,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=Gw(s);return new ja({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function Gw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh extends Pi{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,hh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new hh(e,t,s,o)}}function i_(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?hh._fromErrorAndOperation(n,c,e,s):c})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UA(n,e){const t=lt(n);await o_(!0,t,e);const{providerUserInfo:s}=await tA(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),o=s_(s||[]);return t.providerData=t.providerData.filter(c=>o.has(c.providerId)),o.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function a_(n,e,t=!1){const s=await Lc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ja._forOperation(n,"link",s)}async function o_(n,e,t){await Uc(e);const s=s_(e.providerData),o=n===!1?"provider-already-linked":"no-such-provider";ge(s.has(t)===n,e.auth,o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BA(n,e,t=!1){const{auth:s}=n;if(Vn(s.app))return Promise.reject(Ei(s));const o="reauthenticate";try{const c=await Lc(n,i_(s,o,e,n),t);ge(c.idToken,s,"internal-error");const d=Pg(c.idToken);ge(d,s,"internal-error");const{sub:p}=d;return ge(n.uid===p,s,"user-mismatch"),ja._forOperation(n,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Un(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l_(n,e,t=!1){if(Vn(n.app))return Promise.reject(Ei(n));const s="signIn",o=await i_(n,s,e),c=await ja._fromIdTokenResponse(n,s,o);return t||await n._updateCurrentUser(c.user),c}async function zA(n,e){return l_(Kr(n),e)}async function c_(n,e){const t=lt(n);return await o_(!1,t,e.providerId),a_(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Bg._fromServerResponse(e,t):"totpInfo"in t?zg._fromServerResponse(e,t):Un(e,"internal-error")}}class Bg extends Ug{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Bg(t)}}class zg extends Ug{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new zg(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(n,e,t){ge(t.url?.length>0,n,"invalid-continue-uri"),ge(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),ge(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(ge(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(ge(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hg(n){const e=Kr(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function qA(n,e,t){const s=Kr(n),o={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&HA(s,o,t),await dh(s,o,"getOobCode",jA)}async function FA(n,e,t){await r_(lt(n),{oobCode:e,newPassword:t}).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Hg(n),s})}async function GA(n,e){const t=lt(n),s=await r_(t,{oobCode:e}),o=s.requestType;switch(ge(o,t,"internal-error"),o){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ge(s.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ge(s.mfaInfo,t,"internal-error");default:ge(s.email,t,"internal-error")}let c=null;return s.mfaInfo&&(c=Ug._fromServerResponse(Kr(t),s.mfaInfo)),{data:{email:(s.requestType==="VERIFY_AND_CHANGE_EMAIL"?s.newEmail:s.email)||null,previousEmail:(s.requestType==="VERIFY_AND_CHANGE_EMAIL"?s.email:s.newEmail)||null,multiFactorInfo:c},operation:o}}async function $A(n,e){const{data:t}=await GA(lt(n),e);return t.email}async function YA(n,e,t){if(Vn(n.app))return Promise.reject(Ei(n));const s=Kr(n),d=await dh(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",LA).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&Hg(n),g}),p=await ja._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(p.user),p}function KA(n,e,t){return Vn(n.app)?Promise.reject(Ei(n)):zA(lt(n),Ma.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Hg(n),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QA(n,e){return ar(n,"POST","/v1/accounts:createAuthUri",Er(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qg(n,e){const t=Ub()?ch():"http://localhost",s={identifier:e,continueUri:t},{signinMethods:o}=await QA(lt(n),s);return o||[]}function XA(n,e,t,s){return lt(n).onIdTokenChanged(e,t,s)}function WA(n,e,t){return lt(n).beforeAuthStateChanged(e,t)}function Fg(n,e,t,s){return lt(n).onAuthStateChanged(e,t,s)}function ZA(n){return lt(n).signOut()}const fh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(fh,"1"),this.storage.removeItem(fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA=1e3,e6=10;class d_ extends u_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Zb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(s);!t&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);uA()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,e6):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},JA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}d_.type="LOCAL";const t6=d_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_ extends u_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}h_.type="SESSION";const f_=h_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n6(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new qh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:c}=t.data,d=this.handlersMap[o];if(!d?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(d).map(async y=>y(t.origin,c)),g=await n6(p);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,g)=>{const y=Gg("",20);o.port1.start();const w=setTimeout(()=>{g(new Error("unsupported_event"))},s);d={messageChannel:o,onMessage(x){const T=x;if(T.data.eventId===y)switch(T.data.status){case"ack":clearTimeout(w),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(T.data.response);break;default:clearTimeout(w),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(){return window}function i6(n){zr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m_(){return typeof zr().WorkerGlobalScope<"u"&&typeof zr().importScripts=="function"}async function s6(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function a6(){return navigator?.serviceWorker?.controller||null}function o6(){return m_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="firebaseLocalStorageDb",l6=1,mh="firebaseLocalStorage",g_="fbase_key";class eu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Fh(n,e){return n.transaction([mh],e?"readwrite":"readonly").objectStore(mh)}function c6(){const n=indexedDB.deleteDatabase(p_);return new eu(n).toPromise()}function Zp(){const n=indexedDB.open(p_,l6);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(mh,{keyPath:g_})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(mh)?e(s):(s.close(),await c6(),e(await Zp()))})})}async function $w(n,e,t){const s=Fh(n,!0).put({[g_]:e,value:t});return new eu(s).toPromise()}async function u6(n,e){const t=Fh(n,!1).get(e),s=await new eu(t).toPromise();return s===void 0?null:s.value}function Yw(n,e){const t=Fh(n,!0).delete(e);return new eu(t).toPromise()}const d6=800,h6=3;class y_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>h6)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return m_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qh._getInstance(o6()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await s6(),!this.activeServiceWorker)return;this.sender=new r6(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||a6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zp();return await $w(e,fh,"1"),await Yw(e,fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>$w(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>u6(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Yw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Fh(o,!1).getAll();return new eu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),d6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}y_.type="LOCAL";const f6=y_;new Zc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(n,e){return e?xi(e):(ge(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg extends Vg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Uo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Uo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function m6(n){return l_(n.auth,new Yg(n),n.bypassAuthState)}function p6(n){const{auth:e,user:t}=n;return ge(t,e,"internal-error"),BA(t,new Yg(n),n.bypassAuthState)}async function g6(n){const{auth:e,user:t}=n;return ge(t,e,"internal-error"),a_(t,new Yg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e,t,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:t,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return m6;case"linkViaPopup":case"linkViaRedirect":return g6;case"reauthViaPopup":case"reauthViaRedirect":return p6;default:Un(this.auth,"internal-error")}}resolve(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y6=new Zc(2e3,1e4);async function Gh(n,e,t){if(Vn(n.app))return Promise.reject(wr(n,"operation-not-supported-in-this-environment"));const s=Kr(n);Lb(n,e,Hh);const o=$g(s,t);return new _s(s,"signInViaPopup",e,o).executeNotNull()}async function w_(n,e,t){const s=lt(n);Lb(s.auth,e,Hh);const o=$g(s.auth,t);return new _s(s.auth,"linkViaPopup",e,o,s).executeNotNull()}class _s extends v_{constructor(e,t,s,o,c){super(e,t,o,c),this.provider=s,this.authWindow=null,this.pollId=null,_s.currentPopupAction&&_s.currentPopupAction.cancel(),_s.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){Ri(this.filter.length===1,"Popup operations only handle one event");const e=Gg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(wr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(wr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_s.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,y6.get())};e()}}_s.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6="pendingRedirect",Qd=new Map;class w6 extends v_{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Qd.get(this.auth._key());if(!e){try{const s=await b6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Qd.set(this.auth._key(),e)}return this.bypassAuthState||Qd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function b6(n,e){const t=E6(e),s=x6(n);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function _6(n,e){Qd.set(n._key(),e)}function x6(n){return xi(n._redirectPersistence)}function E6(n){return Kd(v6,n.config.apiKey,n.name)}async function T6(n,e,t=!1){if(Vn(n.app))return Promise.reject(Ei(n));const s=Kr(n),o=$g(s,e),d=await new w6(s,o,t).execute();return d&&!t&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6=600*1e3;class A6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!C6(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!b_(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(wr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=S6&&this.cachedEventUids.clear(),this.cachedEventUids.has(Kw(e))}saveEventToCache(e){this.cachedEventUids.add(Kw(e)),this.lastProcessedEventTime=Date.now()}}function Kw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function b_({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function C6(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return b_(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N6(n,e={}){return ar(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,I6=/^https?/;async function k6(n){if(n.config.emulator)return;const{authorizedDomains:e}=await N6(n);for(const t of e)try{if(j6(t))return}catch{}Un(n,"unauthorized-domain")}function j6(n){const e=ch(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const d=new URL(n);return d.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&d.hostname===s}if(!I6.test(t))return!1;if(R6.test(n))return s===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6=new Zc(3e4,6e4);function Qw(){const n=zr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function O6(n){return new Promise((e,t)=>{function s(){Qw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Qw(),t(wr(n,"network-request-failed"))},timeout:D6.get()})}if(zr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(zr().gapi?.load)s();else{const o=wA("iframefcb");return zr()[o]=()=>{gapi.load?s():t(wr(n,"network-request-failed"))},e_(`${vA()}?onload=${o}`).catch(c=>t(c))}}).catch(e=>{throw Xd=null,e})}let Xd=null;function P6(n){return Xd=Xd||O6(n),Xd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6=new Zc(5e3,15e3),V6="__/auth/iframe",L6="emulator/auth/iframe",U6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},B6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function z6(n){const e=n.config;ge(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Og(e,L6):`https://${n.config.authDomain}/${V6}`,s={apiKey:e.apiKey,appName:n.name,v:tl},o=B6.get(n.config.apiHost);o&&(s.eid=o);const c=n._getFrameworks();return c.length&&(s.fw=c.join(",")),`${t}?${Wc(s).slice(1)}`}async function H6(n){const e=await P6(n),t=zr().gapi;return ge(t,n,"internal-error"),e.open({where:document.body,url:z6(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:U6,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const d=wr(n,"network-request-failed"),p=zr().setTimeout(()=>{c(d)},M6.get());function g(){zr().clearTimeout(p),o(s)}s.ping(g).then(g,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},F6=500,G6=600,$6="_blank",Y6="http://localhost";class Xw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function K6(n,e,t,s=F6,o=G6){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const g={...q6,width:s.toString(),height:o.toString(),top:c,left:d},y=hn().toLowerCase();t&&(p=Yb(y)?$6:t),Gb(y)&&(e=e||Y6,g.scrollbars="yes");const w=Object.entries(g).reduce((T,[N,V])=>`${T}${N}=${V},`,"");if(cA(y)&&p!=="_self")return Q6(e||"",p),new Xw(null);const x=window.open(e||"",p,w);ge(x,n,"popup-blocked");try{x.focus()}catch{}return new Xw(x)}function Q6(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X6="__/auth/handler",W6="emulator/auth/handler",Z6=encodeURIComponent("fac");async function Ww(n,e,t,s,o,c){ge(n.config.authDomain,n,"auth-domain-config-required"),ge(n.config.apiKey,n,"invalid-api-key");const d={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:tl,eventId:o};if(e instanceof Hh){e.setDefaultLanguage(n.languageCode),d.providerId=e.providerId||"",R3(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,x]of Object.entries({}))d[w]=x}if(e instanceof nl){const w=e.getScopes().filter(x=>x!=="");w.length>0&&(d.scopes=w.join(","))}n.tenantId&&(d.tid=n.tenantId);const p=d;for(const w of Object.keys(p))p[w]===void 0&&delete p[w];const g=await n._getAppCheckToken(),y=g?`#${Z6}=${encodeURIComponent(g)}`:"";return`${J6(n)}?${Wc(p).slice(1)}${y}`}function J6({config:n}){return n.emulator?Og(n,W6):`https://${n.authDomain}/${X6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op="webStorageSupport";class eC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=f_,this._completeRedirectFn=T6,this._overrideRedirectResult=_6}async _openPopup(e,t,s,o){Ri(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Ww(e,t,s,ch(),o);return K6(e,c,Gg())}async _openRedirect(e,t,s,o){await this._originValidation(e);const c=await Ww(e,t,s,ch(),o);return i6(c),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:c}=this.eventManagers[t];return o?Promise.resolve(o):(Ri(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await H6(e),s=new A6(e);return t.register("authEvent",o=>(ge(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Op,{type:Op},o=>{const c=o?.[0]?.[Op];c!==void 0&&t(!!c),Un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=k6(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Zb()||$b()||Mg()}}const tC=eC;var Zw="@firebase/auth",Jw="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iC(n){Go(new ka("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=s.options;ge(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:d,authDomain:p,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Jb(n)},y=new pA(s,o,c,g);return SA(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Go(new ka("auth-internal",e=>{const t=Kr(e.getProvider("auth").getImmediate());return(s=>new nC(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cs(Zw,Jw,rC(n)),Cs(Zw,Jw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=300,aC=Cb("authIdTokenMaxAge")||sC;let e1=null;const oC=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>aC)return;const o=t?.token;e1!==o&&(e1=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function lC(n=Db()){const e=kg(n,"auth");if(e.isInitialized())return e.getImmediate();const t=TA(n,{popupRedirectResolver:tC,persistence:[f6,t6,f_]}),s=Cb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=oC(c.toString());WA(t,d,()=>d(t.currentUser)),XA(t,p=>d(p))}}const o=Sb("auth");return o&&AA(t,`http://${o}`),t}function cC(){return document.getElementsByTagName("head")?.[0]??document}gA({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=o=>{const c=wr("internal-error");c.customData=o,t(c)},s.type="text/javascript",s.charset="UTF-8",cC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iC("Browser");var t1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ns,__;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,A){function C(){}C.prototype=A.prototype,I.F=A.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(M,D,U){for(var k=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)k[wt-2]=arguments[wt];return A.prototype[D].apply(M,k)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,A,C){C||(C=0);const M=Array(16);if(typeof A=="string")for(var D=0;D<16;++D)M[D]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(D=0;D<16;++D)M[D]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=I.g[0],C=I.g[1],D=I.g[2];let U=I.g[3],k;k=A+(U^C&(D^U))+M[0]+3614090360&4294967295,A=C+(k<<7&4294967295|k>>>25),k=U+(D^A&(C^D))+M[1]+3905402710&4294967295,U=A+(k<<12&4294967295|k>>>20),k=D+(C^U&(A^C))+M[2]+606105819&4294967295,D=U+(k<<17&4294967295|k>>>15),k=C+(A^D&(U^A))+M[3]+3250441966&4294967295,C=D+(k<<22&4294967295|k>>>10),k=A+(U^C&(D^U))+M[4]+4118548399&4294967295,A=C+(k<<7&4294967295|k>>>25),k=U+(D^A&(C^D))+M[5]+1200080426&4294967295,U=A+(k<<12&4294967295|k>>>20),k=D+(C^U&(A^C))+M[6]+2821735955&4294967295,D=U+(k<<17&4294967295|k>>>15),k=C+(A^D&(U^A))+M[7]+4249261313&4294967295,C=D+(k<<22&4294967295|k>>>10),k=A+(U^C&(D^U))+M[8]+1770035416&4294967295,A=C+(k<<7&4294967295|k>>>25),k=U+(D^A&(C^D))+M[9]+2336552879&4294967295,U=A+(k<<12&4294967295|k>>>20),k=D+(C^U&(A^C))+M[10]+4294925233&4294967295,D=U+(k<<17&4294967295|k>>>15),k=C+(A^D&(U^A))+M[11]+2304563134&4294967295,C=D+(k<<22&4294967295|k>>>10),k=A+(U^C&(D^U))+M[12]+1804603682&4294967295,A=C+(k<<7&4294967295|k>>>25),k=U+(D^A&(C^D))+M[13]+4254626195&4294967295,U=A+(k<<12&4294967295|k>>>20),k=D+(C^U&(A^C))+M[14]+2792965006&4294967295,D=U+(k<<17&4294967295|k>>>15),k=C+(A^D&(U^A))+M[15]+1236535329&4294967295,C=D+(k<<22&4294967295|k>>>10),k=A+(D^U&(C^D))+M[1]+4129170786&4294967295,A=C+(k<<5&4294967295|k>>>27),k=U+(C^D&(A^C))+M[6]+3225465664&4294967295,U=A+(k<<9&4294967295|k>>>23),k=D+(A^C&(U^A))+M[11]+643717713&4294967295,D=U+(k<<14&4294967295|k>>>18),k=C+(U^A&(D^U))+M[0]+3921069994&4294967295,C=D+(k<<20&4294967295|k>>>12),k=A+(D^U&(C^D))+M[5]+3593408605&4294967295,A=C+(k<<5&4294967295|k>>>27),k=U+(C^D&(A^C))+M[10]+38016083&4294967295,U=A+(k<<9&4294967295|k>>>23),k=D+(A^C&(U^A))+M[15]+3634488961&4294967295,D=U+(k<<14&4294967295|k>>>18),k=C+(U^A&(D^U))+M[4]+3889429448&4294967295,C=D+(k<<20&4294967295|k>>>12),k=A+(D^U&(C^D))+M[9]+568446438&4294967295,A=C+(k<<5&4294967295|k>>>27),k=U+(C^D&(A^C))+M[14]+3275163606&4294967295,U=A+(k<<9&4294967295|k>>>23),k=D+(A^C&(U^A))+M[3]+4107603335&4294967295,D=U+(k<<14&4294967295|k>>>18),k=C+(U^A&(D^U))+M[8]+1163531501&4294967295,C=D+(k<<20&4294967295|k>>>12),k=A+(D^U&(C^D))+M[13]+2850285829&4294967295,A=C+(k<<5&4294967295|k>>>27),k=U+(C^D&(A^C))+M[2]+4243563512&4294967295,U=A+(k<<9&4294967295|k>>>23),k=D+(A^C&(U^A))+M[7]+1735328473&4294967295,D=U+(k<<14&4294967295|k>>>18),k=C+(U^A&(D^U))+M[12]+2368359562&4294967295,C=D+(k<<20&4294967295|k>>>12),k=A+(C^D^U)+M[5]+4294588738&4294967295,A=C+(k<<4&4294967295|k>>>28),k=U+(A^C^D)+M[8]+2272392833&4294967295,U=A+(k<<11&4294967295|k>>>21),k=D+(U^A^C)+M[11]+1839030562&4294967295,D=U+(k<<16&4294967295|k>>>16),k=C+(D^U^A)+M[14]+4259657740&4294967295,C=D+(k<<23&4294967295|k>>>9),k=A+(C^D^U)+M[1]+2763975236&4294967295,A=C+(k<<4&4294967295|k>>>28),k=U+(A^C^D)+M[4]+1272893353&4294967295,U=A+(k<<11&4294967295|k>>>21),k=D+(U^A^C)+M[7]+4139469664&4294967295,D=U+(k<<16&4294967295|k>>>16),k=C+(D^U^A)+M[10]+3200236656&4294967295,C=D+(k<<23&4294967295|k>>>9),k=A+(C^D^U)+M[13]+681279174&4294967295,A=C+(k<<4&4294967295|k>>>28),k=U+(A^C^D)+M[0]+3936430074&4294967295,U=A+(k<<11&4294967295|k>>>21),k=D+(U^A^C)+M[3]+3572445317&4294967295,D=U+(k<<16&4294967295|k>>>16),k=C+(D^U^A)+M[6]+76029189&4294967295,C=D+(k<<23&4294967295|k>>>9),k=A+(C^D^U)+M[9]+3654602809&4294967295,A=C+(k<<4&4294967295|k>>>28),k=U+(A^C^D)+M[12]+3873151461&4294967295,U=A+(k<<11&4294967295|k>>>21),k=D+(U^A^C)+M[15]+530742520&4294967295,D=U+(k<<16&4294967295|k>>>16),k=C+(D^U^A)+M[2]+3299628645&4294967295,C=D+(k<<23&4294967295|k>>>9),k=A+(D^(C|~U))+M[0]+4096336452&4294967295,A=C+(k<<6&4294967295|k>>>26),k=U+(C^(A|~D))+M[7]+1126891415&4294967295,U=A+(k<<10&4294967295|k>>>22),k=D+(A^(U|~C))+M[14]+2878612391&4294967295,D=U+(k<<15&4294967295|k>>>17),k=C+(U^(D|~A))+M[5]+4237533241&4294967295,C=D+(k<<21&4294967295|k>>>11),k=A+(D^(C|~U))+M[12]+1700485571&4294967295,A=C+(k<<6&4294967295|k>>>26),k=U+(C^(A|~D))+M[3]+2399980690&4294967295,U=A+(k<<10&4294967295|k>>>22),k=D+(A^(U|~C))+M[10]+4293915773&4294967295,D=U+(k<<15&4294967295|k>>>17),k=C+(U^(D|~A))+M[1]+2240044497&4294967295,C=D+(k<<21&4294967295|k>>>11),k=A+(D^(C|~U))+M[8]+1873313359&4294967295,A=C+(k<<6&4294967295|k>>>26),k=U+(C^(A|~D))+M[15]+4264355552&4294967295,U=A+(k<<10&4294967295|k>>>22),k=D+(A^(U|~C))+M[6]+2734768916&4294967295,D=U+(k<<15&4294967295|k>>>17),k=C+(U^(D|~A))+M[13]+1309151649&4294967295,C=D+(k<<21&4294967295|k>>>11),k=A+(D^(C|~U))+M[4]+4149444226&4294967295,A=C+(k<<6&4294967295|k>>>26),k=U+(C^(A|~D))+M[11]+3174756917&4294967295,U=A+(k<<10&4294967295|k>>>22),k=D+(A^(U|~C))+M[2]+718787259&4294967295,D=U+(k<<15&4294967295|k>>>17),k=C+(U^(D|~A))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(D+(k<<21&4294967295|k>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+U&4294967295}s.prototype.v=function(I,A){A===void 0&&(A=I.length);const C=A-this.blockSize,M=this.C;let D=this.h,U=0;for(;U<A;){if(D==0)for(;U<=C;)o(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<A;)if(M[D++]=I.charCodeAt(U++),D==this.blockSize){o(this,M),D=0;break}}else for(;U<A;)if(M[D++]=I[U++],D==this.blockSize){o(this,M),D=0;break}}this.h=D,this.o+=A},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)I[A++]=this.g[C]>>>M&255;return I};function c(I,A){var C=p;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=A(I)}function d(I,A){this.h=A;const C=[];let M=!0;for(let D=I.length-1;D>=0;D--){const U=I[D]|0;M&&U==A||(C[D]=U,M=!1)}this.g=C}var p={};function g(I){return-128<=I&&I<128?c(I,function(A){return new d([A|0],A<0?-1:0)}):new d([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return x;if(I<0)return B(y(-I));const A=[];let C=1;for(let M=0;I>=C;M++)A[M]=I/C|0,C*=4294967296;return new d(A,0)}function w(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return B(w(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(A,8));let M=x;for(let U=0;U<I.length;U+=8){var D=Math.min(8,I.length-U);const k=parseInt(I.substring(U,U+D),A);D<8?(D=y(Math.pow(A,D)),M=M.j(D).add(y(k))):(M=M.j(C),M=M.add(y(k)))}return M}var x=g(0),T=g(1),N=g(16777216);n=d.prototype,n.m=function(){if(G(this))return-B(this).m();let I=0,A=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);I+=(M>=0?M:4294967296+M)*A,A*=4294967296}return I},n.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(V(this))return"0";if(G(this))return"-"+B(this).toString(I);const A=y(Math.pow(I,6));var C=this;let M="";for(;;){const D=pe(C,A).g;C=J(C,D.j(A));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=D,V(C))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},n.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function V(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function G(I){return I.h==-1}n.l=function(I){return I=J(this,I),G(I)?-1:V(I)?0:1};function B(I){const A=I.g.length,C=[];for(let M=0;M<A;M++)C[M]=~I.g[M];return new d(C,~I.h).add(T)}n.abs=function(){return G(this)?B(this):this},n.add=function(I){const A=Math.max(this.g.length,I.g.length),C=[];let M=0;for(let D=0;D<=A;D++){let U=M+(this.i(D)&65535)+(I.i(D)&65535),k=(U>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);M=k>>>16,U&=65535,k&=65535,C[D]=k<<16|U}return new d(C,C[C.length-1]&-2147483648?-1:0)};function J(I,A){return I.add(B(A))}n.j=function(I){if(V(this)||V(I))return x;if(G(this))return G(I)?B(this).j(B(I)):B(B(this).j(I));if(G(I))return B(this.j(B(I)));if(this.l(N)<0&&I.l(N)<0)return y(this.m()*I.m());const A=this.g.length+I.g.length,C=[];for(var M=0;M<2*A;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<I.g.length;D++){const U=this.i(M)>>>16,k=this.i(M)&65535,wt=I.i(D)>>>16,ft=I.i(D)&65535;C[2*M+2*D]+=k*ft,K(C,2*M+2*D),C[2*M+2*D+1]+=U*ft,K(C,2*M+2*D+1),C[2*M+2*D+1]+=k*wt,K(C,2*M+2*D+1),C[2*M+2*D+2]+=U*wt,K(C,2*M+2*D+2)}for(I=0;I<A;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=A;I<2*A;I++)C[I]=0;return new d(C,0)};function K(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function X(I,A){this.g=I,this.h=A}function pe(I,A){if(V(A))throw Error("division by zero");if(V(I))return new X(x,x);if(G(I))return A=pe(B(I),A),new X(B(A.g),B(A.h));if(G(A))return A=pe(I,B(A)),new X(B(A.g),A.h);if(I.g.length>30){if(G(I)||G(A))throw Error("slowDivide_ only works with positive integers.");for(var C=T,M=A;M.l(I)<=0;)C=oe(C),M=oe(M);var D=ie(C,1),U=ie(M,1);for(M=ie(M,2),C=ie(C,2);!V(M);){var k=U.add(M);k.l(I)<=0&&(D=D.add(C),U=k),M=ie(M,1),C=ie(C,1)}return A=J(I,D.j(A)),new X(D,A)}for(D=x;I.l(A)>=0;){for(C=Math.max(1,Math.floor(I.m()/A.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=y(C),k=U.j(A);G(k)||k.l(I)>0;)C-=M,U=y(C),k=U.j(A);V(U)&&(U=T),D=D.add(U),I=J(I,k)}return new X(D,I)}n.B=function(I){return pe(this,I).h},n.and=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let M=0;M<A;M++)C[M]=this.i(M)&I.i(M);return new d(C,this.h&I.h)},n.or=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let M=0;M<A;M++)C[M]=this.i(M)|I.i(M);return new d(C,this.h|I.h)},n.xor=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let M=0;M<A;M++)C[M]=this.i(M)^I.i(M);return new d(C,this.h^I.h)};function oe(I){const A=I.g.length+1,C=[];for(let M=0;M<A;M++)C[M]=I.i(M)<<1|I.i(M-1)>>>31;return new d(C,I.h)}function ie(I,A){const C=A>>5;A%=32;const M=I.g.length-C,D=[];for(let U=0;U<M;U++)D[U]=A>0?I.i(U+C)>>>A|I.i(U+C+1)<<32-A:I.i(U+C);return new d(D,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,__=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=w,Ns=d}).apply(typeof t1<"u"?t1:typeof self<"u"?self:typeof window<"u"?window:{});var Bd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var x_,Sc,E_,Wd,Jp,T_,S_,A_;(function(){var n,e=Object.defineProperty;function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bd=="object"&&Bd];for(var v=0;v<u.length;++v){var b=u[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=t(this);function o(u,v){if(v)e:{var b=s;u=u.split(".");for(var S=0;S<u.length-1;S++){var H=u[S];if(!(H in b))break e;b=b[H]}u=u[u.length-1],S=b[u],v=v(S),v!=S&&v!=null&&e(b,u,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(v){var b=[],S;for(S in v)Object.prototype.hasOwnProperty.call(v,S)&&b.push([S,v[S]]);return b}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var v=typeof u;return v=="object"&&u!=null||v=="function"}function g(u,v,b){return u.call.apply(u.bind,arguments)}function y(u,v,b){return y=g,y.apply(null,arguments)}function w(u,v){var b=Array.prototype.slice.call(arguments,1);return function(){var S=b.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function x(u,v){function b(){}b.prototype=v.prototype,u.Z=v.prototype,u.prototype=new b,u.prototype.constructor=u,u.Ob=function(S,H,Y){for(var le=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)le[Re-2]=arguments[Re];return v.prototype[H].apply(S,le)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function N(u){const v=u.length;if(v>0){const b=Array(v);for(let S=0;S<v;S++)b[S]=u[S];return b}return[]}function V(u,v){for(let S=1;S<arguments.length;S++){const H=arguments[S];var b=typeof H;if(b=b!="object"?b:H?Array.isArray(H)?"array":b:"null",b=="array"||b=="object"&&typeof H.length=="number"){b=u.length||0;const Y=H.length||0;u.length=b+Y;for(let le=0;le<Y;le++)u[b+le]=H[le]}else u.push(H)}}class G{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function B(u){d.setTimeout(()=>{throw u},0)}function J(){var u=I;let v=null;return u.g&&(v=u.g,u.g=u.g.next,u.g||(u.h=null),v.next=null),v}class K{constructor(){this.h=this.g=null}add(v,b){const S=X.get();S.set(v,b),this.h?this.h.next=S:this.g=S,this.h=S}}var X=new G(()=>new pe,u=>u.reset());class pe{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,ie=!1,I=new K,A=()=>{const u=Promise.resolve(void 0);oe=()=>{u.then(C)}};function C(){for(var u;u=J();){try{u.h.call(u.g)}catch(b){B(b)}var v=X;v.j(u),v.h<100&&(v.h++,u.next=v.g,v.g=u)}ie=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,v){this.type=u,this.g=this.target=v,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,v=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};d.addEventListener("test",b,v),d.removeEventListener("test",b,v)}catch{}return u})();function k(u){return/^[\s\xa0]*$/.test(u)}function wt(u,v){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,v)}x(wt,D),wt.prototype.init=function(u,v){const b=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=v,v=u.relatedTarget,v||(b=="mouseover"?v=u.fromElement:b=="mouseout"&&(v=u.toElement)),this.relatedTarget=v,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&wt.Z.h.call(this)},wt.prototype.h=function(){wt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ft="closure_listenable_"+(Math.random()*1e6|0),W=0;function ue(u,v,b,S,H){this.listener=u,this.proxy=null,this.src=v,this.type=b,this.capture=!!S,this.ha=H,this.key=++W,this.da=this.fa=!1}function _e(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Fe(u,v,b){for(const S in u)v.call(b,u[S],S,u)}function O(u,v){for(const b in u)v.call(void 0,u[b],b,u)}function se(u){const v={};for(const b in u)v[b]=u[b];return v}const he="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(u,v){let b,S;for(let H=1;H<arguments.length;H++){S=arguments[H];for(b in S)u[b]=S[b];for(let Y=0;Y<he.length;Y++)b=he[Y],Object.prototype.hasOwnProperty.call(S,b)&&(u[b]=S[b])}}function we(u){this.src=u,this.g={},this.h=0}we.prototype.add=function(u,v,b,S,H){const Y=u.toString();u=this.g[Y],u||(u=this.g[Y]=[],this.h++);const le=Ae(u,v,S,H);return le>-1?(v=u[le],b||(v.fa=!1)):(v=new ue(v,this.src,Y,!!S,H),v.fa=b,u.push(v)),v};function Me(u,v){const b=v.type;if(b in u.g){var S=u.g[b],H=Array.prototype.indexOf.call(S,v,void 0),Y;(Y=H>=0)&&Array.prototype.splice.call(S,H,1),Y&&(_e(v),u.g[b].length==0&&(delete u.g[b],u.h--))}}function Ae(u,v,b,S){for(let H=0;H<u.length;++H){const Y=u[H];if(!Y.da&&Y.listener==v&&Y.capture==!!b&&Y.ha==S)return H}return-1}var Xt="closure_lm_"+(Math.random()*1e6|0),Je={};function or(u,v,b,S,H){if(Array.isArray(v)){for(let Y=0;Y<v.length;Y++)or(u,v[Y],b,S,H);return null}return b=bu(b),u&&u[ft]?u.J(v,b,p(S)?!!S.capture:!1,H):ml(u,v,b,!1,S,H)}function ml(u,v,b,S,H,Y){if(!v)throw Error("Invalid event type");const le=p(H)?!!H.capture:!!H;let Re=pl(u);if(Re||(u[Xt]=Re=new we(u)),b=Re.add(v,b,S,le,Y),b.proxy)return b;if(S=za(),b.proxy=S,S.src=u,S.listener=b,u.addEventListener)U||(H=le),H===void 0&&(H=!1),u.addEventListener(v.toString(),S,H);else if(u.attachEvent)u.attachEvent(qa(v.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return b}function za(){function u(b){return v.call(u.src,u.listener,b)}const v=Ef;return u}function Ha(u,v,b,S,H){if(Array.isArray(v))for(var Y=0;Y<v.length;Y++)Ha(u,v[Y],b,S,H);else S=p(S)?!!S.capture:!!S,b=bu(b),u&&u[ft]?(u=u.i,Y=String(v).toString(),Y in u.g&&(v=u.g[Y],b=Ae(v,b,S,H),b>-1&&(_e(v[b]),Array.prototype.splice.call(v,b,1),v.length==0&&(delete u.g[Y],u.h--)))):u&&(u=pl(u))&&(v=u.g[v.toString()],u=-1,v&&(u=Ae(v,b,S,H)),(b=u>-1?v[u]:null)&&Bs(b))}function Bs(u){if(typeof u!="number"&&u&&!u.da){var v=u.src;if(v&&v[ft])Me(v.i,u);else{var b=u.type,S=u.proxy;v.removeEventListener?v.removeEventListener(b,S,u.capture):v.detachEvent?v.detachEvent(qa(b),S):v.addListener&&v.removeListener&&v.removeListener(S),(b=pl(v))?(Me(b,u),b.h==0&&(b.src=null,v[Xt]=null)):_e(u)}}}function qa(u){return u in Je?Je[u]:Je[u]="on"+u}function Ef(u,v){if(u.da)u=!0;else{v=new wt(v,this);const b=u.listener,S=u.ha||u.src;u.fa&&Bs(u),u=b.call(S,v)}return u}function pl(u){return u=u[Xt],u instanceof we?u:null}var _n="__closure_events_fn_"+(Math.random()*1e9>>>0);function bu(u){return typeof u=="function"?u:(u[_n]||(u[_n]=function(v){return u.handleEvent(v)}),u[_n])}function Vt(){M.call(this),this.i=new we(this),this.M=this,this.G=null}x(Vt,M),Vt.prototype[ft]=!0,Vt.prototype.removeEventListener=function(u,v,b,S){Ha(this,u,v,b,S)};function qt(u,v){var b,S=u.G;if(S)for(b=[];S;S=S.G)b.push(S);if(u=u.M,S=v.type||v,typeof v=="string")v=new D(v,u);else if(v instanceof D)v.target=v.target||u;else{var H=v;v=new D(S,u),ce(v,H)}H=!0;let Y,le;if(b)for(le=b.length-1;le>=0;le--)Y=v.g=b[le],H=Wr(Y,S,!0,v)&&H;if(Y=v.g=u,H=Wr(Y,S,!0,v)&&H,H=Wr(Y,S,!1,v)&&H,b)for(le=0;le<b.length;le++)Y=v.g=b[le],H=Wr(Y,S,!1,v)&&H}Vt.prototype.N=function(){if(Vt.Z.N.call(this),this.i){var u=this.i;for(const v in u.g){const b=u.g[v];for(let S=0;S<b.length;S++)_e(b[S]);delete u.g[v],u.h--}}this.G=null},Vt.prototype.J=function(u,v,b,S){return this.i.add(String(u),v,!1,b,S)},Vt.prototype.K=function(u,v,b,S){return this.i.add(String(u),v,!0,b,S)};function Wr(u,v,b,S){if(v=u.i.g[String(v)],!v)return!0;v=v.concat();let H=!0;for(let Y=0;Y<v.length;++Y){const le=v[Y];if(le&&!le.da&&le.capture==b){const Re=le.listener,ut=le.ha||le.src;le.fa&&Me(u.i,le),H=Re.call(ut,S)!==!1&&H}}return H&&!S.defaultPrevented}function Tf(u,v){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:d.setTimeout(u,v||0)}function gl(u){u.g=Tf(()=>{u.g=null,u.i&&(u.i=!1,gl(u))},u.l);const v=u.h;u.h=null,u.m.apply(null,v)}class Sf extends M{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:gl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zs(u){M.call(this),this.h=u,this.g={}}x(zs,M);var Mi=[];function sn(u){Fe(u.g,function(v,b){this.g.hasOwnProperty(b)&&Bs(v)},u),u.g={}}zs.prototype.N=function(){zs.Z.N.call(this),sn(this)},zs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fn=d.JSON.stringify,mn=d.JSON.parse,Af=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function _u(){}function xu(){}var Tr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Vi(){D.call(this,"d")}x(Vi,D);function lr(){D.call(this,"c")}x(lr,D);var Gn={},Li=null;function Fa(){return Li=Li||new Vt}Gn.Ia="serverreachability";function yl(u){D.call(this,Gn.Ia,u)}x(yl,D);function Ui(u){const v=Fa();qt(v,new yl(v))}Gn.STAT_EVENT="statevent";function Ga(u,v){D.call(this,Gn.STAT_EVENT,u),this.stat=v}x(Ga,D);function Et(u){const v=Fa();qt(v,new Ga(v,u))}Gn.Ja="timingevent";function Eu(u,v){D.call(this,Gn.Ja,u),this.size=v}x(Eu,D);function Bi(u,v){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},v)}function zi(){this.g=!0}zi.prototype.ua=function(){this.g=!1};function vl(u,v,b,S,H,Y){u.info(function(){if(u.g)if(Y){var le="",Re=Y.split("&");for(let Xe=0;Xe<Re.length;Xe++){var ut=Re[Xe].split("=");if(ut.length>1){const At=ut[0];ut=ut[1];const Rn=At.split("_");le=Rn.length>=2&&Rn[1]=="type"?le+(At+"="+ut+"&"):le+(At+"=redacted&")}}}else le=null;else le=Y;return"XMLHTTP REQ ("+S+") [attempt "+H+"]: "+v+`
`+b+`
`+le})}function wl(u,v,b,S,H,Y,le){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+H+"]: "+v+`
`+b+`
`+Y+" "+le})}function Zr(u,v,b,S){u.info(function(){return"XMLHTTP TEXT ("+v+"): "+Sr(u,b)+(S?" "+S:"")})}function Cf(u,v){u.info(function(){return"TIMEOUT: "+v})}zi.prototype.info=function(){};function Sr(u,v){if(!u.g)return v;if(!v)return null;try{const Y=JSON.parse(v);if(Y){for(u=0;u<Y.length;u++)if(Array.isArray(Y[u])){var b=Y[u];if(!(b.length<2)){var S=b[1];if(Array.isArray(S)&&!(S.length<1)){var H=S[0];if(H!="noop"&&H!="stop"&&H!="close")for(let le=1;le<S.length;le++)S[le]=""}}}}return Fn(Y)}catch{return v}}var Tt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Wt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Jr;function Hs(){}x(Hs,_u),Hs.prototype.g=function(){return new XMLHttpRequest},Jr=new Hs;function qs(u){return encodeURIComponent(String(u))}function Nf(u){var v=1;u=u.split(":");const b=[];for(;v>0&&u.length;)b.push(u.shift()),v--;return u.length&&b.push(u.join(":")),b}function cr(u,v,b,S){this.j=u,this.i=v,this.l=b,this.S=S||1,this.V=new zs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hi}function Hi(){this.i=null,this.g="",this.h=!1}var $a={},Ar={};function Cr(u,v,b){u.M=1,u.A=ti(pt(v)),u.u=b,u.R=!0,qi(u,null)}function qi(u,v){u.F=Date.now(),Fs(u),u.B=pt(u.A);var b=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),Cu(b.i,"t",S),u.C=0,b=u.j.L,u.h=new Hi,u.g=no(u.j,b?v:null,!u.u),u.P>0&&(u.O=new Sf(y(u.Y,u,u.g),u.P)),v=u.V,b=u.g,S=u.ba;var H="readystatechange";Array.isArray(H)||(H&&(Mi[0]=H.toString()),H=Mi);for(let Y=0;Y<H.length;Y++){const le=or(b,H[Y],S||v.handleEvent,!1,v.h||v);if(!le)break;v.g[le.key]=le}v=u.J?se(u.J):{},u.u?(u.v||(u.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,v)):(u.v="GET",u.g.ea(u.B,u.v,null,v)),Ui(),vl(u.i,u.v,u.B,u.l,u.S,u.u)}cr.prototype.ba=function(u){u=u.target;const v=this.O;v&&an(u)==3?v.j():this.Y(u)},cr.prototype.Y=function(u){try{if(u==this.g)e:{const Re=an(this.g),ut=this.g.ya(),Xe=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||ta(this.g)))){this.K||Re!=4||ut==7||(ut==8||Xe<=0?Ui(3):Ui(2)),Rr(this);var v=this.g.ca();this.X=v;var b=Fi(this);if(this.o=v==200,wl(this.i,this.v,this.B,this.l,this.S,Re,v),this.o){if(this.U&&!this.L){t:{if(this.g){var S,H=this.g;if((S=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(S)){var Y=S;break t}}Y=null}if(u=Y)Zr(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ya(this,u);else{this.o=!1,this.m=3,Et(12),Ir(this),Gs(this);break e}}if(this.R){u=!0;let At;for(;!this.K&&this.C<b.length;)if(At=Tu(this,b),At==Ar){Re==4&&(this.m=4,Et(14),u=!1),Zr(this.i,this.l,null,"[Incomplete Response]");break}else if(At==$a){this.m=4,Et(15),Zr(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else Zr(this.i,this.l,At,null),Ya(this,At);if(St(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||b.length!=0||this.h.h||(this.m=1,Et(16),u=!1),this.o=this.o&&u,!u)Zr(this.i,this.l,b,"[Invalid Chunked Response]"),Ir(this),Gs(this);else if(b.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Rl(le),le.P=!0,Et(11))}}else Zr(this.i,this.l,b,null),Ya(this,b);Re==4&&Ir(this),this.o&&!this.K&&(Re==4?Il(this.j,this):(this.o=!1,Fs(this)))}else na(this.g),v==400&&b.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),Ir(this),Gs(this)}}}catch{}finally{}};function Fi(u){if(!St(u))return u.g.la();const v=ta(u.g);if(v==="")return"";let b="";const S=v.length,H=an(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Ir(u),Gs(u),"";u.h.i=new d.TextDecoder}for(let Y=0;Y<S;Y++)u.h.h=!0,b+=u.h.i.decode(v[Y],{stream:!(H&&Y==S-1)});return v.length=0,u.h.g+=b,u.C=0,u.h.g}function St(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Tu(u,v){var b=u.C,S=v.indexOf(`
`,b);return S==-1?Ar:(b=Number(v.substring(b,S)),isNaN(b)?$a:(S+=1,S+b>v.length?Ar:(v=v.slice(S,S+b),u.C=S+b,v)))}cr.prototype.cancel=function(){this.K=!0,Ir(this)};function Fs(u){u.T=Date.now()+u.H,Nr(u,u.H)}function Nr(u,v){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Bi(y(u.aa,u),v)}function Rr(u){u.D&&(d.clearTimeout(u.D),u.D=null)}cr.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Cf(this.i,this.B),this.M!=2&&(Ui(),Et(17)),Ir(this),this.m=2,Gs(this)):Nr(this,this.T-u)};function Gs(u){u.j.I==0||u.K||Il(u.j,u)}function Ir(u){Rr(u);var v=u.O;v&&typeof v.dispose=="function"&&v.dispose(),u.O=null,sn(u.V),u.g&&(v=u.g,u.g=null,v.abort(),v.dispose())}function Ya(u,v){try{var b=u.j;if(b.I!=0&&(b.g==u||Ks(b.h,u))){if(!u.L&&Ks(b.h,u)&&b.I==3){try{var S=b.Ba.g.parse(v)}catch{S=null}if(Array.isArray(S)&&S.length==3){var H=S;if(H[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<u.F)to(b),kr(b);else break e;Nl(b),Et(18)}}else b.xa=H[1],0<b.xa-b.K&&H[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Bi(y(b.Va,b),6e3));$n(b.h)<=1&&b.ta&&(b.ta=void 0)}else ii(b,11)}else if((u.L||b.g==u)&&to(b),!k(v))for(H=b.Ba.g.parse(v),v=0;v<H.length;v++){let Xe=H[v];const At=Xe[0];if(!(At<=b.K))if(b.K=At,Xe=Xe[1],b.I==2)if(Xe[0]=="c"){b.M=Xe[1],b.ba=Xe[2];const Rn=Xe[3];Rn!=null&&(b.ka=Rn,b.j.info("VER="+b.ka));const jr=Xe[4];jr!=null&&(b.za=jr,b.j.info("SVER="+b.za));const hr=Xe[5];hr!=null&&typeof hr=="number"&&hr>0&&(S=1.5*hr,b.O=S,b.j.info("backChannelRequestTimeoutMs_="+S)),S=b;const fr=u.g;if(fr){const mr=fr.g?fr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mr){var Y=S.h;Y.g||mr.indexOf("spdy")==-1&&mr.indexOf("quic")==-1&&mr.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Ka(Y,Y.h),Y.h=null))}if(S.G){const jl=fr.g?fr.g.getResponseHeader("X-HTTP-Session-Id"):null;jl&&(S.wa=jl,et(S.J,S.G,jl))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-u.F,b.j.info("Handshake RTT: "+b.T+"ms")),S=b;var le=u;if(S.na=Mu(S,S.L?S.ba:null,S.W),le.L){ei(S.h,le);var Re=le,ut=S.O;ut&&(Re.H=ut),Re.D&&(Rr(Re),Fs(Re)),S.g=le}else ju(S);b.i.length>0&&aa(b)}else Xe[0]!="stop"&&Xe[0]!="close"||ii(b,7);else b.I==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?ii(b,7):ia(b):Xe[0]!="noop"&&b.l&&b.l.qa(Xe),b.A=0)}}Ui(4)}catch{}}var Rf=class{constructor(u,v){this.g=u,this.map=v}};function $s(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ys(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function $n(u){return u.h?1:u.g?u.g.size:0}function Ks(u,v){return u.h?u.h==v:u.g?u.g.has(v):!1}function Ka(u,v){u.g?u.g.add(v):u.h=v}function ei(u,v){u.h&&u.h==v?u.h=null:u.g&&u.g.has(v)&&u.g.delete(v)}$s.prototype.cancel=function(){if(this.i=Qa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Qa(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let v=u.i;for(const b of u.g.values())v=v.concat(b.G);return v}return N(u.i)}var Xa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function If(u,v){if(u){u=u.split("&");for(let b=0;b<u.length;b++){const S=u[b].indexOf("=");let H,Y=null;S>=0?(H=u[b].substring(0,S),Y=u[b].substring(S+1)):H=u[b],v(H,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function ur(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;u instanceof ur?(this.l=u.l,Gi(this,u.j),this.o=u.o,this.g=u.g,Qs(this,u.u),this.h=u.h,$i(this,Nu(u.i)),this.m=u.m):u&&(v=String(u).match(Xa))?(this.l=!1,Gi(this,v[1]||"",!0),this.o=Xs(v[2]||""),this.g=Xs(v[3]||"",!0),Qs(this,v[4]),this.h=Xs(v[5]||"",!0),$i(this,v[6]||"",!0),this.m=Xs(v[7]||"")):(this.l=!1,this.i=new Yn(null,this.l))}ur.prototype.toString=function(){const u=[];var v=this.j;v&&u.push(Ft(v,_l,!0),":");var b=this.g;return(b||v=="file")&&(u.push("//"),(v=this.o)&&u.push(Ft(v,_l,!0),"@"),u.push(qs(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&u.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(Ft(b,b.charAt(0)=="/"?Yi:xl,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",Ft(b,Au)),u.join("")},ur.prototype.resolve=function(u){const v=pt(this);let b=!!u.j;b?Gi(v,u.j):b=!!u.o,b?v.o=u.o:b=!!u.g,b?v.g=u.g:b=u.u!=null;var S=u.h;if(b)Qs(v,u.u);else if(b=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var H=v.h.lastIndexOf("/");H!=-1&&(S=v.h.slice(0,H+1)+S)}if(H=S,H==".."||H==".")S="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){S=H.lastIndexOf("/",0)==0,H=H.split("/");const Y=[];for(let le=0;le<H.length;){const Re=H[le++];Re=="."?S&&le==H.length&&Y.push(""):Re==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),S&&le==H.length&&Y.push("")):(Y.push(Re),S=!0)}S=Y.join("/")}else S=H}return b?v.h=S:b=u.i.toString()!=="",b?$i(v,Nu(u.i)):b=!!u.m,b&&(v.m=u.m),v};function pt(u){return new ur(u)}function Gi(u,v,b){u.j=b?Xs(v,!0):v,u.j&&(u.j=u.j.replace(/:$/,""))}function Qs(u,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);u.u=v}else u.u=null}function $i(u,v,b){v instanceof Yn?(u.i=v,Sl(u.i,u.l)):(b||(v=Ft(v,Su)),u.i=new Yn(v,u.l))}function et(u,v,b){u.i.set(v,b)}function ti(u){return et(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Xs(u,v){return u?v?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ft(u,v,b){return typeof u=="string"?(u=encodeURI(u).replace(v,bl),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function bl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var _l=/[#\/\?@]/g,xl=/[#\?:]/g,Yi=/[#\?]/g,Su=/[#\?@]/g,Au=/#/g;function Yn(u,v){this.h=this.g=null,this.i=u||null,this.j=!!v}function ni(u){u.g||(u.g=new Map,u.h=0,u.i&&If(u.i,function(v,b){u.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}n=Yn.prototype,n.add=function(u,v){ni(this),this.i=null,u=dr(this,u);let b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(v),this.h+=1,this};function El(u,v){ni(u),v=dr(u,v),u.g.has(v)&&(u.i=null,u.h-=u.g.get(v).length,u.g.delete(v))}function Tl(u,v){return ni(u),v=dr(u,v),u.g.has(v)}n.forEach=function(u,v){ni(this),this.g.forEach(function(b,S){b.forEach(function(H){u.call(v,H,S,this)},this)},this)};function Wa(u,v){ni(u);let b=[];if(typeof v=="string")Tl(u,v)&&(b=b.concat(u.g.get(dr(u,v))));else for(u=Array.from(u.g.values()),v=0;v<u.length;v++)b=b.concat(u[v]);return b}n.set=function(u,v){return ni(this),this.i=null,u=dr(this,u),Tl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[v]),this.h+=1,this},n.get=function(u,v){return u?(u=Wa(this,u),u.length>0?String(u[0]):v):v};function Cu(u,v,b){El(u,v),b.length>0&&(u.i=null,u.g.set(dr(u,v),N(b)),u.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],v=Array.from(this.g.keys());for(let S=0;S<v.length;S++){var b=v[S];const H=qs(b);b=Wa(this,b);for(let Y=0;Y<b.length;Y++){let le=H;b[Y]!==""&&(le+="="+qs(b[Y])),u.push(le)}}return this.i=u.join("&")};function Nu(u){const v=new Yn;return v.i=u.i,u.g&&(v.g=new Map(u.g),v.h=u.h),v}function dr(u,v){return v=String(v),u.j&&(v=v.toLowerCase()),v}function Sl(u,v){v&&!u.j&&(ni(u),u.i=null,u.g.forEach(function(b,S){const H=S.toLowerCase();S!=H&&(El(this,S),Cu(this,H,b))},u)),u.j=v}function Al(u,v){const b=new zi;if(d.Image){const S=new Image;S.onload=w(pn,b,"TestLoadImage: loaded",!0,v,S),S.onerror=w(pn,b,"TestLoadImage: error",!1,v,S),S.onabort=w(pn,b,"TestLoadImage: abort",!1,v,S),S.ontimeout=w(pn,b,"TestLoadImage: timeout",!1,v,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else v(!1)}function Ki(u,v){const b=new zi,S=new AbortController,H=setTimeout(()=>{S.abort(),pn(b,"TestPingServer: timeout",!1,v)},1e4);fetch(u,{signal:S.signal}).then(Y=>{clearTimeout(H),Y.ok?pn(b,"TestPingServer: ok",!0,v):pn(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),pn(b,"TestPingServer: error",!1,v)})}function pn(u,v,b,S,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),S(b)}catch{}}function Ru(){this.g=new Af}function Ws(u){this.i=u.Sb||null,this.h=u.ab||!1}x(Ws,_u),Ws.prototype.g=function(){return new Zs(this.i,this.h)};function Zs(u,v){Vt.call(this),this.H=u,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(Zs,Vt),n=Zs.prototype,n.open=function(u,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=v,this.readyState=1,ri(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(v.body=u),(this.H||d).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,gn(this)),this.readyState=0},n.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Qi(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Qi(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}n.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var v=u.value?u.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!u.done}))&&(this.response=this.responseText+=v)}u.done?gn(this):ri(this),this.readyState==3&&Qi(this)}},n.Oa=function(u){this.g&&(this.response=this.responseText=u,gn(this))},n.Na=function(u){this.g&&(this.response=u,gn(this))},n.ga=function(){this.g&&gn(this)};function gn(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ri(u)}n.setRequestHeader=function(u,v){this.A.append(u,v)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=v.next();return u.join(`\r
`)};function ri(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Zs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Xi(u){let v="";return Fe(u,function(b,S){v+=S,v+=":",v+=b,v+=`\r
`}),v}function Kn(u,v,b){e:{for(S in b){var S=!1;break e}S=!0}S||(b=Xi(b),typeof u=="string"?b!=null&&qs(b):et(u,v,b))}function st(u){Vt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(st,Vt);var Za=/^https?$/i,Iu=["POST","PUT"];n=st.prototype,n.Fa=function(u){this.H=u},n.ea=function(u,v,b,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);v=v?v.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Jr.g(),this.g.onreadystatechange=T(y(this.Ca,this));try{this.B=!0,this.g.open(v,String(u),!0),this.B=!1}catch(Y){Js(this,Y);return}if(u=b||"",b=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var H in S)b.set(H,S[H]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Y of S.keys())b.set(Y,S.get(Y));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(b.keys()).find(Y=>Y.toLowerCase()=="content-type"),H=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Iu,v,void 0)>=0)||S||H||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,le]of b)this.g.setRequestHeader(Y,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(Y){Js(this,Y)}};function Js(u,v){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=v,u.o=5,ea(u),Lt(u)}function ea(u){u.A||(u.A=!0,qt(u,"complete"),qt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,qt(this,"complete"),qt(this,"abort"),Lt(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lt(this,!0)),st.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Cl(this):this.Xa())},n.Xa=function(){Cl(this)};function Cl(u){if(u.h&&typeof c<"u"){if(u.v&&an(u)==4)setTimeout(u.Ca.bind(u),0);else if(qt(u,"readystatechange"),an(u)==4){u.h=!1;try{const Y=u.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var S;if(S=Y===0){let le=String(u.D).match(Xa)[1]||null;!le&&d.self&&d.self.location&&(le=d.self.location.protocol.slice(0,-1)),S=!Za.test(le?le.toLowerCase():"")}b=S}if(b)qt(u,"complete"),qt(u,"success");else{u.o=6;try{var H=an(u)>2?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.ca()+"]",ea(u)}}finally{Lt(u)}}}}function Lt(u,v){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const b=u.g;u.g=null,v||qt(u,"ready");try{b.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function an(u){return u.g?u.g.readyState:0}n.ca=function(){try{return an(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(u){if(this.g){var v=this.g.responseText;return u&&v.indexOf(u)==0&&(v=v.substring(u.length)),mn(v)}};function ta(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function na(u){const v={};u=(u.g&&an(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(k(u[S]))continue;var b=Nf(u[S]);const H=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const Y=v[H]||[];v[H]=Y,Y.push(b)}O(v,function(S){return S.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ra(u,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||v}function Ja(u){this.za=0,this.i=[],this.j=new zi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ra("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ra("baseRetryDelayMs",5e3,u),this.Za=ra("retryDelaySeedMs",1e4,u),this.Ta=ra("forwardChannelMaxRetries",2,u),this.va=ra("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new $s(u&&u.concurrentRequestLimit),this.Ba=new Ru,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ja.prototype,n.ka=8,n.I=1,n.connect=function(u,v,b,S){Et(0),this.W=u,this.H=v||{},b&&S!==void 0&&(this.H.OSID=b,this.H.OAID=S),this.F=this.X,this.J=Mu(this,null,this.W),aa(this)};function ia(u){if(sa(u),u.I==3){var v=u.V++,b=pt(u.J);if(et(b,"SID",u.M),et(b,"RID",v),et(b,"TYPE","terminate"),oa(u,b),v=new cr(u,u.j,v),v.M=2,v.A=ti(pt(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(v.A.toString(),"")}catch{}!b&&d.Image&&(new Image().src=v.A,b=!0),b||(v.g=no(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Fs(v)}Pu(u)}function kr(u){u.g&&(Rl(u),u.g.cancel(),u.g=null)}function sa(u){kr(u),u.v&&(d.clearTimeout(u.v),u.v=null),to(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function aa(u){if(!Ys(u.h)&&!u.m){u.m=!0;var v=u.Ea;oe||A(),ie||(oe(),ie=!0),I.add(v,u),u.D=0}}function kf(u,v){return $n(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=v.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Bi(y(u.Ea,u,v),Ou(u,u.D)),u.D++,!0)}n.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const H=new cr(this,this.j,u);let Y=this.o;if(this.U&&(Y?(Y=se(Y),ce(Y,this.U)):Y=this.U),this.u!==null||this.R||(H.J=Y,Y=null),this.S)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var S=this.i[b];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(v+=S,v>4096){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=eo(this,H,v),b=pt(this.J),et(b,"RID",u),et(b,"CVER",22),this.G&&et(b,"X-HTTP-Session-Id",this.G),oa(this,b),Y&&(this.R?v="headers="+qs(Xi(Y))+"&"+v:this.u&&Kn(b,this.u,Y)),Ka(this.h,H),this.Ra&&et(b,"TYPE","init"),this.S?(et(b,"$req",v),et(b,"SID","null"),H.U=!0,Cr(H,b,null)):Cr(H,b,v),this.I=2}}else this.I==3&&(u?ku(this,u):this.i.length==0||Ys(this.h)||ku(this))};function ku(u,v){var b;v?b=v.l:b=u.V++;const S=pt(u.J);et(S,"SID",u.M),et(S,"RID",b),et(S,"AID",u.K),oa(u,S),u.u&&u.o&&Kn(S,u.u,u.o),b=new cr(u,u.j,b,u.D+1),u.u===null&&(b.J=u.o),v&&(u.i=v.G.concat(u.i)),v=eo(u,b,1e3),b.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ka(u.h,b),Cr(b,S,v)}function oa(u,v){u.H&&Fe(u.H,function(b,S){et(v,S,b)}),u.l&&Fe({},function(b,S){et(v,S,b)})}function eo(u,v,b){b=Math.min(u.i.length,b);const S=u.l?y(u.l.Ka,u.l,u):null;e:{var H=u.i;let Re=-1;for(;;){const ut=["count="+b];Re==-1?b>0?(Re=H[0].g,ut.push("ofs="+Re)):Re=0:ut.push("ofs="+Re);let Xe=!0;for(let At=0;At<b;At++){var Y=H[At].g;const Rn=H[At].map;if(Y-=Re,Y<0)Re=Math.max(0,H[At].g-100),Xe=!1;else try{Y="req"+Y+"_"||"";try{var le=Rn instanceof Map?Rn:Object.entries(Rn);for(const[jr,hr]of le){let fr=hr;p(hr)&&(fr=Fn(hr)),ut.push(Y+jr+"="+encodeURIComponent(fr))}}catch(jr){throw ut.push(Y+"type="+encodeURIComponent("_badmap")),jr}}catch{S&&S(Rn)}}if(Xe){le=ut.join("&");break e}}le=void 0}return u=u.i.splice(0,b),v.G=u,le}function ju(u){if(!u.g&&!u.v){u.Y=1;var v=u.Da;oe||A(),ie||(oe(),ie=!0),I.add(v,u),u.A=0}}function Nl(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Bi(y(u.Da,u),Ou(u,u.A)),u.A++,!0)}n.Da=function(){if(this.v=null,Du(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Bi(y(this.Wa,this),u)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),kr(this),Du(this))};function Rl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Du(u){u.g=new cr(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var v=pt(u.na);et(v,"RID","rpc"),et(v,"SID",u.M),et(v,"AID",u.K),et(v,"CI",u.F?"0":"1"),!u.F&&u.ia&&et(v,"TO",u.ia),et(v,"TYPE","xmlhttp"),oa(u,v),u.u&&u.o&&Kn(v,u.u,u.o),u.O&&(u.g.H=u.O);var b=u.g;u=u.ba,b.M=1,b.A=ti(pt(v)),b.u=null,b.R=!0,qi(b,u)}n.Va=function(){this.C!=null&&(this.C=null,kr(this),Nl(this),Et(19))};function to(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Il(u,v){var b=null;if(u.g==v){to(u),Rl(u),u.g=null;var S=2}else if(Ks(u.h,v))b=v.G,ei(u.h,v),S=1;else return;if(u.I!=0){if(v.o)if(S==1){b=v.u?v.u.length:0,v=Date.now()-v.F;var H=u.D;S=Fa(),qt(S,new Eu(S,b)),aa(u)}else ju(u);else if(H=v.m,H==3||H==0&&v.X>0||!(S==1&&kf(u,v)||S==2&&Nl(u)))switch(b&&b.length>0&&(v=u.h,v.i=v.i.concat(b)),H){case 1:ii(u,5);break;case 4:ii(u,10);break;case 3:ii(u,6);break;default:ii(u,2)}}}function Ou(u,v){let b=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(b*=2),b*v}function ii(u,v){if(u.j.info("Error code "+v),v==2){var b=y(u.bb,u),S=u.Ua;const H=!S;S=new ur(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Gi(S,"https"),ti(S),H?Al(S.toString(),b):Ki(S.toString(),b)}else Et(2);u.I=0,u.l&&u.l.pa(v),Pu(u),sa(u)}n.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function Pu(u){if(u.I=0,u.ja=[],u.l){const v=Qa(u.h);(v.length!=0||u.i.length!=0)&&(V(u.ja,v),V(u.ja,u.i),u.h.i.length=0,N(u.i),u.i.length=0),u.l.oa()}}function Mu(u,v,b){var S=b instanceof ur?pt(b):new ur(b);if(S.g!="")v&&(S.g=v+"."+S.g),Qs(S,S.u);else{var H=d.location;S=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;const Y=new ur(null);S&&Gi(Y,S),v&&(Y.g=v),H&&Qs(Y,H),b&&(Y.h=b),S=Y}return b=u.G,v=u.wa,b&&v&&et(S,b,v),et(S,"VER",u.ka),oa(u,S),S}function no(u,v,b){if(v&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=u.Aa&&!u.ma?new st(new Ws({ab:b})):new st(u.ma),v.Fa(u.L),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vu(){}n=Vu.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function ro(){}ro.prototype.g=function(u,v){return new yn(u,v)};function yn(u,v){Vt.call(this),this.g=new Ja(v),this.l=u,this.h=v&&v.messageUrlParams||null,u=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(u?u["X-WebChannel-Content-Type"]=v.messageContentType:u={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(u?u["X-WebChannel-Client-Profile"]=v.sa:u={"X-WebChannel-Client-Profile":v.sa}),this.g.U=u,(u=v&&v.Qb)&&!k(u)&&(this.g.u=u),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!k(v)&&(this.g.G=v,u=this.h,u!==null&&v in u&&(u=this.h,v in u&&delete u[v])),this.j=new Wi(this)}x(yn,Vt),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){ia(this.g)},yn.prototype.o=function(u){var v=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.v&&(b={},b.__data__=Fn(u),u=b);v.i.push(new Rf(v.Ya++,u)),v.I==3&&aa(v)},yn.prototype.N=function(){this.g.l=null,delete this.j,ia(this.g),delete this.g,yn.Z.N.call(this)};function kl(u){Vi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var v=u.__sm__;if(v){e:{for(const b in v){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,v=v!==null&&u in v?v[u]:void 0),this.data=v}else this.data=u}x(kl,Vi);function Lu(){lr.call(this),this.status=1}x(Lu,lr);function Wi(u){this.g=u}x(Wi,Vu),Wi.prototype.ra=function(){qt(this.g,"a")},Wi.prototype.qa=function(u){qt(this.g,new kl(u))},Wi.prototype.pa=function(u){qt(this.g,new Lu)},Wi.prototype.oa=function(){qt(this.g,"b")},ro.prototype.createWebChannel=ro.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,A_=function(){return new ro},S_=function(){return Fa()},T_=Gn,Jp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Tt.NO_ERROR=0,Tt.TIMEOUT=8,Tt.HTTP_ERROR=6,Wd=Tt,Wt.COMPLETE="complete",E_=Wt,xu.EventType=Tr,Tr.OPEN="a",Tr.CLOSE="b",Tr.ERROR="c",Tr.MESSAGE="d",Vt.prototype.listen=Vt.prototype.J,Sc=xu,st.prototype.listenOnce=st.prototype.K,st.prototype.getLastError=st.prototype.Ha,st.prototype.getLastErrorCode=st.prototype.ya,st.prototype.getStatus=st.prototype.ca,st.prototype.getResponseJson=st.prototype.La,st.prototype.getResponseText=st.prototype.la,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Fa,x_=st}).apply(typeof Bd<"u"?Bd:typeof self<"u"?self:typeof window<"u"?window:{});const n1="@firebase/firestore",r1="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da=new Rg("@firebase/firestore");function Do(){return Da.logLevel}function fe(n,...e){if(Da.logLevel<=Ve.DEBUG){const t=e.map(Kg);Da.debug(`Firestore (${rl}): ${n}`,...t)}}function ki(n,...e){if(Da.logLevel<=Ve.ERROR){const t=e.map(Kg);Da.error(`Firestore (${rl}): ${n}`,...t)}}function $o(n,...e){if(Da.logLevel<=Ve.WARN){const t=e.map(Kg);Da.warn(`Firestore (${rl}): ${n}`,...t)}}function Kg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,C_(n,s,t)}function C_(n,e,t){let s=`FIRESTORE (${rl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw ki(s),new Error(s)}function Qe(n,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,n||C_(e,o,s)}function Ie(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Pi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(un.UNAUTHENTICATED)))}shutdown(){}}class dC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class hC{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Qe(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,t(g)):Promise.resolve();let c=new Ti;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ti,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ti)}}),0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qe(typeof s.accessToken=="string",31837,{l:s}),new N_(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new un(e)}}class fC{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class mC{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new fC(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(un.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class i1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pC{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Qe(this.o===void 0,3512);const s=c=>{c.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,fe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new i1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Qe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new i1(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=gC(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<t&&(s+=e.charAt(o[c]%62))}return s}}function Le(n,e){return n<e?-1:n>e?1:0}function eg(n,e){const t=Math.min(n.length,e.length);for(let s=0;s<t;s++){const o=n.charAt(s),c=e.charAt(s);if(o!==c)return Pp(o)===Pp(c)?Le(o,c):Pp(o)?1:-1}return Le(n.length,e.length)}const yC=55296,vC=57343;function Pp(n){const e=n.charCodeAt(0);return e>=yC&&e<=vC}function Yo(n,e,t){return n.length===e.length&&n.every(((s,o)=>t(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="__name__";class Ur{constructor(e,t,s){t===void 0?t=0:t>e.length&&Se(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Se(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Ur.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ur?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const c=Ur.compareSegments(e.get(o),t.get(o));if(c!==0)return c}return Le(e.length,t.length)}static compareSegments(e,t){const s=Ur.isNumericId(e),o=Ur.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Ur.extractNumericId(e).compare(Ur.extractNumericId(t)):eg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ns.fromString(e.substring(4,e.length-2))}}class ot extends Ur{construct(e,t,s){return new ot(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new ot(t)}static emptyPath(){return new ot([])}}const wC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Ur{construct(e,t,s){return new nn(e,t,s)}static isValidIdentifier(e){return wC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===s1}static keyField(){return new nn([s1])}static fromServerFormat(e){const t=[];let s="",o=0;const c=()=>{if(s.length===0)throw new de(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new de(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new de(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(s+=p,o++):(c(),o++)}if(c(),d)throw new de(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(t)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(ot.fromString(e))}static fromName(e){return new be(ot.fromString(e).popFirst(5))}static empty(){return new be(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ot.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new ot(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(n,e,t){if(!t)throw new de(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function bC(n,e,t,s){if(e===!0&&s===!0)throw new de(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function a1(n){if(!be.isDocumentKey(n))throw new de(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function o1(n){if(be.isDocumentKey(n))throw new de(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function I_(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function $h(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Se(12329,{type:typeof n})}function Cn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new de(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=$h(n);throw new de(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(n,e){const t={typeString:n};return e&&(t.value=e),t}function tu(n,e){if(!I_(n))throw new de(te.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){t=`JSON missing required field: '${s}'`;break}const d=n[s];if(o&&typeof d!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){t=`Expected '${s}' field to equal '${c.value}'`;break}}if(t)throw new de(te.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=-62135596800,c1=1e6;class dt{static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*c1);return new dt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new de(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new de(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<l1)throw new de(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/c1}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:dt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(tu(e,dt._jsonSchema))return new dt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-l1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}dt._jsonSchemaVersion="firestore/timestamp/1.0",dt._jsonSchema={type:Mt("string",dt._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new dt(0,0))}static max(){return new Ne(new dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=-1;function _C(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,o=Ne.fromTimestamp(s===1e9?new dt(t+1,0):new dt(t,s));return new Is(o,be.empty(),e)}function xC(n){return new Is(n.readTime,n.key,zc)}class Is{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Is(Ne.min(),be.empty(),zc)}static max(){return new Is(Ne.max(),be.empty(),zc)}}function EC(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=be.comparator(n.documentKey,e.documentKey),t!==0?t:Le(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function il(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==TC)throw n;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new re(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof re?t:re.resolve(t)}catch(t){return re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):re.reject(t)}static resolve(e){return new re(((t,s)=>{t(e)}))}static reject(e){return new re(((t,s)=>{s(e)}))}static waitFor(e){return new re(((t,s)=>{let o=0,c=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&t()}),(g=>s(g)))})),d=!0,c===o&&t()}))}static or(e){let t=re.resolve(!1);for(const s of e)t=t.next((o=>o?re.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,c)=>{s.push(t.call(this,o,c))})),this.waitFor(s)}static mapArray(e,t){return new re(((s,o)=>{const c=e.length,d=new Array(c);let p=0;for(let g=0;g<c;g++){const y=g;t(e[y]).next((w=>{d[y]=w,++p,p===c&&s(d)}),(w=>o(w)))}}))}static doWhile(e,t){return new re(((s,o)=>{const c=()=>{e()===!0?t().next((()=>{c()}),o):s()};c()}))}}function AC(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function sl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Yh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg=-1;function Kh(n){return n==null}function ph(n){return n===0&&1/n==-1/0}function CC(n){return typeof n=="number"&&Number.isInteger(n)&&!ph(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="";function NC(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=u1(e)),e=RC(n.get(t),e);return u1(e)}function RC(n,e){let t=e;const s=n.length;for(let o=0;o<s;o++){const c=n.charAt(o);switch(c){case"\0":t+="";break;case k_:t+="";break;default:t+=c}}return t}function u1(n){return n+k_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ms(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function j_(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,t){this.comparator=e,this.root=t||tn.EMPTY}insert(e,t){return new vt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zd(this.root,e,this.comparator,!1)}getReverseIterator(){return new zd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zd(this.root,e,this.comparator,!0)}}class zd{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,t,s,o,c){this.key=e,this.value=t,this.color=s??tn.RED,this.left=o??tn.EMPTY,this.right=c??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,c){return new tn(e??this.key,t??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,t,s),null):c===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return tn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,t,s,o,c){return this}insert(e,t,s){return new tn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new h1(this.data.getIterator())}getIteratorFrom(e){return new h1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new zt(this.comparator);return t.data=e,t}}class h1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new Ln([])}unionWith(e){let t=new zt(nn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Ln(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Yo(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new D_("Invalid base64 string: "+c):c}})(e);return new rn(t)}static fromUint8Array(e){const t=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new rn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const IC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ks(n){if(Qe(!!n,39018),typeof n=="string"){let e=0;const t=IC.exec(n);if(Qe(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:It(n.seconds),nanos:It(n.nanos)}}function It(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function js(n){return typeof n=="string"?rn.fromBase64String(n):rn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_="server_timestamp",P_="__type__",M_="__previous_value__",V_="__local_write_time__";function Wg(n){return(n?.mapValue?.fields||{})[P_]?.stringValue===O_}function Qh(n){const e=n.mapValue.fields[M_];return Wg(e)?Qh(e):e}function Hc(n){const e=ks(n.mapValue.fields[V_].timestampValue);return new dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,t,s,o,c,d,p,g,y,w){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=w}}const gh="(default)";class qc{constructor(e,t){this.projectId=e,this.database=t||gh}static empty(){return new qc("","")}get isDefaultDatabase(){return this.database===gh}isEqual(e){return e instanceof qc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="__type__",jC="__max__",Hd={mapValue:{}},U_="__vector__",yh="value";function Ds(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Wg(n)?4:OC(n)?9007199254740991:DC(n)?10:11:Se(28295,{value:n})}function $r(n,e){if(n===e)return!0;const t=Ds(n);if(t!==Ds(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Hc(n).isEqual(Hc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=ks(o.timestampValue),p=ks(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,c){return js(o.bytesValue).isEqual(js(c.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,c){return It(o.geoPointValue.latitude)===It(c.geoPointValue.latitude)&&It(o.geoPointValue.longitude)===It(c.geoPointValue.longitude)})(n,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return It(o.integerValue)===It(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=It(o.doubleValue),p=It(c.doubleValue);return d===p?ph(d)===ph(p):isNaN(d)&&isNaN(p)}return!1})(n,e);case 9:return Yo(n.arrayValue.values||[],e.arrayValue.values||[],$r);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(d1(d)!==d1(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!$r(d[g],p[g])))return!1;return!0})(n,e);default:return Se(52216,{left:n})}}function Fc(n,e){return(n.values||[]).find((t=>$r(t,e)))!==void 0}function Ko(n,e){if(n===e)return 0;const t=Ds(n),s=Ds(e);if(t!==s)return Le(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Le(n.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=It(c.integerValue||c.doubleValue),g=It(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(n,e);case 3:return f1(n.timestampValue,e.timestampValue);case 4:return f1(Hc(n),Hc(e));case 5:return eg(n.stringValue,e.stringValue);case 6:return(function(c,d){const p=js(c),g=js(d);return p.compareTo(g)})(n.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),g=d.split("/");for(let y=0;y<p.length&&y<g.length;y++){const w=Le(p[y],g[y]);if(w!==0)return w}return Le(p.length,g.length)})(n.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=Le(It(c.latitude),It(d.latitude));return p!==0?p:Le(It(c.longitude),It(d.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return m1(n.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},g=d.fields||{},y=p[yh]?.arrayValue,w=g[yh]?.arrayValue,x=Le(y?.values?.length||0,w?.values?.length||0);return x!==0?x:m1(y,w)})(n.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Hd.mapValue&&d===Hd.mapValue)return 0;if(c===Hd.mapValue)return 1;if(d===Hd.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),y=d.fields||{},w=Object.keys(y);g.sort(),w.sort();for(let x=0;x<g.length&&x<w.length;++x){const T=eg(g[x],w[x]);if(T!==0)return T;const N=Ko(p[g[x]],y[w[x]]);if(N!==0)return N}return Le(g.length,w.length)})(n.mapValue,e.mapValue);default:throw Se(23264,{he:t})}}function f1(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Le(n,e);const t=ks(n),s=ks(e),o=Le(t.seconds,s.seconds);return o!==0?o:Le(t.nanos,s.nanos)}function m1(n,e){const t=n.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const c=Ko(t[o],s[o]);if(c)return c}return Le(t.length,s.length)}function Qo(n){return tg(n)}function tg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const s=ks(t);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return js(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return be.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let s="[",o=!0;for(const c of t.values||[])o?o=!1:s+=",",s+=tg(c);return s+"]"})(n.arrayValue):"mapValue"in n?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${tg(t.fields[d])}`;return o+"}"})(n.mapValue):Se(61005,{value:n})}function Zd(n){switch(Ds(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qh(n);return e?16+Zd(e):16;case 5:return 2*n.stringValue.length;case 6:return js(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+Zd(c)),0)})(n.arrayValue);case 10:case 11:return(function(s){let o=0;return Ms(s.fields,((c,d)=>{o+=c.length+Zd(d)})),o})(n.mapValue);default:throw Se(13486,{value:n})}}function p1(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ng(n){return!!n&&"integerValue"in n}function Zg(n){return!!n&&"arrayValue"in n}function g1(n){return!!n&&"nullValue"in n}function y1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Jd(n){return!!n&&"mapValue"in n}function DC(n){return(n?.mapValue?.fields||{})[L_]?.stringValue===U_}function jc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Ms(n.mapValue.fields,((t,s)=>e.mapValue.fields[t]=jc(s))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=jc(n.arrayValue.values[t]);return e}return{...n}}function OC(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===jC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.value=e}static empty(){return new An({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Jd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=jc(t)}setAll(e){let t=nn.emptyPath(),s={},o=[];e.forEach(((d,p)=>{if(!t.isImmediateParentOf(p)){const g=this.getFieldsMap(t);this.applyChanges(g,s,o),s={},o=[],t=p.popLast()}d?s[p.lastSegment()]=jc(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(t);this.applyChanges(c,s,o)}delete(e){const t=this.field(e.popLast());Jd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return $r(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Jd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Ms(t,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new An(jc(this.value))}}function B_(n){const e=[];return Ms(n.fields,((t,s)=>{const o=new nn([t]);if(Jd(s)){const c=B_(s.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new Ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,t,s,o,c,d,p){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new dn(e,0,Ne.min(),Ne.min(),Ne.min(),An.empty(),0)}static newFoundDocument(e,t,s,o){return new dn(e,1,t,Ne.min(),s,o,0)}static newNoDocument(e,t){return new dn(e,2,t,Ne.min(),Ne.min(),An.empty(),0)}static newUnknownDocument(e,t){return new dn(e,3,t,Ne.min(),Ne.min(),An.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,t){this.position=e,this.inclusive=t}}function v1(n,e,t){let s=0;for(let o=0;o<n.position.length;o++){const c=e[o],d=n.position[o];if(c.field.isKeyField()?s=be.comparator(be.fromName(d.referenceValue),t.key):s=Ko(d,t.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function w1(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!$r(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,t="asc"){this.field=e,this.dir=t}}function PC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{}class Pt extends z_{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new VC(e,t,s):t==="array-contains"?new BC(e,s):t==="in"?new zC(e,s):t==="not-in"?new HC(e,s):t==="array-contains-any"?new qC(e,s):new Pt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new LC(e,s):new UC(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ko(t,this.value)):t!==null&&Ds(this.value)===Ds(t)&&this.matchesComparison(Ko(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class br extends z_{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new br(e,t)}matches(e){return H_(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function H_(n){return n.op==="and"}function q_(n){return MC(n)&&H_(n)}function MC(n){for(const e of n.filters)if(e instanceof br)return!1;return!0}function rg(n){if(n instanceof Pt)return n.field.canonicalString()+n.op.toString()+Qo(n.value);if(q_(n))return n.filters.map((e=>rg(e))).join(",");{const e=n.filters.map((t=>rg(t))).join(",");return`${n.op}(${e})`}}function F_(n,e){return n instanceof Pt?(function(s,o){return o instanceof Pt&&s.op===o.op&&s.field.isEqual(o.field)&&$r(s.value,o.value)})(n,e):n instanceof br?(function(s,o){return o instanceof br&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,d,p)=>c&&F_(d,o.filters[p])),!0):!1})(n,e):void Se(19439)}function G_(n){return n instanceof Pt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Qo(t.value)}`})(n):n instanceof br?(function(t){return t.op.toString()+" {"+t.getFilters().map(G_).join(" ,")+"}"})(n):"Filter"}class VC extends Pt{constructor(e,t,s){super(e,t,s),this.key=be.fromName(s.referenceValue)}matches(e){const t=be.comparator(e.key,this.key);return this.matchesComparison(t)}}class LC extends Pt{constructor(e,t){super(e,"in",t),this.keys=$_("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class UC extends Pt{constructor(e,t){super(e,"not-in",t),this.keys=$_("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function $_(n,e){return(e.arrayValue?.values||[]).map((t=>be.fromName(t.referenceValue)))}class BC extends Pt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Zg(t)&&Fc(t.arrayValue,this.value)}}class zC extends Pt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Fc(this.value.arrayValue,t)}}class HC extends Pt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Fc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Fc(this.value.arrayValue,t)}}class qC extends Pt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Zg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Fc(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,t=null,s=[],o=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function b1(n,e=null,t=[],s=[],o=null,c=null,d=null){return new FC(n,e,t,s,o,c,d)}function Jg(n){const e=Ie(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>rg(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Kh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>Qo(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>Qo(s))).join(",")),e.Te=t}return e.Te}function e0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!PC(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!F_(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!w1(n.startAt,e.startAt)&&w1(n.endAt,e.endAt)}function ig(n){return be.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,t=null,s=[],o=[],c=null,d="F",p=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function GC(n,e,t,s,o,c,d,p){return new al(n,e,t,s,o,c,d,p)}function Xh(n){return new al(n)}function _1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Y_(n){return n.collectionGroup!==null}function Dc(n){const e=Ie(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),t.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new zt(nn.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{t.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Gc(c,s))})),t.has(nn.keyField().canonicalString())||e.Ie.push(new Gc(nn.keyField(),s))}return e.Ie}function Hr(n){const e=Ie(n);return e.Ee||(e.Ee=$C(e,Dc(n))),e.Ee}function $C(n,e){if(n.limitType==="F")return b1(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Gc(o.field,c)}));const t=n.endAt?new vh(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new vh(n.startAt.position,n.startAt.inclusive):null;return b1(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function sg(n,e){const t=n.filters.concat([e]);return new al(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function ag(n,e,t){return new al(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Wh(n,e){return e0(Hr(n),Hr(e))&&n.limitType===e.limitType}function K_(n){return`${Jg(Hr(n))}|lt:${n.limitType}`}function Oo(n){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>G_(o))).join(", ")}]`),Kh(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>Qo(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>Qo(o))).join(",")),`Target(${s})`})(Hr(n))}; limitType=${n.limitType})`}function Zh(n,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):be.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(n,e)&&(function(s,o){for(const c of Dc(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(n,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(n,e)&&(function(s,o){return!(s.startAt&&!(function(d,p,g){const y=v1(d,p,g);return d.inclusive?y<=0:y<0})(s.startAt,Dc(s),o)||s.endAt&&!(function(d,p,g){const y=v1(d,p,g);return d.inclusive?y>=0:y>0})(s.endAt,Dc(s),o))})(n,e)}function YC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Q_(n){return(e,t)=>{let s=!1;for(const o of Dc(n)){const c=KC(o,e,t);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function KC(n,e,t){const s=n.field.isKeyField()?be.comparator(e.key,t.key):(function(c,d,p){const g=d.data.field(c),y=p.data.field(c);return g!==null&&y!==null?Ko(g,y):Se(42886)})(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Se(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ms(this.inner,((t,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return j_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=new vt(be.comparator);function ji(){return QC}const X_=new vt(be.comparator);function Ac(...n){let e=X_;for(const t of n)e=e.insert(t.key,t);return e}function W_(n){let e=X_;return n.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function Sa(){return Oc()}function Z_(){return Oc()}function Oc(){return new Va((n=>n.toString()),((n,e)=>n.isEqual(e)))}const XC=new vt(be.comparator),WC=new zt(be.comparator);function Ue(...n){let e=WC;for(const t of n)e=e.add(t);return e}const ZC=new zt(Le);function JC(){return ZC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ph(e)?"-0":e}}function J_(n){return{integerValue:""+n}}function e5(n,e){return CC(e)?J_(e):t0(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(){this._=void 0}}function t5(n,e,t){return n instanceof $c?(function(o,c){const d={fields:{[P_]:{stringValue:O_},[V_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Wg(c)&&(c=Qh(c)),c&&(d.fields[M_]=c),{mapValue:d}})(t,e):n instanceof Yc?tx(n,e):n instanceof Kc?nx(n,e):(function(o,c){const d=ex(o,c),p=x1(d)+x1(o.Ae);return ng(d)&&ng(o.Ae)?J_(p):t0(o.serializer,p)})(n,e)}function n5(n,e,t){return n instanceof Yc?tx(n,e):n instanceof Kc?nx(n,e):t}function ex(n,e){return n instanceof wh?(function(s){return ng(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class $c extends Jh{}class Yc extends Jh{constructor(e){super(),this.elements=e}}function tx(n,e){const t=rx(e);for(const s of n.elements)t.some((o=>$r(o,s)))||t.push(s);return{arrayValue:{values:t}}}class Kc extends Jh{constructor(e){super(),this.elements=e}}function nx(n,e){let t=rx(e);for(const s of n.elements)t=t.filter((o=>!$r(o,s)));return{arrayValue:{values:t}}}class wh extends Jh{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function x1(n){return It(n.integerValue||n.doubleValue)}function rx(n){return Zg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(e,t){this.field=e,this.transform=t}}function i5(n,e){return n.field.isEqual(e.field)&&(function(s,o){return s instanceof Yc&&o instanceof Yc||s instanceof Kc&&o instanceof Kc?Yo(s.elements,o.elements,$r):s instanceof wh&&o instanceof wh?$r(s.Ae,o.Ae):s instanceof $c&&o instanceof $c})(n.transform,e.transform)}class s5{constructor(e,t){this.version=e,this.transformResults=t}}class ir{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ir}static exists(e){return new ir(void 0,e)}static updateTime(e){return new ir(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function eh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ef{}function ix(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new n0(n.key,ir.none()):new nu(n.key,n.data,ir.none());{const t=n.data,s=An.empty();let o=new zt(nn.comparator);for(let c of e.fields)if(!o.has(c)){let d=t.field(c);d===null&&c.length>1&&(c=c.popLast(),d=t.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new Vs(n.key,s,new Ln(o.toArray()),ir.none())}}function a5(n,e,t){n instanceof nu?(function(o,c,d){const p=o.value.clone(),g=T1(o.fieldTransforms,c,d.transformResults);p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(n,e,t):n instanceof Vs?(function(o,c,d){if(!eh(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=T1(o.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(sx(o)),g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(n,e,t):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,t)}function Pc(n,e,t,s){return n instanceof nu?(function(c,d,p,g){if(!eh(c.precondition,d))return p;const y=c.value.clone(),w=S1(c.fieldTransforms,g,d);return y.setAll(w),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(n,e,t,s):n instanceof Vs?(function(c,d,p,g){if(!eh(c.precondition,d))return p;const y=S1(c.fieldTransforms,g,d),w=d.data;return w.setAll(sx(c)),w.setAll(y),d.convertToFoundDocument(d.version,w).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((x=>x.field)))})(n,e,t,s):(function(c,d,p){return eh(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(n,e,t)}function o5(n,e){let t=null;for(const s of n.fieldTransforms){const o=e.data.field(s.field),c=ex(s.transform,o||null);c!=null&&(t===null&&(t=An.empty()),t.set(s.field,c))}return t||null}function E1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Yo(s,o,((c,d)=>i5(c,d)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class nu extends ef{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Vs extends ef{constructor(e,t,s,o,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function sx(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}})),e}function T1(n,e,t){const s=new Map;Qe(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const c=n[o],d=c.transform,p=e.data.field(c.field);s.set(c.field,n5(d,p,t[o]))}return s}function S1(n,e,t){const s=new Map;for(const o of n){const c=o.transform,d=t.data.field(o.field);s.set(o.field,t5(c,d,e))}return s}class n0 extends ef{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class l5 extends ef{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&a5(c,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Pc(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Pc(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Z_();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=t.has(o.key)?null:p;const g=ix(d,p);g!==null&&s.set(o.key,g),d.isValidDocument()||d.convertToNoDocument(Ne.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&Yo(this.mutations,e.mutations,((t,s)=>E1(t,s)))&&Yo(this.baseMutations,e.baseMutations,((t,s)=>E1(t,s)))}}class r0{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Qe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return XC})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new r0(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot,He;function h5(n){switch(n){case te.OK:return Se(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Se(15467,{code:n})}}function ax(n){if(n===void 0)return ki("GRPC error has no .code"),te.UNKNOWN;switch(n){case Ot.OK:return te.OK;case Ot.CANCELLED:return te.CANCELLED;case Ot.UNKNOWN:return te.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return te.INTERNAL;case Ot.UNAVAILABLE:return te.UNAVAILABLE;case Ot.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Ot.NOT_FOUND:return te.NOT_FOUND;case Ot.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Ot.ABORTED:return te.ABORTED;case Ot.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Ot.DATA_LOSS:return te.DATA_LOSS;default:return Se(39323,{code:n})}}(He=Ot||(Ot={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f5(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5=new Ns([4294967295,4294967295],0);function A1(n){const e=f5().encode(n),t=new __;return t.update(e),new Uint8Array(t.digest())}function C1(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ns([t,s],0),new Ns([o,c],0)]}class i0{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Cc(`Invalid padding: ${t}`);if(s<0)throw new Cc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Cc(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Cc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ns.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(Ns.fromNumber(s)));return o.compare(m5)===1&&(o=new Ns([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=A1(e),[s,o]=C1(t);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);if(!this.we(d))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new i0(c,o,t);return s.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const t=A1(e),[s,o]=C1(t);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);this.Se(d)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Cc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,t,s,o,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,ru.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new tf(Ne.min(),o,new vt(Le),ji(),Ue())}}class ru{constructor(e,t,s,o,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new ru(s,t,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class ox{constructor(e,t){this.targetId=e,this.Ce=t}}class lx{constructor(e,t,s=rn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class N1{constructor(){this.ve=0,this.Fe=R1(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),t=Ue(),s=Ue();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Se(38017,{changeType:c})}})),new ru(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=R1()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class p5{constructor(e){this.Ge=e,this.ze=new Map,this.je=ji(),this.Je=qd(),this.He=qd(),this.Ye=new vt(Le)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const c=o.target;if(ig(c))if(s===0){const d=new be(c.path);this.et(t,d,dn.newNoDocument(d,Ne.min()))}else Qe(s===1,20013,{expectedCount:s});else{const d=this._t(t);if(d!==s){const p=this.ut(e),g=p?this.ct(p,e,d):1;if(g!==0){this.it(t);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,y)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=t;let d,p;try{d=js(s).toUint8Array()}catch(g){if(g instanceof D_)return $o("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new i0(d,o,c)}catch(g){return $o(g instanceof Cc?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(t,c,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&ig(p.target)){const g=new be(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,dn.newNoDocument(g,e))}c.Be&&(t.set(d,c.ke()),c.qe())}}));let s=Ue();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new tf(e,t,this.Ye,this.je,s);return this.je=ji(),this.Je=qd(),this.He=qd(),this.Ye=new vt(Le),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new N1,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new zt(Le),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new zt(Le),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new N1),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function qd(){return new vt(be.comparator)}function R1(){return new vt(be.comparator)}const g5={asc:"ASCENDING",desc:"DESCENDING"},y5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},v5={and:"AND",or:"OR"};class w5{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function og(n,e){return n.useProto3Json||Kh(e)?e:{value:e}}function bh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cx(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function b5(n,e){return bh(n,e.toTimestamp())}function qr(n){return Qe(!!n,49232),Ne.fromTimestamp((function(t){const s=ks(t);return new dt(s.seconds,s.nanos)})(n))}function s0(n,e){return lg(n,e).canonicalString()}function lg(n,e){const t=(function(o){return new ot(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function ux(n){const e=ot.fromString(n);return Qe(px(e),10190,{key:e.toString()}),e}function cg(n,e){return s0(n.databaseId,e.path)}function Mp(n,e){const t=ux(e);if(t.get(1)!==n.databaseId.projectId)throw new de(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new de(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new be(hx(t))}function dx(n,e){return s0(n.databaseId,e)}function _5(n){const e=ux(n);return e.length===4?ot.emptyPath():hx(e)}function ug(n){return new ot(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function hx(n){return Qe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function I1(n,e,t){return{name:cg(n,e),fields:t.value.mapValue.fields}}function x5(n,e){let t;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Se(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,w){return y.useProto3Json?(Qe(w===void 0||typeof w=="string",58123),rn.fromBase64String(w||"")):(Qe(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),rn.fromUint8Array(w||new Uint8Array))})(n,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const w=y.code===void 0?te.UNKNOWN:ax(y.code);return new de(w,y.message||"")})(d);t=new lx(s,o,c,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Mp(n,s.document.name),c=qr(s.document.updateTime),d=s.document.createTime?qr(s.document.createTime):Ne.min(),p=new An({mapValue:{fields:s.document.fields}}),g=dn.newFoundDocument(o,c,d,p),y=s.targetIds||[],w=s.removedTargetIds||[];t=new th(y,w,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Mp(n,s.document),c=s.readTime?qr(s.readTime):Ne.min(),d=dn.newNoDocument(o,c),p=s.removedTargetIds||[];t=new th([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Mp(n,s.document),c=s.removedTargetIds||[];t=new th([],c,o,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new d5(o,c),p=s.targetId;t=new ox(p,d)}}return t}function E5(n,e){let t;if(e instanceof nu)t={update:I1(n,e.key,e.value)};else if(e instanceof n0)t={delete:cg(n,e.key)};else if(e instanceof Vs)t={update:I1(n,e.key,e.data),updateMask:j5(e.fieldMask)};else{if(!(e instanceof l5))return Se(16599,{Vt:e.type});t={verify:cg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(c,d){const p=d.transform;if(p instanceof $c)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Yc)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Kc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof wh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Se(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:b5(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Se(27497)})(n,e.precondition)),t}function T5(n,e){return n&&n.length>0?(Qe(e!==void 0,14353),n.map((t=>(function(o,c){let d=o.updateTime?qr(o.updateTime):qr(c);return d.isEqual(Ne.min())&&(d=qr(c)),new s5(d,o.transformResults||[])})(t,e)))):[]}function S5(n,e){return{documents:[dx(n,e.path)]}}function A5(n,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=dx(n,o);const c=(function(y){if(y.length!==0)return mx(br.create(y,"and"))})(e.filters);c&&(t.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((w=>(function(T){return{field:Po(T.field),direction:R5(T.dir)}})(w)))})(e.orderBy);d&&(t.structuredQuery.orderBy=d);const p=og(n,e.limit);return p!==null&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:t,parent:o}}function C5(n){let e=_5(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Qe(s===1,65062);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let c=[];t.where&&(c=(function(x){const T=fx(x);return T instanceof br&&q_(T)?T.getFilters():[T]})(t.where));let d=[];t.orderBy&&(d=(function(x){return x.map((T=>(function(V){return new Gc(Mo(V.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(T)))})(t.orderBy));let p=null;t.limit&&(p=(function(x){let T;return T=typeof x=="object"?x.value:x,Kh(T)?null:T})(t.limit));let g=null;t.startAt&&(g=(function(x){const T=!!x.before,N=x.values||[];return new vh(N,T)})(t.startAt));let y=null;return t.endAt&&(y=(function(x){const T=!x.before,N=x.values||[];return new vh(N,T)})(t.endAt)),GC(e,o,d,c,p,"F",g,y)}function N5(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function fx(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Mo(t.unaryFilter.field);return Pt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Mo(t.unaryFilter.field);return Pt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Mo(t.unaryFilter.field);return Pt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Mo(t.unaryFilter.field);return Pt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Pt.create(Mo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return br.create(t.compositeFilter.filters.map((s=>fx(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(t.compositeFilter.op))})(n):Se(30097,{filter:n})}function R5(n){return g5[n]}function I5(n){return y5[n]}function k5(n){return v5[n]}function Po(n){return{fieldPath:n.canonicalString()}}function Mo(n){return nn.fromServerFormat(n.fieldPath)}function mx(n){return n instanceof Pt?(function(t){if(t.op==="=="){if(y1(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NAN"}};if(g1(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(y1(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NOT_NAN"}};if(g1(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Po(t.field),op:I5(t.op),value:t.value}}})(n):n instanceof br?(function(t){const s=t.getFilters().map((o=>mx(o)));return s.length===1?s[0]:{compositeFilter:{op:k5(t.op),filters:s}}})(n):Se(54877,{filter:n})}function j5(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function px(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,t,s,o,c=Ne.min(),d=Ne.min(),p=rn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new xs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(e){this.yt=e}}function O5(n){const e=C5({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ag(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(){this.Cn=new M5}addToCollectionParentIndex(e,t){return this.Cn.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(Is.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(Is.min())}updateCollectionGroup(e,t,s){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}}class M5{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new zt(ot.comparator),c=!o.has(s);return this.index[t]=o.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new zt(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gx=41943040;class Sn{static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(gx,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Xo(0)}static cr(){return new Xo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="LruGarbageCollector",V5=1048576;function D1([n,e],[t,s]){const o=Le(n,t);return o===0?Le(e,s):o}class L5{constructor(e){this.Ir=e,this.buffer=new zt(D1),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();D1(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class U5{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(j1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){sl(t)?fe(j1,"Ignoring IndexedDB error during garbage collection: ",t):await il(t)}await this.Vr(3e5)}))}}class B5{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return re.resolve(Yh.ce);const s=new L5(t);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(k1)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),k1):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,c,d,p,g,y;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,d=Date.now(),this.nthSequenceNumber(e,o)))).next((x=>(s=x,p=Date.now(),this.removeTargets(e,s,t)))).next((x=>(c=x,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((x=>(y=Date.now(),Do()<=Ve.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-w}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${x} documents in `+(y-g)+`ms
Total Duration: ${y-w}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:x}))))}}function z5(n,e){return new B5(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(){this.changes=new Va((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?re.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&Pc(s.mutation,o,Ln.empty(),dt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,Ue()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=Ue()){const o=Sa();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((c=>{let d=Ac();return c.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,t){const s=Sa();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,Ue())))}populateOverlays(e,t,s){const o=[];return s.forEach((c=>{t.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,p)=>{t.set(d,p)}))}))}computeViews(e,t,s,o){let c=ji();const d=Oc(),p=(function(){return Oc()})();return t.forEach(((g,y)=>{const w=s.get(y.key);o.has(y.key)&&(w===void 0||w.mutation instanceof Vs)?c=c.insert(y.key,y):w!==void 0?(d.set(y.key,w.mutation.getFieldMask()),Pc(w.mutation,y,w.mutation.getFieldMask(),dt.now())):d.set(y.key,Ln.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,w)=>d.set(y,w))),t.forEach(((y,w)=>p.set(y,new q5(w,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,t){const s=Oc();let o=new vt(((d,p)=>d-p)),c=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((d=>{for(const p of d)p.keys().forEach((g=>{const y=t.get(g);if(y===null)return;let w=s.get(g)||Ln.empty();w=p.applyToLocalView(y,w),s.set(g,w);const x=(o.get(p.batchId)||Ue()).add(g);o=o.insert(p.batchId,x)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,w=g.value,x=Z_();w.forEach((T=>{if(!c.has(T)){const N=ix(t.get(T),s.get(T));N!==null&&x.set(T,N),c=c.add(T)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,x))}return re.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(d){return be.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Y_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-c.size):re.resolve(Sa());let p=zc,g=c;return d.next((y=>re.forEach(y,((w,x)=>(p<x.largestBatchId&&(p=x.largestBatchId),c.get(w)?re.resolve():this.remoteDocumentCache.getEntry(e,w).next((T=>{g=g.insert(w,T)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,Ue()))).next((w=>({batchId:p,changes:W_(w)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new be(t)).next((s=>{let o=Ac();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const c=t.collectionGroup;let d=Ac();return this.indexManager.getCollectionParents(e,c).next((p=>re.forEach(p,(g=>{const y=(function(x,T){return new al(T,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(t,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((w=>{w.forEach(((x,T)=>{d=d.insert(x,T)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,c,o)))).next((d=>{c.forEach(((g,y)=>{const w=y.getKey();d.get(w)===null&&(d=d.insert(w,dn.newInvalidDocument(w)))}));let p=Ac();return d.forEach(((g,y)=>{const w=c.get(g);w!==void 0&&Pc(w.mutation,y,Ln.empty(),dt.now()),Zh(t,y)&&(p=p.insert(g,y))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return re.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:qr(o.createTime)}})(t)),re.resolve()}getNamedQuery(e,t){return re.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:O5(o.bundledQuery),readTime:qr(o.readTime)}})(t)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(){this.overlays=new vt(be.comparator),this.qr=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Sa();return re.forEach(t,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,c)=>{this.St(e,t,c)})),re.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),re.resolve()}getOverlaysForCollection(e,t,s){const o=Sa(),c=t.length+1,d=new be(t.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>s&&o.set(g.getKey(),g)}return re.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let c=new vt(((y,w)=>y-w));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>s){let w=c.get(y.largestBatchId);w===null&&(w=Sa(),c=c.insert(y.largestBatchId,w)),w.set(y.getKey(),y)}}const p=Sa(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,w)=>p.set(y,w))),!(p.size()>=o)););return re.resolve(p)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new u5(t,s));let c=this.qr.get(t);c===void 0&&(c=Ue(),this.qr.set(t,c)),this.qr.set(t,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(){this.Qr=new zt(Kt.$r),this.Ur=new zt(Kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new Kt(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new Kt(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new be(new ot([])),s=new Kt(t,e),o=new Kt(t,e+1),c=[];return this.Ur.forEachInRange([s,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new be(new ot([])),s=new Kt(t,e),o=new Kt(t,e+1);let c=Ue();return this.Ur.forEachInRange([s,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const t=new Kt(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Kt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return be.comparator(e.key,t.key)||Le(e.Yr,t.Yr)}static Kr(e,t){return Le(e.Yr,t.Yr)||be.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new zt(Kt.$r)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new c5(c,t,s,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new Kt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return re.resolve(d)}lookupMutationBatch(e,t){return re.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),c=o<0?0:o;return re.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?Xg:this.tr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Kt(t,0),o=new Kt(t,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],(d=>{const p=this.Xr(d.Yr);c.push(p)})),re.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new zt(Le);return t.forEach((o=>{const c=new Kt(o,0),d=new Kt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{s=s.add(p.Yr)}))})),re.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let c=s;be.isDocumentKey(c)||(c=c.child(""));const d=new Kt(new be(c),0);let p=new zt(Le);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Yr)),!0)}),d),re.resolve(this.ti(p))}ti(e){const t=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Qe(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return re.forEach(t.mutations,(o=>{const c=new Kt(o.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new Kt(t,0),o=this.Zr.firstAfterOrEqual(s);return re.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(e){this.ri=e,this.docs=(function(){return new vt(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),c=o?o.size:0,d=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return re.resolve(s?s.document.mutableCopy():dn.newInvalidDocument(t))}getEntries(e,t){let s=ji();return t.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():dn.newInvalidDocument(o))})),re.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let c=ji();const d=t.path,p=new be(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:w}}=g.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||EC(xC(w),s)<=0||(o.has(w.key)||Zh(t,w))&&(c=c.insert(w.key,w.mutableCopy()))}return re.resolve(c)}getAllFromCollectionGroup(e,t,s,o){Se(9500)}ii(e,t){return re.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new X5(this)}getSize(e){return re.resolve(this.size)}}class X5 extends H5{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),re.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(e){this.persistence=e,this.si=new Va((t=>Jg(t)),e0),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.oi=0,this._i=new a0,this.targetCount=0,this.ai=Xo.ur()}forEachTarget(e,t){return this.si.forEach(((s,o)=>t(o))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),re.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Xo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.Pr(t),re.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,s){let o=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=t&&s.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),re.waitFor(c).next((()=>o))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return re.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),re.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,c=[];return o&&t.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),re.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),re.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return re.resolve(s)}containsKey(e,t){return re.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,t){this.ui={},this.overlays={},this.ci=new Yh(0),this.li=!1,this.li=!0,this.hi=new Y5,this.referenceDelegate=e(this),this.Pi=new W5(this),this.indexManager=new P5,this.remoteDocumentCache=(function(o){return new Q5(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new D5(t),this.Ii=new G5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new $5,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new K5(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){fe("MemoryPersistence","Starting transaction:",e);const o=new Z5(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,t){return re.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class Z5 extends SC{constructor(e){super(),this.currentSequenceNumber=e}}class o0{constructor(e){this.persistence=e,this.Ri=new a0,this.Vi=null}static mi(e){return new o0(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),re.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),re.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.fi,(s=>{const o=be.fromPath(s);return this.gi(e,o).next((c=>{c||t.removeEntry(o,Ne.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return re.or([()=>re.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class _h{constructor(e,t){this.persistence=e,this.pi=new Va((s=>NC(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=z5(this,t)}static mi(e,t){return new _h(e,t)}Ei(){}di(e){return re.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return re.forEach(this.pi,((s,o)=>this.br(e,s,o).next((c=>c?re.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,t).next((p=>{p||(s++,c.removeEntry(d,Ne.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),re.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),re.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),re.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Zd(e.data.value)),t}br(e,t,s){return re.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return re.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=Ue(),o=Ue();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new l0(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return E3()?8:AC(hn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const c={result:null};return this.ys(e,t).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,t,o,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new J5;return this.Ss(e,t,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,t,d,p.size)}))})).next((()=>c.result))}bs(e,t,s,o){return s.documentReadCount<this.fs?(Do()<=Ve.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Oo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),re.resolve()):(Do()<=Ve.DEBUG&&fe("QueryEngine","Query:",Oo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Do()<=Ve.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Oo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hr(t))):re.resolve())}ys(e,t){if(_1(t))return re.resolve(null);let s=Hr(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=ag(t,null,"F"),s=Hr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const d=Ue(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,s).next((g=>{const y=this.Ds(t,p);return this.Cs(t,y,d,g.readTime)?this.ys(e,ag(t,null,"F")):this.vs(e,y,t,g)}))))})))))}ws(e,t,s,o){return _1(t)||o.isEqual(Ne.min())?re.resolve(null):this.ps.getDocuments(e,s).next((c=>{const d=this.Ds(t,c);return this.Cs(t,d,s,o)?re.resolve(null):(Do()<=Ve.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Oo(t)),this.vs(e,d,t,_C(o,zc)).next((p=>p)))}))}Ds(e,t){let s=new zt(Q_(e));return t.forEach(((o,c)=>{Zh(e,c)&&(s=s.add(c))})),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const c=e.limitType==="F"?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,t,s){return Do()<=Ve.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Oo(t)),this.ps.getDocumentsMatchingQuery(e,t,Is.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((c=>(t.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="LocalStore",tN=3e8;class nN{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new vt(Le),this.xs=new Va((c=>Jg(c)),e0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new F5(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function rN(n,e,t,s){return new nN(n,e,t,s)}async function vx(n,e){const t=Ie(n);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],p=[];let g=Ue();for(const y of o){d.push(y.batchId);for(const w of y.mutations)g=g.add(w.key)}for(const y of c){p.push(y.batchId);for(const w of y.mutations)g=g.add(w.key)}return t.localDocuments.getDocuments(s,g).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function iN(n,e){const t=Ie(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,w){const x=y.batch,T=x.keys();let N=re.resolve();return T.forEach((V=>{N=N.next((()=>w.getEntry(g,V))).next((G=>{const B=y.docVersions.get(V);Qe(B!==null,48541),G.version.compareTo(B)<0&&(x.applyToRemoteDocument(G,y),G.isValidDocument()&&(G.setReadTime(y.commitVersion),w.addEntry(G)))}))})),N.next((()=>p.mutationQueue.removeMutationBatch(g,x)))})(t,s,e,c).next((()=>c.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let g=Ue();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function wx(n){const e=Ie(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function sN(n,e){const t=Ie(n),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const p=[];e.targetChanges.forEach(((w,x)=>{const T=o.get(x);if(!T)return;p.push(t.Pi.removeMatchingKeys(c,w.removedDocuments,x).next((()=>t.Pi.addMatchingKeys(c,w.addedDocuments,x))));let N=T.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(x)!==null?N=N.withResumeToken(rn.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):w.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(w.resumeToken,s)),o=o.insert(x,N),(function(G,B,J){return G.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=tN?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0})(T,N,w)&&p.push(t.Pi.updateTargetData(c,N))}));let g=ji(),y=Ue();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(c,w))})),p.push(aN(c,d,e.documentUpdates).next((w=>{g=w.ks,y=w.qs}))),!s.isEqual(Ne.min())){const w=t.Pi.getLastRemoteSnapshotVersion(c).next((x=>t.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));p.push(w)}return re.waitFor(p).next((()=>d.apply(c))).next((()=>t.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(t.Ms=o,c)))}function aN(n,e,t){let s=Ue(),o=Ue();return t.forEach((c=>s=s.add(c))),e.getEntries(n,s).next((c=>{let d=ji();return t.forEach(((p,g)=>{const y=c.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(Ne.min())?(e.removeEntry(p,g.readTime),d=d.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),d=d.insert(p,g)):fe(c0,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:d,qs:o}}))}function oN(n,e){const t=Ie(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Xg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function lN(n,e){const t=Ie(n);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.Pi.getTargetData(s,e).next((c=>c?(o=c,re.resolve(o)):t.Pi.allocateTargetId(s).next((d=>(o=new xs(e,d,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function dg(n,e,t){const s=Ie(n),o=s.Ms.get(e),c=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!sl(d))throw d;fe(c0,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function O1(n,e,t){const s=Ie(n);let o=Ne.min(),c=Ue();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,y,w){const x=Ie(g),T=x.xs.get(w);return T!==void 0?re.resolve(x.Ms.get(T)):x.Pi.getTargetData(y,w)})(s,d,Hr(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,p.targetId).next((g=>{c=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,t?o:Ne.min(),t?c:Ue()))).next((p=>(cN(s,YC(e),p),{documents:p,Qs:c})))))}function cN(n,e,t){let s=n.Os.get(e)||Ne.min();t.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),n.Os.set(e,s)}class P1{constructor(){this.activeTargetIds=JC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uN{constructor(){this.Mo=new P1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new P1,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="ConnectivityMonitor";class V1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(M1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(M1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fd=null;function hg(){return Fd===null?Fd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Fd++,"0x"+Fd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp="RestConnection",hN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fN{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===gh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,c){const d=hg(),p=this.zo(e,t.toUriEncodedString());fe(Vp,`Sending RPC '${e}' ${d}:`,p,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,c);const{host:y}=new URL(p),w=el(y);return this.Jo(e,p,g,s,w).then((x=>(fe(Vp,`Received RPC '${e}' ${d}: `,x),x)),(x=>{throw $o(Vp,`RPC '${e}' ${d} failed with error: `,x,"url: ",p,"request:",s),x}))}Ho(e,t,s,o,c,d){return this.Go(e,t,s,o,c)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+rl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}zo(e,t){const s=hN[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection";class pN extends fN{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,c){const d=hg();return new Promise(((p,g)=>{const y=new x_;y.setWithCredentials(!0),y.listenOnce(E_.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Wd.NO_ERROR:const x=y.getResponseJson();fe(cn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(x)),p(x);break;case Wd.TIMEOUT:fe(cn,`RPC '${e}' ${d} timed out`),g(new de(te.DEADLINE_EXCEEDED,"Request time out"));break;case Wd.HTTP_ERROR:const T=y.getStatus();if(fe(cn,`RPC '${e}' ${d} failed with status:`,T,"response text:",y.getResponseText()),T>0){let N=y.getResponseJson();Array.isArray(N)&&(N=N[0]);const V=N?.error;if(V&&V.status&&V.message){const G=(function(J){const K=J.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(K)>=0?K:te.UNKNOWN})(V.status);g(new de(G,V.message))}else g(new de(te.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new de(te.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{fe(cn,`RPC '${e}' ${d} completed.`)}}));const w=JSON.stringify(o);fe(cn,`RPC '${e}' ${d} sending request:`,o),y.send(t,"POST",w,s,15)}))}T_(e,t,s){const o=hg(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=A_(),p=S_(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,t,s),g.encodeInitMessageHeaders=!0;const w=c.join("");fe(cn,`Creating RPC '${e}' stream ${o}: ${w}`,g);const x=d.createWebChannel(w,g);this.I_(x);let T=!1,N=!1;const V=new mN({Yo:B=>{N?fe(cn,`Not sending because RPC '${e}' stream ${o} is closed:`,B):(T||(fe(cn,`Opening RPC '${e}' stream ${o} transport.`),x.open(),T=!0),fe(cn,`RPC '${e}' stream ${o} sending:`,B),x.send(B))},Zo:()=>x.close()}),G=(B,J,K)=>{B.listen(J,(X=>{try{K(X)}catch(pe){setTimeout((()=>{throw pe}),0)}}))};return G(x,Sc.EventType.OPEN,(()=>{N||(fe(cn,`RPC '${e}' stream ${o} transport opened.`),V.o_())})),G(x,Sc.EventType.CLOSE,(()=>{N||(N=!0,fe(cn,`RPC '${e}' stream ${o} transport closed`),V.a_(),this.E_(x))})),G(x,Sc.EventType.ERROR,(B=>{N||(N=!0,$o(cn,`RPC '${e}' stream ${o} transport errored. Name:`,B.name,"Message:",B.message),V.a_(new de(te.UNAVAILABLE,"The operation could not be completed")))})),G(x,Sc.EventType.MESSAGE,(B=>{if(!N){const J=B.data[0];Qe(!!J,16349);const K=J,X=K?.error||K[0]?.error;if(X){fe(cn,`RPC '${e}' stream ${o} received error:`,X);const pe=X.status;let oe=(function(A){const C=Ot[A];if(C!==void 0)return ax(C)})(pe),ie=X.message;oe===void 0&&(oe=te.INTERNAL,ie="Unknown error status: "+pe+" with message "+X.message),N=!0,V.a_(new de(oe,ie)),x.close()}else fe(cn,`RPC '${e}' stream ${o} received:`,J),V.u_(J)}})),G(p,T_.STAT_EVENT,(B=>{B.stat===Jp.PROXY?fe(cn,`RPC '${e}' stream ${o} detected buffering proxy`):B.stat===Jp.NOPROXY&&fe(cn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{V.__()}),0),V}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Lp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nf(n){return new w5(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e,t,s=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="PersistentStream";class _x{constructor(e,t,s,o,c,d,p,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new bx(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(ki(t.toString()),ki("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new de(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(L1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(fe(L1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class gN extends _x{constructor(e,t,s,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,d),this.serializer=c}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=x5(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Ne.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ne.min():d.readTime?qr(d.readTime):Ne.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=ug(this.serializer),t.addTarget=(function(c,d){let p;const g=d.target;if(p=ig(g)?{documents:S5(c,g)}:{query:A5(c,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=cx(c,d.resumeToken);const y=og(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(Ne.min())>0){p.readTime=bh(c,d.snapshotVersion.toTimestamp());const y=og(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const s=N5(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=ug(this.serializer),t.removeTarget=e,this.q_(t)}}class yN extends _x{constructor(e,t,s,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=T5(e.writeResults,e.commitTime),s=qr(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=ug(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>E5(this.serializer,s)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{}class wN extends vN{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new de(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,lg(t,s),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de(te.UNKNOWN,c.toString())}))}Ho(e,t,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,lg(t,s),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new de(te.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class bN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ki(t),this.aa=!1):fe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa="RemoteStore";class _N{constructor(e,t,s,o,c){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{La(this)&&(fe(Oa,"Restarting streams for network reachability change."),await(async function(g){const y=Ie(g);y.Ea.add(4),await iu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await rf(y)})(this))}))})),this.Ra=new bN(s,o)}}async function rf(n){if(La(n))for(const e of n.da)await e(!0)}async function iu(n){for(const e of n.da)await e(!1)}function xx(n,e){const t=Ie(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),f0(t)?h0(t):ol(t).O_()&&d0(t,e))}function u0(n,e){const t=Ie(n),s=ol(t);t.Ia.delete(e),s.O_()&&Ex(t,e),t.Ia.size===0&&(s.O_()?s.L_():La(t)&&t.Ra.set("Unknown"))}function d0(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ol(n).Y_(e)}function Ex(n,e){n.Va.Ue(e),ol(n).Z_(e)}function h0(n){n.Va=new p5({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),ol(n).start(),n.Ra.ua()}function f0(n){return La(n)&&!ol(n).x_()&&n.Ia.size>0}function La(n){return Ie(n).Ea.size===0}function Tx(n){n.Va=void 0}async function xN(n){n.Ra.set("Online")}async function EN(n){n.Ia.forEach(((e,t)=>{d0(n,e)}))}async function TN(n,e){Tx(n),f0(n)?(n.Ra.ha(e),h0(n)):n.Ra.set("Unknown")}async function SN(n,e,t){if(n.Ra.set("Online"),e instanceof lx&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(n,e)}catch(s){fe(Oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await xh(n,s)}else if(e instanceof th?n.Va.Ze(e):e instanceof ox?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ne.min()))try{const s=await wx(n.localStore);t.compareTo(s)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const w=c.Ia.get(y);w&&c.Ia.set(y,w.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,y)=>{const w=c.Ia.get(g);if(!w)return;c.Ia.set(g,w.withResumeToken(rn.EMPTY_BYTE_STRING,w.snapshotVersion)),Ex(c,g);const x=new xs(w.target,g,y,w.sequenceNumber);d0(c,x)})),c.remoteSyncer.applyRemoteEvent(p)})(n,t)}catch(s){fe(Oa,"Failed to raise snapshot:",s),await xh(n,s)}}async function xh(n,e,t){if(!sl(e))throw e;n.Ea.add(1),await iu(n),n.Ra.set("Offline"),t||(t=()=>wx(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{fe(Oa,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await rf(n)}))}function Sx(n,e){return e().catch((t=>xh(n,t,e)))}async function sf(n){const e=Ie(n),t=Os(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Xg;for(;AN(e);)try{const o=await oN(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,CN(e,o)}catch(o){await xh(e,o)}Ax(e)&&Cx(e)}function AN(n){return La(n)&&n.Ta.length<10}function CN(n,e){n.Ta.push(e);const t=Os(n);t.O_()&&t.X_&&t.ea(e.mutations)}function Ax(n){return La(n)&&!Os(n).x_()&&n.Ta.length>0}function Cx(n){Os(n).start()}async function NN(n){Os(n).ra()}async function RN(n){const e=Os(n);for(const t of n.Ta)e.ea(t.mutations)}async function IN(n,e,t){const s=n.Ta.shift(),o=r0.from(s,e,t);await Sx(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await sf(n)}async function kN(n,e){e&&Os(n).X_&&await(async function(s,o){if((function(d){return h5(d)&&d!==te.ABORTED})(o.code)){const c=s.Ta.shift();Os(s).B_(),await Sx(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await sf(s)}})(n,e),Ax(n)&&Cx(n)}async function U1(n,e){const t=Ie(n);t.asyncQueue.verifyOperationInProgress(),fe(Oa,"RemoteStore received new credentials");const s=La(t);t.Ea.add(3),await iu(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await rf(t)}async function jN(n,e){const t=Ie(n);e?(t.Ea.delete(2),await rf(t)):e||(t.Ea.add(2),await iu(t),t.Ra.set("Unknown"))}function ol(n){return n.ma||(n.ma=(function(t,s,o){const c=Ie(t);return c.sa(),new gN(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(n.datastore,n.asyncQueue,{Xo:xN.bind(null,n),t_:EN.bind(null,n),r_:TN.bind(null,n),H_:SN.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),f0(n)?h0(n):n.Ra.set("Unknown")):(await n.ma.stop(),Tx(n))}))),n.ma}function Os(n){return n.fa||(n.fa=(function(t,s,o){const c=Ie(t);return c.sa(),new yN(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:NN.bind(null,n),r_:kN.bind(null,n),ta:RN.bind(null,n),na:IN.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await sf(n)):(await n.fa.stop(),n.Ta.length>0&&(fe(Oa,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,t,s,o,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Ti,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,c){const d=Date.now()+s,p=new m0(e,t,d,o,c);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function p0(n,e){if(ki("AsyncQueue",`${e}: ${n}`),sl(n))return new de(te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{static emptySet(e){return new Bo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||be.comparator(t.key,s.key):(t,s)=>be.comparator(t.key,s.key),this.keyedMap=Ac(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Bo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Bo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(){this.ga=new vt(be.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class Wo{constructor(e,t,s,o,c,d,p,g,y){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,t,s,o,c){const d=[];return t.forEach((p=>{d.push({type:0,doc:p})})),new Wo(e,t,Bo.emptySet(t),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class ON{constructor(){this.queries=z1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Ie(t),c=o.queries;o.queries=z1(),c.forEach(((d,p)=>{for(const g of p.Sa)g.onError(s)}))})(this,new de(te.ABORTED,"Firestore shutting down"))}}function z1(){return new Va((n=>K_(n)),Wh)}async function g0(n,e){const t=Ie(n);let s=3;const o=e.query;let c=t.queries.get(o);c?!c.ba()&&e.Da()&&(s=2):(c=new DN,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await t.onListen(o,!0);break;case 1:c.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(d){const p=p0(d,`Initialization of query '${Oo(e.query)}' failed`);return void e.onError(p)}t.queries.set(o,c),c.Sa.push(e),e.va(t.onlineState),c.wa&&e.Fa(c.wa)&&v0(t)}async function y0(n,e){const t=Ie(n),s=e.query;let o=3;const c=t.queries.get(s);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function PN(n,e){const t=Ie(n);let s=!1;for(const o of e){const c=o.query,d=t.queries.get(c);if(d){for(const p of d.Sa)p.Fa(o)&&(s=!0);d.wa=o}}s&&v0(t)}function MN(n,e,t){const s=Ie(n),o=s.queries.get(e);if(o)for(const c of o.Sa)c.onError(t);s.queries.delete(e)}function v0(n){n.Ca.forEach((e=>{e.next()}))}var fg,H1;(H1=fg||(fg={})).Ma="default",H1.Cache="cache";class w0{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Wo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Wo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==fg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e){this.key=e}}class Rx{constructor(e){this.key=e}}class VN{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=Q_(e),this.tu=new Bo(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new B1,o=t?t.tu:this.tu;let c=t?t.mutatedKeys:this.mutatedKeys,d=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,x)=>{const T=o.get(w),N=Zh(this.query,x)?x:null,V=!!T&&this.mutatedKeys.has(T.key),G=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let B=!1;T&&N?T.data.isEqual(N.data)?V!==G&&(s.track({type:3,doc:N}),B=!0):this.su(T,N)||(s.track({type:2,doc:N}),B=!0,(g&&this.eu(N,g)>0||y&&this.eu(N,y)<0)&&(p=!0)):!T&&N?(s.track({type:0,doc:N}),B=!0):T&&!N&&(s.track({type:1,doc:T}),B=!0,(g||y)&&(p=!0)),B&&(N?(d=d.add(N),c=G?c.add(w):c.delete(w)):(d=d.delete(w),c=c.delete(w)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const w=this.query.limitType==="F"?d.last():d.first();d=d.delete(w.key),c=c.delete(w.key),s.track({type:1,doc:w})}return{tu:d,iu:s,Cs:p,mutatedKeys:c}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((w,x)=>(function(N,V){const G=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:B})}};return G(N)-G(V)})(w.type,x.type)||this.eu(w.doc,x.doc))),this.ou(s),o=o??!1;const p=t&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,d.length!==0||y?{snapshot:new Wo(this.query,e.tu,c,d,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new B1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new Rx(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new Nx(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=Ue();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Wo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const b0="SyncEngine";class LN{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class UN{constructor(e){this.key=e,this.hu=!1}}class BN{constructor(e,t,s,o,c,d){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Va((p=>K_(p)),Wh),this.Iu=new Map,this.Eu=new Set,this.du=new vt(be.comparator),this.Au=new Map,this.Ru=new a0,this.Vu={},this.mu=new Map,this.fu=Xo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function zN(n,e,t=!0){const s=Px(n);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await Ix(s,e,t,!0),o}async function HN(n,e){const t=Px(n);await Ix(t,e,!0,!1)}async function Ix(n,e,t,s){const o=await lN(n.localStore,Hr(e)),c=o.targetId,d=n.sharedClientState.addLocalQueryTarget(c,t);let p;return s&&(p=await qN(n,e,c,d==="current",o.resumeToken)),n.isPrimaryClient&&t&&xx(n.remoteStore,o),p}async function qN(n,e,t,s,o){n.pu=(x,T,N)=>(async function(G,B,J,K){let X=B.view.ru(J);X.Cs&&(X=await O1(G.localStore,B.query,!1).then((({documents:I})=>B.view.ru(I,X))));const pe=K&&K.targetChanges.get(B.targetId),oe=K&&K.targetMismatches.get(B.targetId)!=null,ie=B.view.applyChanges(X,G.isPrimaryClient,pe,oe);return F1(G,B.targetId,ie.au),ie.snapshot})(n,x,T,N);const c=await O1(n.localStore,e,!0),d=new VN(e,c.Qs),p=d.ru(c.documents),g=ru.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",o),y=d.applyChanges(p,n.isPrimaryClient,g);F1(n,t,y.au);const w=new LN(e,t,d);return n.Tu.set(e,w),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),y.snapshot}async function FN(n,e,t){const s=Ie(n),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((d=>!Wh(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await dg(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&u0(s.remoteStore,o.targetId),mg(s,o.targetId)})).catch(il)):(mg(s,o.targetId),await dg(s.localStore,o.targetId,!0))}async function GN(n,e){const t=Ie(n),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),u0(t.remoteStore,s.targetId))}async function $N(n,e,t){const s=JN(n);try{const o=await(function(d,p){const g=Ie(d),y=dt.now(),w=p.reduce(((N,V)=>N.add(V.key)),Ue());let x,T;return g.persistence.runTransaction("Locally write mutations","readwrite",(N=>{let V=ji(),G=Ue();return g.Ns.getEntries(N,w).next((B=>{V=B,V.forEach(((J,K)=>{K.isValidDocument()||(G=G.add(J))}))})).next((()=>g.localDocuments.getOverlayedDocuments(N,V))).next((B=>{x=B;const J=[];for(const K of p){const X=o5(K,x.get(K.key).overlayedDocument);X!=null&&J.push(new Vs(K.key,X,B_(X.value.mapValue),ir.exists(!0)))}return g.mutationQueue.addMutationBatch(N,y,J,p)})).next((B=>{T=B;const J=B.applyToLocalDocumentSet(x,G);return g.documentOverlayCache.saveOverlays(N,B.batchId,J)}))})).then((()=>({batchId:T.batchId,changes:W_(x)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,p,g){let y=d.Vu[d.currentUser.toKey()];y||(y=new vt(Le)),y=y.insert(p,g),d.Vu[d.currentUser.toKey()]=y})(s,o.batchId,t),await su(s,o.changes),await sf(s.remoteStore)}catch(o){const c=p0(o,"Failed to persist write");t.reject(c)}}async function kx(n,e){const t=Ie(n);try{const s=await sN(t.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=t.Au.get(c);d&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Qe(d.hu,14607):o.removedDocuments.size>0&&(Qe(d.hu,42227),d.hu=!1))})),await su(t,s,e)}catch(s){await il(s)}}function q1(n,e,t){const s=Ie(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const g=Ie(d);g.onlineState=p;let y=!1;g.queries.forEach(((w,x)=>{for(const T of x.Sa)T.va(p)&&(y=!0)})),y&&v0(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function YN(n,e,t){const s=Ie(n);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),c=o&&o.key;if(c){let d=new vt(be.comparator);d=d.insert(c,dn.newNoDocument(c,Ne.min()));const p=Ue().add(c),g=new tf(Ne.min(),new Map,new vt(Le),d,p);await kx(s,g),s.du=s.du.remove(c),s.Au.delete(e),_0(s)}else await dg(s.localStore,e,!1).then((()=>mg(s,e,t))).catch(il)}async function KN(n,e){const t=Ie(n),s=e.batch.batchId;try{const o=await iN(t.localStore,e);Dx(t,s,null),jx(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await su(t,o)}catch(o){await il(o)}}async function QN(n,e,t){const s=Ie(n);try{const o=await(function(d,p){const g=Ie(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let w;return g.mutationQueue.lookupMutationBatch(y,p).next((x=>(Qe(x!==null,37113),w=x.keys(),g.mutationQueue.removeMutationBatch(y,x)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,w,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w))).next((()=>g.localDocuments.getDocuments(y,w)))}))})(s.localStore,e);Dx(s,e,t),jx(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await su(s,o)}catch(o){await il(o)}}function jx(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function Dx(n,e,t){const s=Ie(n);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(t?c.reject(t):c.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function mg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Iu.get(e))n.Tu.delete(s),t&&n.Pu.yu(s,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((s=>{n.Ru.containsKey(s)||Ox(n,s)}))}function Ox(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(u0(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),_0(n))}function F1(n,e,t){for(const s of t)s instanceof Nx?(n.Ru.addReference(s.key,e),XN(n,s)):s instanceof Rx?(fe(b0,"Document no longer in limbo: "+s.key),n.Ru.removeReference(s.key,e),n.Ru.containsKey(s.key)||Ox(n,s.key)):Se(19791,{wu:s})}function XN(n,e){const t=e.key,s=t.path.canonicalString();n.du.get(t)||n.Eu.has(s)||(fe(b0,"New document in limbo: "+t),n.Eu.add(s),_0(n))}function _0(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new be(ot.fromString(e)),s=n.fu.next();n.Au.set(s,new UN(t)),n.du=n.du.insert(t,s),xx(n.remoteStore,new xs(Hr(Xh(t.path)),s,"TargetPurposeLimboResolution",Yh.ce))}}async function su(n,e,t){const s=Ie(n),o=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,g)=>{d.push(s.pu(g,e,t).then((y=>{if((y||t)&&s.isPrimaryClient){const w=y?!y.fromCache:t?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,w?"current":"not-current")}if(y){o.push(y);const w=l0.As(g.targetId,y);c.push(w)}})))})),await Promise.all(d),s.Pu.H_(o),await(async function(g,y){const w=Ie(g);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>re.forEach(y,(T=>re.forEach(T.Es,(N=>w.persistence.referenceDelegate.addReference(x,T.targetId,N))).next((()=>re.forEach(T.ds,(N=>w.persistence.referenceDelegate.removeReference(x,T.targetId,N)))))))))}catch(x){if(!sl(x))throw x;fe(c0,"Failed to update sequence numbers: "+x)}for(const x of y){const T=x.targetId;if(!x.fromCache){const N=w.Ms.get(T),V=N.snapshotVersion,G=N.withLastLimboFreeSnapshotVersion(V);w.Ms=w.Ms.insert(T,G)}}})(s.localStore,c))}async function WN(n,e){const t=Ie(n);if(!t.currentUser.isEqual(e)){fe(b0,"User change. New user:",e.toKey());const s=await vx(t.localStore,e);t.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((g=>{g.reject(new de(te.CANCELLED,d))}))})),c.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await su(t,s.Ls)}}function ZN(n,e){const t=Ie(n),s=t.Au.get(e);if(s&&s.hu)return Ue().add(s.key);{let o=Ue();const c=t.Iu.get(e);if(!c)return o;for(const d of c){const p=t.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function Px(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=kx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YN.bind(null,e),e.Pu.H_=PN.bind(null,e.eventManager),e.Pu.yu=MN.bind(null,e.eventManager),e}function JN(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=QN.bind(null,e),e}class Eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return rN(this.persistence,new eN,e.initialUser,this.serializer)}Cu(e){return new yx(o0.mi,this.serializer)}Du(e){return new uN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Eh.provider={build:()=>new Eh};class eR extends Eh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Qe(this.persistence.referenceDelegate instanceof _h,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new U5(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new yx((s=>_h.mi(s,t)),this.serializer)}}class pg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>q1(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=WN.bind(null,this.syncEngine),await jN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ON})()}createDatastore(e){const t=nf(e.databaseInfo.databaseId),s=(function(c){return new pN(c)})(e.databaseInfo);return(function(c,d,p,g){return new wN(c,d,p,g)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,c,d,p){return new _N(s,o,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(t=>q1(this.syncEngine,t,0)),(function(){return V1.v()?new V1:new dN})())}createSyncEngine(e,t){return(function(o,c,d,p,g,y,w){const x=new BN(o,c,d,p,g,y);return w&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=Ie(t);fe(Oa,"RemoteStore shutting down."),s.Ea.add(5),await iu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}pg.provider={build:()=>new pg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ki("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="FirestoreClient";class tR{constructor(e,t,s,o,c){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=un.UNAUTHENTICATED,this.clientId=Qg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{fe(Ps,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(fe(Ps,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ti;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=p0(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Up(n,e){n.asyncQueue.verifyOperationInProgress(),fe(Ps,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener((async o=>{s.isEqual(o)||(await vx(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function G1(n,e){n.asyncQueue.verifyOperationInProgress();const t=await nR(n);fe(Ps,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((s=>U1(e.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,o)=>U1(e.remoteStore,o))),n._onlineComponents=e}async function nR(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){fe(Ps,"Using user provided OfflineComponentProvider");try{await Up(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;$o("Error using user provided cache. Falling back to memory cache: "+t),await Up(n,new Eh)}}else fe(Ps,"Using default OfflineComponentProvider"),await Up(n,new eR(void 0));return n._offlineComponents}async function Mx(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(fe(Ps,"Using user provided OnlineComponentProvider"),await G1(n,n._uninitializedComponentsProvider._online)):(fe(Ps,"Using default OnlineComponentProvider"),await G1(n,new pg))),n._onlineComponents}function rR(n){return Mx(n).then((e=>e.syncEngine))}async function Th(n){const e=await Mx(n),t=e.eventManager;return t.onListen=zN.bind(null,e.syncEngine),t.onUnlisten=FN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=HN.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=GN.bind(null,e.syncEngine),t}function iR(n,e,t={}){const s=new Ti;return n.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,g,y){const w=new x0({next:T=>{w.Nu(),d.enqueueAndForget((()=>y0(c,x)));const N=T.docs.has(p);!N&&T.fromCache?y.reject(new de(te.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&T.fromCache&&g&&g.source==="server"?y.reject(new de(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(T)},error:T=>y.reject(T)}),x=new w0(Xh(p.path),w,{includeMetadataChanges:!0,qa:!0});return g0(c,x)})(await Th(n),n.asyncQueue,e,t,s))),s.promise}function sR(n,e,t={}){const s=new Ti;return n.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,g,y){const w=new x0({next:T=>{w.Nu(),d.enqueueAndForget((()=>y0(c,x))),T.fromCache&&g.source==="server"?y.reject(new de(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(T)},error:T=>y.reject(T)}),x=new w0(p,w,{includeMetadataChanges:!0,qa:!0});return g0(c,x)})(await Th(n),n.asyncQueue,e,t,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx="firestore.googleapis.com",Y1=!0;class K1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Lx,this.ssl=Y1}else this.host=e.host,this.ssl=e.ssl??Y1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<V5)throw new de(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Vx(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new de(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new de(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new de(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class af{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new K1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new K1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new uC;switch(s.type){case"firstParty":return new mC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=$1.get(t);s&&(fe("ComponentProvider","Removing Datastore"),$1.delete(t),s.terminate())})(this),Promise.resolve()}}function aR(n,e,t,s={}){n=Cn(n,af);const o=el(e),c=n._getSettings(),d={...c,emulatorOptions:n._getEmulatorOptions()},p=`${e}:${t}`;o&&(Nb(`https://${p}`),Rb("Firestore",!0)),c.host!==Lx&&c.host!==p&&$o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:o,emulatorOptions:s};if(!Ia(g,d)&&(n._setSettings(g),s.mockUserToken)){let y,w;if(typeof s.mockUserToken=="string")y=s.mockUserToken,w=un.MOCK_USER;else{y=m3(s.mockUserToken,n._app?.options.projectId);const x=s.mockUserToken.sub||s.mockUserToken.user_id;if(!x)throw new de(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new un(x)}n._authCredentials=new dC(new N_(y,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ls(this.firestore,e,this._query)}}class xt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xt(this.firestore,e,this._key)}toJSON(){return{type:xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(tu(t,xt._jsonSchema))return new xt(e,s||null,new be(ot.fromString(t.referencePath)))}}xt._jsonSchemaVersion="firestore/documentReference/1.0",xt._jsonSchema={type:Mt("string",xt._jsonSchemaVersion),referencePath:Mt("string")};class Rs extends Ls{constructor(e,t,s){super(e,t,Xh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new be(e))}withConverter(e){return new Rs(this.firestore,e,this._path)}}function Si(n,e,...t){if(n=lt(n),R_("collection","path",e),n instanceof af){const s=ot.fromString(e,...t);return o1(s),new Rs(n,null,s)}{if(!(n instanceof xt||n instanceof Rs))throw new de(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(ot.fromString(e,...t));return o1(s),new Rs(n.firestore,null,s)}}function _r(n,e,...t){if(n=lt(n),arguments.length===1&&(e=Qg.newId()),R_("doc","path",e),n instanceof af){const s=ot.fromString(e,...t);return a1(s),new xt(n,null,new be(s))}{if(!(n instanceof xt||n instanceof Rs))throw new de(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(ot.fromString(e,...t));return a1(s),new xt(n.firestore,n instanceof Rs?n.converter:null,new be(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="AsyncQueue";class X1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new bx(this,"async_queue_retry"),this._c=()=>{const s=Lp();s&&fe(Q1,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=Lp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Lp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Ti;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!sl(e))throw e;fe(Q1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,ki("INTERNAL UNHANDLED ERROR: ",W1(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=m0.createAndSchedule(this,e,t,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Se(47125,{Pc:W1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function W1(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(n){return(function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1})(n,["next","error","complete"])}class Di extends af{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new X1,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new X1(e),this._firestoreClient=void 0,await e}}}function oR(n,e){const t=typeof n=="object"?n:Db(),s=typeof n=="string"?n:gh,o=kg(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=h3("firestore");c&&aR(o,...c)}return o}function of(n){if(n._terminated)throw new de(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||lR(n),n._firestoreClient}function lR(n){const e=n._freezeSettings(),t=(function(o,c,d,p){return new kC(o,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Vx(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new tR(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new nr(rn.fromBase64String(e))}catch(t){throw new de(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new nr(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:nr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(tu(e,nr._jsonSchema))return nr.fromBase64String(e.bytes)}}nr._jsonSchemaVersion="firestore/bytes/1.0",nr._jsonSchema={type:Mt("string",nr._jsonSchemaVersion),bytes:Mt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new de(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new de(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new de(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fr._jsonSchemaVersion}}static fromJSON(e){if(tu(e,Fr._jsonSchema))return new Fr(e.latitude,e.longitude)}}Fr._jsonSchemaVersion="firestore/geoPoint/1.0",Fr._jsonSchema={type:Mt("string",Fr._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Gr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(tu(e,Gr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Gr(e.vectorValues);throw new de(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Gr._jsonSchemaVersion="firestore/vectorValue/1.0",Gr._jsonSchema={type:Mt("string",Gr._jsonSchemaVersion),vectorValues:Mt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR=/^__.*__$/;class uR{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Vs(e,this.data,this.fieldMask,t,this.fieldTransforms):new nu(e,this.data,t,this.fieldTransforms)}}class Ux{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Vs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Bx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:n})}}class E0{constructor(e,t,s,o,c,d){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new E0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Sh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Bx(this.Ac)&&cR.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class dR{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||nf(e)}Cc(e,t,s,o=!1){return new E0({Ac:e,methodName:t,Dc:s,path:nn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uf(n){const e=n._freezeSettings(),t=nf(n._databaseId);return new dR(n._databaseId,!!e.ignoreUndefinedProperties,t)}function zx(n,e,t,s,o,c={}){const d=n.Cc(c.merge||c.mergeFields?2:0,e,t,o);S0("Data must be an object, but it was:",d,s);const p=Hx(s,d);let g,y;if(c.merge)g=new Ln(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const w=[];for(const x of c.mergeFields){const T=gg(e,x,t);if(!d.contains(T))throw new de(te.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);Fx(w,T)||w.push(T)}g=new Ln(w),y=d.fieldTransforms.filter((x=>g.covers(x.field)))}else g=null,y=d.fieldTransforms;return new uR(new An(p),g,y)}class df extends cf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof df}}class T0 extends cf{_toFieldTransform(e){return new r5(e.path,new $c)}isEqual(e){return e instanceof T0}}function hR(n,e,t,s){const o=n.Cc(1,e,t);S0("Data must be an object, but it was:",o,s);const c=[],d=An.empty();Ms(s,((g,y)=>{const w=A0(e,g,t);y=lt(y);const x=o.yc(w);if(y instanceof df)c.push(w);else{const T=au(y,x);T!=null&&(c.push(w),d.set(w,T))}}));const p=new Ln(c);return new Ux(d,p,o.fieldTransforms)}function fR(n,e,t,s,o,c){const d=n.Cc(1,e,t),p=[gg(e,s,t)],g=[o];if(c.length%2!=0)throw new de(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<c.length;T+=2)p.push(gg(e,c[T])),g.push(c[T+1]);const y=[],w=An.empty();for(let T=p.length-1;T>=0;--T)if(!Fx(y,p[T])){const N=p[T];let V=g[T];V=lt(V);const G=d.yc(N);if(V instanceof df)y.push(N);else{const B=au(V,G);B!=null&&(y.push(N),w.set(N,B))}}const x=new Ln(y);return new Ux(w,x,d.fieldTransforms)}function mR(n,e,t,s=!1){return au(t,n.Cc(s?4:3,e))}function au(n,e){if(qx(n=lt(n)))return S0("Unsupported field value:",e,n),Hx(n,e);if(n instanceof cf)return(function(s,o){if(!Bx(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const c=[];let d=0;for(const p of s){let g=au(p,o.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}})(n,e)}return(function(s,o){if((s=lt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return e5(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=dt.fromDate(s);return{timestampValue:bh(o.serializer,c)}}if(s instanceof dt){const c=new dt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:bh(o.serializer,c)}}if(s instanceof Fr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof nr)return{bytesValue:cx(o.serializer,s._byteString)};if(s instanceof xt){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:s0(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Gr)return(function(d,p){return{mapValue:{fields:{[L_]:{stringValue:U_},[yh]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return t0(p.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${$h(s)}`)})(n,e)}function Hx(n,e){const t={};return j_(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ms(n,((s,o)=>{const c=au(o,e.mc(s));c!=null&&(t[s]=c)})),{mapValue:{fields:t}}}function qx(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof dt||n instanceof Fr||n instanceof nr||n instanceof xt||n instanceof cf||n instanceof Gr)}function S0(n,e,t){if(!qx(t)||!I_(t)){const s=$h(t);throw s==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+s)}}function gg(n,e,t){if((e=lt(e))instanceof lf)return e._internalPath;if(typeof e=="string")return A0(n,e);throw Sh("Field path arguments must be of type string or ",n,!1,void 0,t)}const pR=new RegExp("[~\\*/\\[\\]]");function A0(n,e,t){if(e.search(pR)>=0)throw Sh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new lf(...e.split("."))._internalPath}catch{throw Sh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Sh(n,e,t,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${s}`),d&&(g+=` in document ${o}`),g+=")"),new de(te.INVALID_ARGUMENT,p+n+g)}function Fx(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e,t,s,o,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(hf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class gR extends Gx{data(){return super.data()}}function hf(n,e){return typeof e=="string"?A0(n,e):e instanceof lf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new de(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class C0{}class Yx extends C0{}function zo(n,e,...t){let s=[];e instanceof C0&&s.push(e),s=s.concat(t),(function(c){const d=c.filter((g=>g instanceof N0)).length,p=c.filter((g=>g instanceof ff)).length;if(d>1||d>0&&p>0)throw new de(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)n=o._apply(n);return n}class ff extends Yx{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new ff(e,t,s)}_apply(e){const t=this._parse(e);return Qx(e._query,t),new Ls(e.firestore,e.converter,sg(e._query,t))}_parse(e){const t=uf(e.firestore);return(function(c,d,p,g,y,w,x){let T;if(y.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new de(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){eb(x,w);const V=[];for(const G of x)V.push(J1(g,c,G));T={arrayValue:{values:V}}}else T=J1(g,c,x)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||eb(x,w),T=mR(p,d,x,w==="in"||w==="not-in");return Pt.create(y,w,T)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Kx(n,e,t){const s=e,o=hf("where",n);return ff._create(o,s,t)}class N0 extends C0{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new N0(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:br.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,c){let d=o;const p=c.getFlattenedFilters();for(const g of p)Qx(d,g),d=sg(d,g)})(e._query,t),new Ls(e.firestore,e.converter,sg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class R0 extends Yx{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new R0(e,t)}_apply(e){const t=(function(o,c,d){if(o.startAt!==null)throw new de(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new de(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gc(c,d)})(e._query,this._field,this._direction);return new Ls(e.firestore,e.converter,(function(o,c){const d=o.explicitOrderBy.concat([c]);return new al(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function Ho(n,e="asc"){const t=e,s=hf("orderBy",n);return R0._create(s,t)}function J1(n,e,t){if(typeof(t=lt(t))=="string"){if(t==="")throw new de(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Y_(e)&&t.indexOf("/")!==-1)throw new de(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(ot.fromString(t));if(!be.isDocumentKey(s))throw new de(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return p1(n,new be(s))}if(t instanceof xt)return p1(n,t._key);throw new de(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$h(t)}.`)}function eb(n,e){if(!Array.isArray(n)||n.length===0)throw new de(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Qx(n,e){const t=(function(o,c){for(const d of o)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new de(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class yR{convertValue(e,t="none"){switch(Ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Ms(e,((o,c)=>{s[o]=this.convertValue(c,t)})),s}convertVectorValue(e){const t=e.fields?.[yh].arrayValue?.values?.map((s=>It(s.doubleValue)));return new Gr(t)}convertGeoPoint(e){return new Fr(It(e.latitude),It(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Qh(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Hc(e));default:return null}}convertTimestamp(e){const t=ks(e);return new dt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=ot.fromString(e);Qe(px(s),9688,{name:e});const o=new qc(s.get(1),s.get(3)),c=new be(s.popFirst(5));return o.isEqual(t)||ki(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}class Nc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ca extends Gx{constructor(e,t,s,o,c,d){super(e,t,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(hf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ca._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ca._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ca._jsonSchema={type:Mt("string",Ca._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class nh extends Ca{data(e={}){return super.data(e)}}class Na{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Nc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new nh(this._firestore,this._userDataWriter,s.key,s,new Nc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new de(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const g=new nh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Nc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new nh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Nc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,w=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),w=d.indexOf(p.doc.key)),{type:vR(p.type),doc:g,oldIndex:y,newIndex:w}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Na._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Qg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(t.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function vR(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(n){n=Cn(n,xt);const e=Cn(n.firestore,Di);return iR(of(e),n._key).then((t=>Zx(e,n,t)))}Na._jsonSchemaVersion="firestore/querySnapshot/1.0",Na._jsonSchema={type:Mt("string",Na._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class I0 extends yR{constructor(e){super(),this.firestore=e}convertBytes(e){return new nr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,t)}}function k0(n){n=Cn(n,Ls);const e=Cn(n.firestore,Di),t=of(e),s=new I0(e);return $x(n._query),sR(t,n._query).then((o=>new Na(e,s,n,o)))}function tb(n,e,t){n=Cn(n,xt);const s=Cn(n.firestore,Di),o=Xx(n.converter,e,t);return pf(s,[zx(uf(s),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,ir.none())])}function j0(n,e,t,...s){n=Cn(n,xt);const o=Cn(n.firestore,Di),c=uf(o);let d;return d=typeof(e=lt(e))=="string"||e instanceof lf?fR(c,"updateDoc",n._key,e,t,s):hR(c,"updateDoc",n._key,e),pf(o,[d.toMutation(n._key,ir.exists(!0))])}function Wx(n){return pf(Cn(n.firestore,Di),[new n0(n._key,ir.none())])}function D0(n,e){const t=Cn(n.firestore,Di),s=_r(n),o=Xx(n.converter,e);return pf(t,[zx(uf(n.firestore),"addDoc",s._key,o,n.converter!==null,{}).toMutation(s._key,ir.exists(!1))]).then((()=>s))}function wR(n,...e){n=lt(n);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Z1(e[s])||(t=e[s++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Z1(e[s])){const g=e[s];e[s]=g.next?.bind(g),e[s+1]=g.error?.bind(g),e[s+2]=g.complete?.bind(g)}let c,d,p;if(n instanceof xt)d=Cn(n.firestore,Di),p=Xh(n._key.path),c={next:g=>{e[s]&&e[s](Zx(d,n,g))},error:e[s+1],complete:e[s+2]};else{const g=Cn(n,Ls);d=Cn(g.firestore,Di),p=g._query;const y=new I0(d);c={next:w=>{e[s]&&e[s](new Na(d,y,g,w))},error:e[s+1],complete:e[s+2]},$x(n._query)}return(function(y,w,x,T){const N=new x0(T),V=new w0(w,N,x);return y.asyncQueue.enqueueAndForget((async()=>g0(await Th(y),V))),()=>{N.Nu(),y.asyncQueue.enqueueAndForget((async()=>y0(await Th(y),V)))}})(of(d),p,o,c)}function pf(n,e){return(function(s,o){const c=new Ti;return s.asyncQueue.enqueueAndForget((async()=>$N(await rR(s),o,c))),c.promise})(of(n),e)}function Zx(n,e,t){const s=t.docs.get(e._key),o=new I0(n);return new Ca(n,o,e._key,s,new Nc(t.hasPendingWrites,t.fromCache),e.converter)}function yg(){return new T0("serverTimestamp")}(function(e,t=!0){(function(o){rl=o})(tl),Go(new ka("firestore",((s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),p=new Di(new hC(s.getProvider("auth-internal")),new pC(d,s.getProvider("app-check-internal")),(function(y,w){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new de(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qc(y.options.projectId,w)})(d,o),d);return c={useFetchStreams:t,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Cs(n1,r1,e),Cs(n1,r1,"esm2020")})();const bR={apiKey:"AIzaSyA20qOFuyhChuTklwBdkSnpF5yqclwsFzo",authDomain:"nextreadproject.firebaseapp.com",projectId:"nextreadproject",storageBucket:"nextreadproject.firebasestorage.app",messagingSenderId:"991913423699",appId:"1:991913423699:web:4cba2c58fcc3729d6c67a6"},Jx=jb(bR),ht=lC(Jx),ou=new wi,lu=new bi,cu=new vi,Ht=oR(Jx);/*!
* sweetalert2 v11.23.0
* Released under the MIT License.
*/function eE(n,e,t){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function _R(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function nb(n,e){return n.get(eE(n,e))}function xR(n,e,t){_R(n,e),e.set(n,t)}function ER(n,e,t){return n.set(eE(n,e),t),t}const TR=100,xe={},SR=()=>{xe.previousActiveElement instanceof HTMLElement?(xe.previousActiveElement.focus(),xe.previousActiveElement=null):document.body&&document.body.focus()},AR=n=>new Promise(e=>{if(!n)return e();const t=window.scrollX,s=window.scrollY;xe.restoreFocusTimeout=setTimeout(()=>{SR(),e()},TR),window.scrollTo(t,s)}),tE="swal2-",CR=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],Q=CR.reduce((n,e)=>(n[e]=tE+e,n),{}),NR=["success","warning","info","question","error"],Ah=NR.reduce((n,e)=>(n[e]=tE+e,n),{}),nE="SweetAlert2:",O0=n=>n.charAt(0).toUpperCase()+n.slice(1),wn=n=>{console.warn(`${nE} ${typeof n=="object"?n.join(" "):n}`)},Ua=n=>{console.error(`${nE} ${n}`)},rb=[],RR=n=>{rb.includes(n)||(rb.push(n),wn(n))},rE=(n,e=null)=>{RR(`"${n}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},gf=n=>typeof n=="function"?n():n,P0=n=>n&&typeof n.toPromise=="function",uu=n=>P0(n)?n.toPromise():Promise.resolve(n),M0=n=>n&&Promise.resolve(n)===n,bn=()=>document.body.querySelector(`.${Q.container}`),du=n=>{const e=bn();return e?e.querySelector(n):null},zn=n=>du(`.${n}`),$e=()=>zn(Q.popup),ll=()=>zn(Q.icon),IR=()=>zn(Q["icon-content"]),iE=()=>zn(Q.title),V0=()=>zn(Q["html-container"]),sE=()=>zn(Q.image),L0=()=>zn(Q["progress-steps"]),yf=()=>zn(Q["validation-message"]),Yr=()=>du(`.${Q.actions} .${Q.confirm}`),cl=()=>du(`.${Q.actions} .${Q.cancel}`),Ba=()=>du(`.${Q.actions} .${Q.deny}`),kR=()=>zn(Q["input-label"]),ul=()=>du(`.${Q.loader}`),hu=()=>zn(Q.actions),aE=()=>zn(Q.footer),vf=()=>zn(Q["timer-progress-bar"]),U0=()=>zn(Q.close),jR=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,B0=()=>{const n=$e();if(!n)return[];const e=n.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),t=Array.from(e).sort((c,d)=>{const p=parseInt(c.getAttribute("tabindex")||"0"),g=parseInt(d.getAttribute("tabindex")||"0");return p>g?1:p<g?-1:0}),s=n.querySelectorAll(jR),o=Array.from(s).filter(c=>c.getAttribute("tabindex")!=="-1");return[...new Set(t.concat(o))].filter(c=>Nn(c))},z0=()=>Ai(document.body,Q.shown)&&!Ai(document.body,Q["toast-shown"])&&!Ai(document.body,Q["no-backdrop"]),wf=()=>{const n=$e();return n?Ai(n,Q.toast):!1},DR=()=>{const n=$e();return n?n.hasAttribute("data-loading"):!1},Hn=(n,e)=>{if(n.textContent="",e){const s=new DOMParser().parseFromString(e,"text/html"),o=s.querySelector("head");o&&Array.from(o.childNodes).forEach(d=>{n.appendChild(d)});const c=s.querySelector("body");c&&Array.from(c.childNodes).forEach(d=>{d instanceof HTMLVideoElement||d instanceof HTMLAudioElement?n.appendChild(d.cloneNode(!0)):n.appendChild(d)})}},Ai=(n,e)=>{if(!e)return!1;const t=e.split(/\s+/);for(let s=0;s<t.length;s++)if(!n.classList.contains(t[s]))return!1;return!0},OR=(n,e)=>{Array.from(n.classList).forEach(t=>{!Object.values(Q).includes(t)&&!Object.values(Ah).includes(t)&&!Object.values(e.showClass||{}).includes(t)&&n.classList.remove(t)})},Bn=(n,e,t)=>{if(OR(n,e),!e.customClass)return;const s=e.customClass[t];if(s){if(typeof s!="string"&&!s.forEach){wn(`Invalid type of customClass.${t}! Expected string or iterable object, got "${typeof s}"`);return}Ke(n,s)}},bf=(n,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return n.querySelector(`.${Q.popup} > .${Q[e]}`);case"checkbox":return n.querySelector(`.${Q.popup} > .${Q.checkbox} input`);case"radio":return n.querySelector(`.${Q.popup} > .${Q.radio} input:checked`)||n.querySelector(`.${Q.popup} > .${Q.radio} input:first-child`);case"range":return n.querySelector(`.${Q.popup} > .${Q.range} input`);default:return n.querySelector(`.${Q.popup} > .${Q.input}`)}},oE=n=>{if(n.focus(),n.type!=="file"){const e=n.value;n.value="",n.value=e}},lE=(n,e,t)=>{!n||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(s=>{Array.isArray(n)?n.forEach(o=>{t?o.classList.add(s):o.classList.remove(s)}):t?n.classList.add(s):n.classList.remove(s)}))},Ke=(n,e)=>{lE(n,e,!0)},sr=(n,e)=>{lE(n,e,!1)},Es=(n,e)=>{const t=Array.from(n.children);for(let s=0;s<t.length;s++){const o=t[s];if(o instanceof HTMLElement&&Ai(o,e))return o}},Ra=(n,e,t)=>{t===`${parseInt(t)}`&&(t=parseInt(t)),t||parseInt(t)===0?n.style.setProperty(e,typeof t=="number"?`${t}px`:t):n.style.removeProperty(e)},Qt=(n,e="flex")=>{n&&(n.style.display=e)},fn=n=>{n&&(n.style.display="none")},H0=(n,e="block")=>{n&&new MutationObserver(()=>{fu(n,n.innerHTML,e)}).observe(n,{childList:!0,subtree:!0})},ib=(n,e,t,s)=>{const o=n.querySelector(e);o&&o.style.setProperty(t,s)},fu=(n,e,t="flex")=>{e?Qt(n,t):fn(n)},Nn=n=>!!(n&&(n.offsetWidth||n.offsetHeight||n.getClientRects().length)),PR=()=>!Nn(Yr())&&!Nn(Ba())&&!Nn(cl()),vg=n=>n.scrollHeight>n.clientHeight,MR=(n,e)=>{let t=n;for(;t&&t!==e;){if(vg(t))return!0;t=t.parentElement}return!1},cE=n=>{const e=window.getComputedStyle(n),t=parseFloat(e.getPropertyValue("animation-duration")||"0"),s=parseFloat(e.getPropertyValue("transition-duration")||"0");return t>0||s>0},q0=(n,e=!1)=>{const t=vf();t&&Nn(t)&&(e&&(t.style.transition="none",t.style.width="100%"),setTimeout(()=>{t.style.transition=`width ${n/1e3}s linear`,t.style.width="0%"},10))},VR=()=>{const n=vf();if(!n)return;const e=parseInt(window.getComputedStyle(n).width);n.style.removeProperty("transition"),n.style.width="100%";const t=parseInt(window.getComputedStyle(n).width),s=e/t*100;n.style.width=`${s}%`},LR=()=>typeof window>"u"||typeof document>"u",UR=`
 <div aria-labelledby="${Q.title}" aria-describedby="${Q["html-container"]}" class="${Q.popup}" tabindex="-1">
   <button type="button" class="${Q.close}"></button>
   <ul class="${Q["progress-steps"]}"></ul>
   <div class="${Q.icon}"></div>
   <img class="${Q.image}" />
   <h2 class="${Q.title}" id="${Q.title}"></h2>
   <div class="${Q["html-container"]}" id="${Q["html-container"]}"></div>
   <input class="${Q.input}" id="${Q.input}" />
   <input type="file" class="${Q.file}" />
   <div class="${Q.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${Q.select}" id="${Q.select}"></select>
   <div class="${Q.radio}"></div>
   <label class="${Q.checkbox}">
     <input type="checkbox" id="${Q.checkbox}" />
     <span class="${Q.label}"></span>
   </label>
   <textarea class="${Q.textarea}" id="${Q.textarea}"></textarea>
   <div class="${Q["validation-message"]}" id="${Q["validation-message"]}"></div>
   <div class="${Q.actions}">
     <div class="${Q.loader}"></div>
     <button type="button" class="${Q.confirm}"></button>
     <button type="button" class="${Q.deny}"></button>
     <button type="button" class="${Q.cancel}"></button>
   </div>
   <div class="${Q.footer}"></div>
   <div class="${Q["timer-progress-bar-container"]}">
     <div class="${Q["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),BR=()=>{const n=bn();return n?(n.remove(),sr([document.documentElement,document.body],[Q["no-backdrop"],Q["toast-shown"],Q["has-column"]]),!0):!1},Ea=()=>{xe.currentInstance.resetValidationMessage()},zR=()=>{const n=$e(),e=Es(n,Q.input),t=Es(n,Q.file),s=n.querySelector(`.${Q.range} input`),o=n.querySelector(`.${Q.range} output`),c=Es(n,Q.select),d=n.querySelector(`.${Q.checkbox} input`),p=Es(n,Q.textarea);e.oninput=Ea,t.onchange=Ea,c.onchange=Ea,d.onchange=Ea,p.oninput=Ea,s.oninput=()=>{Ea(),o.value=s.value},s.onchange=()=>{Ea(),o.value=s.value}},HR=n=>typeof n=="string"?document.querySelector(n):n,qR=n=>{const e=$e();e.setAttribute("role",n.toast?"alert":"dialog"),e.setAttribute("aria-live",n.toast?"polite":"assertive"),n.toast||e.setAttribute("aria-modal","true")},FR=n=>{window.getComputedStyle(n).direction==="rtl"&&Ke(bn(),Q.rtl)},GR=n=>{const e=BR();if(LR()){Ua("SweetAlert2 requires document to initialize");return}const t=document.createElement("div");t.className=Q.container,e&&Ke(t,Q["no-transition"]),Hn(t,UR),t.dataset.swal2Theme=n.theme;const s=HR(n.target);s.appendChild(t),n.topLayer&&(t.setAttribute("popover",""),t.showPopover()),qR(n),FR(s),zR()},F0=(n,e)=>{n instanceof HTMLElement?e.appendChild(n):typeof n=="object"?$R(n,e):n&&Hn(e,n)},$R=(n,e)=>{n.jquery?YR(e,n):Hn(e,n.toString())},YR=(n,e)=>{if(n.textContent="",0 in e)for(let t=0;t in e;t++)n.appendChild(e[t].cloneNode(!0));else n.appendChild(e.cloneNode(!0))},KR=(n,e)=>{const t=hu(),s=ul();!t||!s||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?fn(t):Qt(t),Bn(t,e,"actions"),QR(t,s,e),Hn(s,e.loaderHtml||""),Bn(s,e,"loader"))};function QR(n,e,t){const s=Yr(),o=Ba(),c=cl();!s||!o||!c||(zp(s,"confirm",t),zp(o,"deny",t),zp(c,"cancel",t),XR(s,o,c,t),t.reverseButtons&&(t.toast?(n.insertBefore(c,s),n.insertBefore(o,s)):(n.insertBefore(c,e),n.insertBefore(o,e),n.insertBefore(s,e))))}function XR(n,e,t,s){if(!s.buttonsStyling){sr([n,e,t],Q.styled);return}Ke([n,e,t],Q.styled),s.confirmButtonColor&&n.style.setProperty("--swal2-confirm-button-background-color",s.confirmButtonColor),s.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",s.denyButtonColor),s.cancelButtonColor&&t.style.setProperty("--swal2-cancel-button-background-color",s.cancelButtonColor),Bp(n),Bp(e),Bp(t)}function Bp(n){const e=window.getComputedStyle(n);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const t=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");n.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${t}`))}function zp(n,e,t){const s=O0(e);fu(n,t[`show${s}Button`],"inline-block"),Hn(n,t[`${e}ButtonText`]||""),n.setAttribute("aria-label",t[`${e}ButtonAriaLabel`]||""),n.className=Q[e],Bn(n,t,`${e}Button`)}const WR=(n,e)=>{const t=U0();t&&(Hn(t,e.closeButtonHtml||""),Bn(t,e,"closeButton"),fu(t,e.showCloseButton),t.setAttribute("aria-label",e.closeButtonAriaLabel||""))},ZR=(n,e)=>{const t=bn();t&&(JR(t,e.backdrop),eI(t,e.position),tI(t,e.grow),Bn(t,e,"container"))};function JR(n,e){typeof e=="string"?n.style.background=e:e||Ke([document.documentElement,document.body],Q["no-backdrop"])}function eI(n,e){e&&(e in Q?Ke(n,Q[e]):(wn('The "position" parameter is not valid, defaulting to "center"'),Ke(n,Q.center)))}function tI(n,e){e&&Ke(n,Q[`grow-${e}`])}var ct={innerParams:new WeakMap,domCache:new WeakMap};const nI=["input","file","range","select","radio","checkbox","textarea"],rI=(n,e)=>{const t=$e();if(!t)return;const s=ct.innerParams.get(n),o=!s||e.input!==s.input;nI.forEach(c=>{const d=Es(t,Q[c]);d&&(aI(c,e.inputAttributes),d.className=Q[c],o&&fn(d))}),e.input&&(o&&iI(e),oI(e))},iI=n=>{if(!n.input)return;if(!Rt[n.input]){Ua(`Unexpected type of input! Expected ${Object.keys(Rt).join(" | ")}, got "${n.input}"`);return}const e=uE(n.input);if(!e)return;const t=Rt[n.input](e,n);Qt(e),n.inputAutoFocus&&setTimeout(()=>{oE(t)})},sI=n=>{for(let e=0;e<n.attributes.length;e++){const t=n.attributes[e].name;["id","type","value","style"].includes(t)||n.removeAttribute(t)}},aI=(n,e)=>{const t=$e();if(!t)return;const s=bf(t,n);if(s){sI(s);for(const o in e)s.setAttribute(o,e[o])}},oI=n=>{if(!n.input)return;const e=uE(n.input);e&&Bn(e,n,"input")},G0=(n,e)=>{!n.placeholder&&e.inputPlaceholder&&(n.placeholder=e.inputPlaceholder)},mu=(n,e,t)=>{if(t.inputLabel){const s=document.createElement("label"),o=Q["input-label"];s.setAttribute("for",n.id),s.className=o,typeof t.customClass=="object"&&Ke(s,t.customClass.inputLabel),s.innerText=t.inputLabel,e.insertAdjacentElement("beforebegin",s)}},uE=n=>{const e=$e();if(e)return Es(e,Q[n]||Q.input)},Ch=(n,e)=>{["string","number"].includes(typeof e)?n.value=`${e}`:M0(e)||wn(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},Rt={};Rt.text=Rt.email=Rt.password=Rt.number=Rt.tel=Rt.url=Rt.search=Rt.date=Rt["datetime-local"]=Rt.time=Rt.week=Rt.month=(n,e)=>(Ch(n,e.inputValue),mu(n,n,e),G0(n,e),n.type=e.input,n);Rt.file=(n,e)=>(mu(n,n,e),G0(n,e),n);Rt.range=(n,e)=>{const t=n.querySelector("input"),s=n.querySelector("output");return Ch(t,e.inputValue),t.type=e.input,Ch(s,e.inputValue),mu(t,n,e),n};Rt.select=(n,e)=>{if(n.textContent="",e.inputPlaceholder){const t=document.createElement("option");Hn(t,e.inputPlaceholder),t.value="",t.disabled=!0,t.selected=!0,n.appendChild(t)}return mu(n,n,e),n};Rt.radio=n=>(n.textContent="",n);Rt.checkbox=(n,e)=>{const t=bf($e(),"checkbox");t.value="1",t.checked=!!e.inputValue;const s=n.querySelector("span");return Hn(s,e.inputPlaceholder||e.inputLabel),t};Rt.textarea=(n,e)=>{Ch(n,e.inputValue),G0(n,e),mu(n,n,e);const t=s=>parseInt(window.getComputedStyle(s).marginLeft)+parseInt(window.getComputedStyle(s).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const s=parseInt(window.getComputedStyle($e()).width),o=()=>{if(!document.body.contains(n))return;const c=n.offsetWidth+t(n);c>s?$e().style.width=`${c}px`:Ra($e(),"width",e.width)};new MutationObserver(o).observe(n,{attributes:!0,attributeFilter:["style"]})}}),n};const lI=(n,e)=>{const t=V0();t&&(H0(t),Bn(t,e,"htmlContainer"),e.html?(F0(e.html,t),Qt(t,"block")):e.text?(t.textContent=e.text,Qt(t,"block")):fn(t),rI(n,e))},cI=(n,e)=>{const t=aE();t&&(H0(t),fu(t,e.footer,"block"),e.footer&&F0(e.footer,t),Bn(t,e,"footer"))},uI=(n,e)=>{const t=ct.innerParams.get(n),s=ll();if(!s)return;if(t&&e.icon===t.icon){ab(s,e),sb(s,e);return}if(!e.icon&&!e.iconHtml){fn(s);return}if(e.icon&&Object.keys(Ah).indexOf(e.icon)===-1){Ua(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),fn(s);return}Qt(s),ab(s,e),sb(s,e),Ke(s,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",dE)},sb=(n,e)=>{for(const[t,s]of Object.entries(Ah))e.icon!==t&&sr(n,s);Ke(n,e.icon&&Ah[e.icon]),fI(n,e),dE(),Bn(n,e,"icon")},dE=()=>{const n=$e();if(!n)return;const e=window.getComputedStyle(n).getPropertyValue("background-color"),t=n.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let s=0;s<t.length;s++)t[s].style.backgroundColor=e},dI=n=>`
  ${n.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${n.animation?'<div class="swal2-success-fix"></div>':""}
  ${n.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,hI=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,ab=(n,e)=>{if(!e.icon&&!e.iconHtml)return;let t=n.innerHTML,s="";e.iconHtml?s=ob(e.iconHtml):e.icon==="success"?(s=dI(e),t=t.replace(/ style=".*?"/g,"")):e.icon==="error"?s=hI:e.icon&&(s=ob({question:"?",warning:"!",info:"i"}[e.icon])),t.trim()!==s.trim()&&Hn(n,s)},fI=(n,e)=>{if(e.iconColor){n.style.color=e.iconColor,n.style.borderColor=e.iconColor;for(const t of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])ib(n,t,"background-color",e.iconColor);ib(n,".swal2-success-ring","border-color",e.iconColor)}},ob=n=>`<div class="${Q["icon-content"]}">${n}</div>`,mI=(n,e)=>{const t=sE();if(t){if(!e.imageUrl){fn(t);return}Qt(t,""),t.setAttribute("src",e.imageUrl),t.setAttribute("alt",e.imageAlt||""),Ra(t,"width",e.imageWidth),Ra(t,"height",e.imageHeight),t.className=Q.image,Bn(t,e,"image")}};let $0=!1,hE=0,fE=0,mE=0,pE=0;const pI=n=>{n.addEventListener("mousedown",Nh),document.body.addEventListener("mousemove",Rh),n.addEventListener("mouseup",Ih),n.addEventListener("touchstart",Nh),document.body.addEventListener("touchmove",Rh),n.addEventListener("touchend",Ih)},gI=n=>{n.removeEventListener("mousedown",Nh),document.body.removeEventListener("mousemove",Rh),n.removeEventListener("mouseup",Ih),n.removeEventListener("touchstart",Nh),document.body.removeEventListener("touchmove",Rh),n.removeEventListener("touchend",Ih)},Nh=n=>{const e=$e();if(n.target===e||ll().contains(n.target)){$0=!0;const t=gE(n);hE=t.clientX,fE=t.clientY,mE=parseInt(e.style.insetInlineStart)||0,pE=parseInt(e.style.insetBlockStart)||0,Ke(e,"swal2-dragging")}},Rh=n=>{const e=$e();if($0){let{clientX:t,clientY:s}=gE(n);e.style.insetInlineStart=`${mE+(t-hE)}px`,e.style.insetBlockStart=`${pE+(s-fE)}px`}},Ih=()=>{const n=$e();$0=!1,sr(n,"swal2-dragging")},gE=n=>{let e=0,t=0;return n.type.startsWith("mouse")?(e=n.clientX,t=n.clientY):n.type.startsWith("touch")&&(e=n.touches[0].clientX,t=n.touches[0].clientY),{clientX:e,clientY:t}},yI=(n,e)=>{const t=bn(),s=$e();if(!(!t||!s)){if(e.toast){Ra(t,"width",e.width),s.style.width="100%";const o=ul();o&&s.insertBefore(o,ll())}else Ra(s,"width",e.width);Ra(s,"padding",e.padding),e.color&&(s.style.color=e.color),e.background&&(s.style.background=e.background),fn(yf()),vI(s,e),e.draggable&&!e.toast?(Ke(s,Q.draggable),pI(s)):(sr(s,Q.draggable),gI(s))}},vI=(n,e)=>{const t=e.showClass||{};n.className=`${Q.popup} ${Nn(n)?t.popup:""}`,e.toast?(Ke([document.documentElement,document.body],Q["toast-shown"]),Ke(n,Q.toast)):Ke(n,Q.modal),Bn(n,e,"popup"),typeof e.customClass=="string"&&Ke(n,e.customClass),e.icon&&Ke(n,Q[`icon-${e.icon}`])},wI=(n,e)=>{const t=L0();if(!t)return;const{progressSteps:s,currentProgressStep:o}=e;if(!s||s.length===0||o===void 0){fn(t);return}Qt(t),t.textContent="",o>=s.length&&wn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),s.forEach((c,d)=>{const p=bI(c);if(t.appendChild(p),d===o&&Ke(p,Q["active-progress-step"]),d!==s.length-1){const g=_I(e);t.appendChild(g)}})},bI=n=>{const e=document.createElement("li");return Ke(e,Q["progress-step"]),Hn(e,n),e},_I=n=>{const e=document.createElement("li");return Ke(e,Q["progress-step-line"]),n.progressStepsDistance&&Ra(e,"width",n.progressStepsDistance),e},xI=(n,e)=>{const t=iE();t&&(H0(t),fu(t,e.title||e.titleText,"block"),e.title&&F0(e.title,t),e.titleText&&(t.innerText=e.titleText),Bn(t,e,"title"))},yE=(n,e)=>{yI(n,e),ZR(n,e),wI(n,e),uI(n,e),mI(n,e),xI(n,e),WR(n,e),lI(n,e),KR(n,e),cI(n,e);const t=$e();typeof e.didRender=="function"&&t&&e.didRender(t),xe.eventEmitter.emit("didRender",t)},EI=()=>Nn($e()),vE=()=>{var n;return(n=Yr())===null||n===void 0?void 0:n.click()},TI=()=>{var n;return(n=Ba())===null||n===void 0?void 0:n.click()},SI=()=>{var n;return(n=cl())===null||n===void 0?void 0:n.click()},dl=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),wE=n=>{n.keydownTarget&&n.keydownHandlerAdded&&(n.keydownTarget.removeEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!1)},AI=(n,e,t)=>{wE(n),e.toast||(n.keydownHandler=s=>NI(e,s,t),n.keydownTarget=e.keydownListenerCapture?window:$e(),n.keydownListenerCapture=e.keydownListenerCapture,n.keydownTarget.addEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!0)},wg=(n,e)=>{var t;const s=B0();if(s.length){n=n+e,n===-2&&(n=s.length-1),n===s.length?n=0:n===-1&&(n=s.length-1),s[n].focus();return}(t=$e())===null||t===void 0||t.focus()},bE=["ArrowRight","ArrowDown"],CI=["ArrowLeft","ArrowUp"],NI=(n,e,t)=>{n&&(e.isComposing||e.keyCode===229||(n.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?RI(e,n):e.key==="Tab"?II(e):[...bE,...CI].includes(e.key)?kI(e.key):e.key==="Escape"&&jI(e,n,t)))},RI=(n,e)=>{if(!gf(e.allowEnterKey))return;const t=bf($e(),e.input);if(n.target&&t&&n.target instanceof HTMLElement&&n.target.outerHTML===t.outerHTML){if(["textarea","file"].includes(e.input))return;vE(),n.preventDefault()}},II=n=>{const e=n.target,t=B0();let s=-1;for(let o=0;o<t.length;o++)if(e===t[o]){s=o;break}n.shiftKey?wg(s,-1):wg(s,1),n.stopPropagation(),n.preventDefault()},kI=n=>{const e=hu(),t=Yr(),s=Ba(),o=cl();if(!e||!t||!s||!o)return;const c=[t,s,o];if(document.activeElement instanceof HTMLElement&&!c.includes(document.activeElement))return;const d=bE.includes(n)?"nextElementSibling":"previousElementSibling";let p=document.activeElement;if(p){for(let g=0;g<e.children.length;g++){if(p=p[d],!p)return;if(p instanceof HTMLButtonElement&&Nn(p))break}p instanceof HTMLButtonElement&&p.focus()}},jI=(n,e,t)=>{n.preventDefault(),gf(e.allowEscapeKey)&&t(dl.esc)};var Zo={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const DI=()=>{const n=bn();Array.from(document.body.children).forEach(t=>{t.contains(n)||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")||""),t.setAttribute("aria-hidden","true"))})},_E=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},xE=typeof window<"u"&&!!window.GestureEvent,OI=()=>{if(xE&&!Ai(document.body,Q.iosfix)){const n=document.body.scrollTop;document.body.style.top=`${n*-1}px`,Ke(document.body,Q.iosfix),PI()}},PI=()=>{const n=bn();if(!n)return;let e;n.ontouchstart=t=>{e=MI(t)},n.ontouchmove=t=>{e&&(t.preventDefault(),t.stopPropagation())}},MI=n=>{const e=n.target,t=bn(),s=V0();return!t||!s||VI(n)||LI(n)?!1:e===t||!vg(t)&&e instanceof HTMLElement&&!MR(e,s)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(vg(s)&&s.contains(e))},VI=n=>n.touches&&n.touches.length&&n.touches[0].touchType==="stylus",LI=n=>n.touches&&n.touches.length>1,UI=()=>{if(Ai(document.body,Q.iosfix)){const n=parseInt(document.body.style.top,10);sr(document.body,Q.iosfix),document.body.style.top="",document.body.scrollTop=n*-1}},BI=()=>{const n=document.createElement("div");n.className=Q["scrollbar-measure"],document.body.appendChild(n);const e=n.getBoundingClientRect().width-n.clientWidth;return document.body.removeChild(n),e};let qo=null;const zI=n=>{qo===null&&(document.body.scrollHeight>window.innerHeight||n==="scroll")&&(qo=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${qo+BI()}px`)},HI=()=>{qo!==null&&(document.body.style.paddingRight=`${qo}px`,qo=null)};function EE(n,e,t,s){wf()?lb(n,s):(AR(t).then(()=>lb(n,s)),wE(xe)),xE?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),z0()&&(HI(),UI(),_E()),qI()}function qI(){sr([document.documentElement,document.body],[Q.shown,Q["height-auto"],Q["no-backdrop"],Q["toast-shown"]])}function Ts(n){n=GI(n);const e=Zo.swalPromiseResolve.get(this),t=FI(this);this.isAwaitingPromise?n.isDismissed||(pu(this),e(n)):t&&e(n)}const FI=n=>{const e=$e();if(!e)return!1;const t=ct.innerParams.get(n);if(!t||Ai(e,t.hideClass.popup))return!1;sr(e,t.showClass.popup),Ke(e,t.hideClass.popup);const s=bn();return sr(s,t.showClass.backdrop),Ke(s,t.hideClass.backdrop),$I(n,e,t),!0};function TE(n){const e=Zo.swalPromiseReject.get(this);pu(this),e&&e(n)}const pu=n=>{n.isAwaitingPromise&&(delete n.isAwaitingPromise,ct.innerParams.get(n)||n._destroy())},GI=n=>typeof n>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},n),$I=(n,e,t)=>{var s;const o=bn(),c=cE(e);typeof t.willClose=="function"&&t.willClose(e),(s=xe.eventEmitter)===null||s===void 0||s.emit("willClose",e),c?YI(n,e,o,t.returnFocus,t.didClose):EE(n,o,t.returnFocus,t.didClose)},YI=(n,e,t,s,o)=>{xe.swalCloseEventFinishedCallback=EE.bind(null,n,t,s,o);const c=function(d){if(d.target===e){var p;(p=xe.swalCloseEventFinishedCallback)===null||p===void 0||p.call(xe),delete xe.swalCloseEventFinishedCallback,e.removeEventListener("animationend",c),e.removeEventListener("transitionend",c)}};e.addEventListener("animationend",c),e.addEventListener("transitionend",c)},lb=(n,e)=>{setTimeout(()=>{var t;typeof e=="function"&&e.bind(n.params)(),(t=xe.eventEmitter)===null||t===void 0||t.emit("didClose"),n._destroy&&n._destroy()})},Jo=n=>{let e=$e();if(e||new ae,e=$e(),!e)return;const t=ul();wf()?fn(ll()):KI(e,n),Qt(t),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},KI=(n,e)=>{const t=hu(),s=ul();!t||!s||(!e&&Nn(Yr())&&(e=Yr()),Qt(t),e&&(fn(e),s.setAttribute("data-button-to-replace",e.className),t.insertBefore(s,e)),Ke([n,t],Q.loading))},QI=(n,e)=>{e.input==="select"||e.input==="radio"?e9(n,e):["text","email","number","tel","textarea"].some(t=>t===e.input)&&(P0(e.inputValue)||M0(e.inputValue))&&(Jo(Yr()),t9(n,e))},XI=(n,e)=>{const t=n.getInput();if(!t)return null;switch(e.input){case"checkbox":return WI(t);case"radio":return ZI(t);case"file":return JI(t);default:return e.inputAutoTrim?t.value.trim():t.value}},WI=n=>n.checked?1:0,ZI=n=>n.checked?n.value:null,JI=n=>n.files&&n.files.length?n.getAttribute("multiple")!==null?n.files:n.files[0]:null,e9=(n,e)=>{const t=$e();if(!t)return;const s=o=>{e.input==="select"?n9(t,kh(o),e):e.input==="radio"&&r9(t,kh(o),e)};P0(e.inputOptions)||M0(e.inputOptions)?(Jo(Yr()),uu(e.inputOptions).then(o=>{n.hideLoading(),s(o)})):typeof e.inputOptions=="object"?s(e.inputOptions):Ua(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},t9=(n,e)=>{const t=n.getInput();t&&(fn(t),uu(e.inputValue).then(s=>{t.value=e.input==="number"?`${parseFloat(s)||0}`:`${s}`,Qt(t),t.focus(),n.hideLoading()}).catch(s=>{Ua(`Error in inputValue promise: ${s}`),t.value="",Qt(t),t.focus(),n.hideLoading()}))};function n9(n,e,t){const s=Es(n,Q.select);if(!s)return;const o=(c,d,p)=>{const g=document.createElement("option");g.value=p,Hn(g,d),g.selected=SE(p,t.inputValue),c.appendChild(g)};e.forEach(c=>{const d=c[0],p=c[1];if(Array.isArray(p)){const g=document.createElement("optgroup");g.label=d,g.disabled=!1,s.appendChild(g),p.forEach(y=>o(g,y[1],y[0]))}else o(s,p,d)}),s.focus()}function r9(n,e,t){const s=Es(n,Q.radio);if(!s)return;e.forEach(c=>{const d=c[0],p=c[1],g=document.createElement("input"),y=document.createElement("label");g.type="radio",g.name=Q.radio,g.value=d,SE(d,t.inputValue)&&(g.checked=!0);const w=document.createElement("span");Hn(w,p),w.className=Q.label,y.appendChild(g),y.appendChild(w),s.appendChild(y)});const o=s.querySelectorAll("input");o.length&&o[0].focus()}const kh=n=>{const e=[];return n instanceof Map?n.forEach((t,s)=>{let o=t;typeof o=="object"&&(o=kh(o)),e.push([s,o])}):Object.keys(n).forEach(t=>{let s=n[t];typeof s=="object"&&(s=kh(s)),e.push([t,s])}),e},SE=(n,e)=>!!e&&e.toString()===n.toString(),i9=n=>{const e=ct.innerParams.get(n);n.disableButtons(),e.input?AE(n,"confirm"):K0(n,!0)},s9=n=>{const e=ct.innerParams.get(n);n.disableButtons(),e.returnInputValueOnDeny?AE(n,"deny"):Y0(n,!1)},a9=(n,e)=>{n.disableButtons(),e(dl.cancel)},AE=(n,e)=>{const t=ct.innerParams.get(n);if(!t.input){Ua(`The "input" parameter is needed to be set when using returnInputValueOn${O0(e)}`);return}const s=n.getInput(),o=XI(n,t);t.inputValidator?o9(n,o,e):s&&!s.checkValidity()?(n.enableButtons(),n.showValidationMessage(t.validationMessage||s.validationMessage)):e==="deny"?Y0(n,o):K0(n,o)},o9=(n,e,t)=>{const s=ct.innerParams.get(n);n.disableInput(),Promise.resolve().then(()=>uu(s.inputValidator(e,s.validationMessage))).then(c=>{n.enableButtons(),n.enableInput(),c?n.showValidationMessage(c):t==="deny"?Y0(n,e):K0(n,e)})},Y0=(n,e)=>{const t=ct.innerParams.get(n||void 0);t.showLoaderOnDeny&&Jo(Ba()),t.preDeny?(n.isAwaitingPromise=!0,Promise.resolve().then(()=>uu(t.preDeny(e,t.validationMessage))).then(o=>{o===!1?(n.hideLoading(),pu(n)):n.close({isDenied:!0,value:typeof o>"u"?e:o})}).catch(o=>CE(n||void 0,o))):n.close({isDenied:!0,value:e})},cb=(n,e)=>{n.close({isConfirmed:!0,value:e})},CE=(n,e)=>{n.rejectPromise(e)},K0=(n,e)=>{const t=ct.innerParams.get(n||void 0);t.showLoaderOnConfirm&&Jo(),t.preConfirm?(n.resetValidationMessage(),n.isAwaitingPromise=!0,Promise.resolve().then(()=>uu(t.preConfirm(e,t.validationMessage))).then(o=>{Nn(yf())||o===!1?(n.hideLoading(),pu(n)):cb(n,typeof o>"u"?e:o)}).catch(o=>CE(n||void 0,o))):cb(n,e)};function jh(){const n=ct.innerParams.get(this);if(!n)return;const e=ct.domCache.get(this);fn(e.loader),wf()?n.icon&&Qt(ll()):l9(e),sr([e.popup,e.actions],Q.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const l9=n=>{const e=n.popup.getElementsByClassName(n.loader.getAttribute("data-button-to-replace"));e.length?Qt(e[0],"inline-block"):PR()&&fn(n.actions)};function NE(){const n=ct.innerParams.get(this),e=ct.domCache.get(this);return e?bf(e.popup,n.input):null}function RE(n,e,t){const s=ct.domCache.get(n);e.forEach(o=>{s[o].disabled=t})}function IE(n,e){const t=$e();if(!(!t||!n))if(n.type==="radio"){const s=t.querySelectorAll(`[name="${Q.radio}"]`);for(let o=0;o<s.length;o++)s[o].disabled=e}else n.disabled=e}function kE(){RE(this,["confirmButton","denyButton","cancelButton"],!1)}function jE(){RE(this,["confirmButton","denyButton","cancelButton"],!0)}function DE(){IE(this.getInput(),!1)}function OE(){IE(this.getInput(),!0)}function PE(n){const e=ct.domCache.get(this),t=ct.innerParams.get(this);Hn(e.validationMessage,n),e.validationMessage.className=Q["validation-message"],t.customClass&&t.customClass.validationMessage&&Ke(e.validationMessage,t.customClass.validationMessage),Qt(e.validationMessage);const s=this.getInput();s&&(s.setAttribute("aria-invalid","true"),s.setAttribute("aria-describedby",Q["validation-message"]),oE(s),Ke(s,Q.inputerror))}function ME(){const n=ct.domCache.get(this);n.validationMessage&&fn(n.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),sr(e,Q.inputerror))}const Fo={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},c9=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],u9={allowEnterKey:void 0},d9=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],VE=n=>Object.prototype.hasOwnProperty.call(Fo,n),LE=n=>c9.indexOf(n)!==-1,UE=n=>u9[n],h9=n=>{VE(n)||wn(`Unknown parameter "${n}"`)},f9=n=>{d9.includes(n)&&wn(`The parameter "${n}" is incompatible with toasts`)},m9=n=>{const e=UE(n);e&&rE(n,e)},BE=n=>{n.backdrop===!1&&n.allowOutsideClick&&wn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),n.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(n.theme)&&wn(`Invalid theme "${n.theme}"`);for(const e in n)h9(e),n.toast&&f9(e),m9(e)};function zE(n){const e=bn(),t=$e(),s=ct.innerParams.get(this);if(!t||Ai(t,s.hideClass.popup)){wn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const o=p9(n),c=Object.assign({},s,o);BE(c),e.dataset.swal2Theme=c.theme,yE(this,c),ct.innerParams.set(this,c),Object.defineProperties(this,{params:{value:Object.assign({},this.params,n),writable:!1,enumerable:!0}})}const p9=n=>{const e={};return Object.keys(n).forEach(t=>{LE(t)?e[t]=n[t]:wn(`Invalid parameter to update: ${t}`)}),e};function HE(){const n=ct.domCache.get(this),e=ct.innerParams.get(this);if(!e){qE(this);return}n.popup&&xe.swalCloseEventFinishedCallback&&(xe.swalCloseEventFinishedCallback(),delete xe.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),xe.eventEmitter.emit("didDestroy"),g9(this)}const g9=n=>{qE(n),delete n.params,delete xe.keydownHandler,delete xe.keydownTarget,delete xe.currentInstance},qE=n=>{n.isAwaitingPromise?(Hp(ct,n),n.isAwaitingPromise=!0):(Hp(Zo,n),Hp(ct,n),delete n.isAwaitingPromise,delete n.disableButtons,delete n.enableButtons,delete n.getInput,delete n.disableInput,delete n.enableInput,delete n.hideLoading,delete n.disableLoading,delete n.showValidationMessage,delete n.resetValidationMessage,delete n.close,delete n.closePopup,delete n.closeModal,delete n.closeToast,delete n.rejectPromise,delete n.update,delete n._destroy)},Hp=(n,e)=>{for(const t in n)n[t].delete(e)};var y9=Object.freeze({__proto__:null,_destroy:HE,close:Ts,closeModal:Ts,closePopup:Ts,closeToast:Ts,disableButtons:jE,disableInput:OE,disableLoading:jh,enableButtons:kE,enableInput:DE,getInput:NE,handleAwaitingPromise:pu,hideLoading:jh,rejectPromise:TE,resetValidationMessage:ME,showValidationMessage:PE,update:zE});const v9=(n,e,t)=>{n.toast?w9(n,e,t):(_9(e),x9(e),E9(n,e,t))},w9=(n,e,t)=>{e.popup.onclick=()=>{n&&(b9(n)||n.timer||n.input)||t(dl.close)}},b9=n=>!!(n.showConfirmButton||n.showDenyButton||n.showCancelButton||n.showCloseButton);let Dh=!1;const _9=n=>{n.popup.onmousedown=()=>{n.container.onmouseup=function(e){n.container.onmouseup=()=>{},e.target===n.container&&(Dh=!0)}}},x9=n=>{n.container.onmousedown=e=>{e.target===n.container&&e.preventDefault(),n.popup.onmouseup=function(t){n.popup.onmouseup=()=>{},(t.target===n.popup||t.target instanceof HTMLElement&&n.popup.contains(t.target))&&(Dh=!0)}}},E9=(n,e,t)=>{e.container.onclick=s=>{if(Dh){Dh=!1;return}s.target===e.container&&gf(n.allowOutsideClick)&&t(dl.backdrop)}},T9=n=>typeof n=="object"&&n.jquery,ub=n=>n instanceof Element||T9(n),S9=n=>{const e={};return typeof n[0]=="object"&&!ub(n[0])?Object.assign(e,n[0]):["title","html","icon"].forEach((t,s)=>{const o=n[s];typeof o=="string"||ub(o)?e[t]=o:o!==void 0&&Ua(`Unexpected type of ${t}! Expected "string" or "Element", got ${typeof o}`)}),e};function A9(...n){return new this(...n)}function C9(n){class e extends this{_main(s,o){return super._main(s,Object.assign({},n,o))}}return e}const N9=()=>xe.timeout&&xe.timeout.getTimerLeft(),FE=()=>{if(xe.timeout)return VR(),xe.timeout.stop()},GE=()=>{if(xe.timeout){const n=xe.timeout.start();return q0(n),n}},R9=()=>{const n=xe.timeout;return n&&(n.running?FE():GE())},I9=n=>{if(xe.timeout){const e=xe.timeout.increase(n);return q0(e,!0),e}},k9=()=>!!(xe.timeout&&xe.timeout.isRunning());let db=!1;const bg={};function j9(n="data-swal-template"){bg[n]=this,db||(document.body.addEventListener("click",D9),db=!0)}const D9=n=>{for(let e=n.target;e&&e!==document;e=e.parentNode)for(const t in bg){const s=e.getAttribute(t);if(s){bg[t].fire({template:s});return}}};class O9{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,t){const s=this._getHandlersByEventName(e);s.includes(t)||s.push(t)}once(e,t){const s=(...o)=>{this.removeListener(e,s),t.apply(this,o)};this.on(e,s)}emit(e,...t){this._getHandlersByEventName(e).forEach(s=>{try{s.apply(this,t)}catch(o){console.error(o)}})}removeListener(e,t){const s=this._getHandlersByEventName(e),o=s.indexOf(t);o>-1&&s.splice(o,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}xe.eventEmitter=new O9;const P9=(n,e)=>{xe.eventEmitter.on(n,e)},M9=(n,e)=>{xe.eventEmitter.once(n,e)},V9=(n,e)=>{if(!n){xe.eventEmitter.reset();return}e?xe.eventEmitter.removeListener(n,e):xe.eventEmitter.removeAllListeners(n)};var L9=Object.freeze({__proto__:null,argsToParams:S9,bindClickHandler:j9,clickCancel:SI,clickConfirm:vE,clickDeny:TI,enableLoading:Jo,fire:A9,getActions:hu,getCancelButton:cl,getCloseButton:U0,getConfirmButton:Yr,getContainer:bn,getDenyButton:Ba,getFocusableElements:B0,getFooter:aE,getHtmlContainer:V0,getIcon:ll,getIconContent:IR,getImage:sE,getInputLabel:kR,getLoader:ul,getPopup:$e,getProgressSteps:L0,getTimerLeft:N9,getTimerProgressBar:vf,getTitle:iE,getValidationMessage:yf,increaseTimer:I9,isDeprecatedParameter:UE,isLoading:DR,isTimerRunning:k9,isUpdatableParameter:LE,isValidParameter:VE,isVisible:EI,mixin:C9,off:V9,on:P9,once:M9,resumeTimer:GE,showLoading:Jo,stopTimer:FE,toggleTimer:R9});class U9{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const $E=["swal-title","swal-html","swal-footer"],B9=n=>{const e=typeof n.template=="string"?document.querySelector(n.template):n.template;if(!e)return{};const t=e.content;return K9(t),Object.assign(z9(t),H9(t),q9(t),F9(t),G9(t),$9(t),Y9(t,$E))},z9=n=>{const e={};return Array.from(n.querySelectorAll("swal-param")).forEach(s=>{Pa(s,["name","value"]);const o=s.getAttribute("name"),c=s.getAttribute("value");!o||!c||(typeof Fo[o]=="boolean"?e[o]=c!=="false":typeof Fo[o]=="object"?e[o]=JSON.parse(c):e[o]=c)}),e},H9=n=>{const e={};return Array.from(n.querySelectorAll("swal-function-param")).forEach(s=>{const o=s.getAttribute("name"),c=s.getAttribute("value");!o||!c||(e[o]=new Function(`return ${c}`)())}),e},q9=n=>{const e={};return Array.from(n.querySelectorAll("swal-button")).forEach(s=>{Pa(s,["type","color","aria-label"]);const o=s.getAttribute("type");!o||!["confirm","cancel","deny"].includes(o)||(e[`${o}ButtonText`]=s.innerHTML,e[`show${O0(o)}Button`]=!0,s.hasAttribute("color")&&(e[`${o}ButtonColor`]=s.getAttribute("color")),s.hasAttribute("aria-label")&&(e[`${o}ButtonAriaLabel`]=s.getAttribute("aria-label")))}),e},F9=n=>{const e={},t=n.querySelector("swal-image");return t&&(Pa(t,["src","width","height","alt"]),t.hasAttribute("src")&&(e.imageUrl=t.getAttribute("src")||void 0),t.hasAttribute("width")&&(e.imageWidth=t.getAttribute("width")||void 0),t.hasAttribute("height")&&(e.imageHeight=t.getAttribute("height")||void 0),t.hasAttribute("alt")&&(e.imageAlt=t.getAttribute("alt")||void 0)),e},G9=n=>{const e={},t=n.querySelector("swal-icon");return t&&(Pa(t,["type","color"]),t.hasAttribute("type")&&(e.icon=t.getAttribute("type")),t.hasAttribute("color")&&(e.iconColor=t.getAttribute("color")),e.iconHtml=t.innerHTML),e},$9=n=>{const e={},t=n.querySelector("swal-input");t&&(Pa(t,["type","label","placeholder","value"]),e.input=t.getAttribute("type")||"text",t.hasAttribute("label")&&(e.inputLabel=t.getAttribute("label")),t.hasAttribute("placeholder")&&(e.inputPlaceholder=t.getAttribute("placeholder")),t.hasAttribute("value")&&(e.inputValue=t.getAttribute("value")));const s=Array.from(n.querySelectorAll("swal-input-option"));return s.length&&(e.inputOptions={},s.forEach(o=>{Pa(o,["value"]);const c=o.getAttribute("value");if(!c)return;const d=o.innerHTML;e.inputOptions[c]=d})),e},Y9=(n,e)=>{const t={};for(const s in e){const o=e[s],c=n.querySelector(o);c&&(Pa(c,[]),t[o.replace(/^swal-/,"")]=c.innerHTML.trim())}return t},K9=n=>{const e=$E.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(n.children).forEach(t=>{const s=t.tagName.toLowerCase();e.includes(s)||wn(`Unrecognized element <${s}>`)})},Pa=(n,e)=>{Array.from(n.attributes).forEach(t=>{e.indexOf(t.name)===-1&&wn([`Unrecognized attribute "${t.name}" on <${n.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},YE=10,Q9=n=>{const e=bn(),t=$e();typeof n.willOpen=="function"&&n.willOpen(t),xe.eventEmitter.emit("willOpen",t);const o=window.getComputedStyle(document.body).overflowY;Z9(e,t,n),setTimeout(()=>{X9(e,t)},YE),z0()&&(W9(e,n.scrollbarPadding,o),DI()),!wf()&&!xe.previousActiveElement&&(xe.previousActiveElement=document.activeElement),typeof n.didOpen=="function"&&setTimeout(()=>n.didOpen(t)),xe.eventEmitter.emit("didOpen",t),sr(e,Q["no-transition"])},Oh=n=>{const e=$e();if(n.target!==e)return;const t=bn();e.removeEventListener("animationend",Oh),e.removeEventListener("transitionend",Oh),t.style.overflowY="auto"},X9=(n,e)=>{cE(e)?(n.style.overflowY="hidden",e.addEventListener("animationend",Oh),e.addEventListener("transitionend",Oh)):n.style.overflowY="auto"},W9=(n,e,t)=>{OI(),e&&t!=="hidden"&&zI(t),setTimeout(()=>{n.scrollTop=0})},Z9=(n,e,t)=>{Ke(n,t.showClass.backdrop),t.animation?(e.style.setProperty("opacity","0","important"),Qt(e,"grid"),setTimeout(()=>{Ke(e,t.showClass.popup),e.style.removeProperty("opacity")},YE)):Qt(e,"grid"),Ke([document.documentElement,document.body],Q.shown),t.heightAuto&&t.backdrop&&!t.toast&&Ke([document.documentElement,document.body],Q["height-auto"])};var hb={email:(n,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(n)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(n,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(n)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function J9(n){n.inputValidator||(n.input==="email"&&(n.inputValidator=hb.email),n.input==="url"&&(n.inputValidator=hb.url))}function e8(n){(!n.target||typeof n.target=="string"&&!document.querySelector(n.target)||typeof n.target!="string"&&!n.target.appendChild)&&(wn('Target parameter is not valid, defaulting to "body"'),n.target="body")}function t8(n){J9(n),n.showLoaderOnConfirm&&!n.preConfirm&&wn(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),e8(n),typeof n.title=="string"&&(n.title=n.title.split(`
`).join("<br />")),GR(n)}let Br;var Gd=new WeakMap;class kt{constructor(...e){if(xR(this,Gd,void 0),typeof window>"u")return;Br=this;const t=Object.freeze(this.constructor.argsToParams(e));this.params=t,this.isAwaitingPromise=!1,ER(Gd,this,this._main(Br.params))}_main(e,t={}){if(BE(Object.assign({},t,e)),xe.currentInstance){const c=Zo.swalPromiseResolve.get(xe.currentInstance),{isAwaitingPromise:d}=xe.currentInstance;xe.currentInstance._destroy(),d||c({isDismissed:!0}),z0()&&_E()}xe.currentInstance=Br;const s=r8(e,t);t8(s),Object.freeze(s),xe.timeout&&(xe.timeout.stop(),delete xe.timeout),clearTimeout(xe.restoreFocusTimeout);const o=i8(Br);return yE(Br,s),ct.innerParams.set(Br,s),n8(Br,o,s)}then(e){return nb(Gd,this).then(e)}finally(e){return nb(Gd,this).finally(e)}}const n8=(n,e,t)=>new Promise((s,o)=>{const c=d=>{n.close({isDismissed:!0,dismiss:d})};Zo.swalPromiseResolve.set(n,s),Zo.swalPromiseReject.set(n,o),e.confirmButton.onclick=()=>{i9(n)},e.denyButton.onclick=()=>{s9(n)},e.cancelButton.onclick=()=>{a9(n,c)},e.closeButton.onclick=()=>{c(dl.close)},v9(t,e,c),AI(xe,t,c),QI(n,t),Q9(t),s8(xe,t,c),a8(e,t),setTimeout(()=>{e.container.scrollTop=0})}),r8=(n,e)=>{const t=B9(n),s=Object.assign({},Fo,e,t,n);return s.showClass=Object.assign({},Fo.showClass,s.showClass),s.hideClass=Object.assign({},Fo.hideClass,s.hideClass),s.animation===!1&&(s.showClass={backdrop:"swal2-noanimation"},s.hideClass={}),s},i8=n=>{const e={popup:$e(),container:bn(),actions:hu(),confirmButton:Yr(),denyButton:Ba(),cancelButton:cl(),loader:ul(),closeButton:U0(),validationMessage:yf(),progressSteps:L0()};return ct.domCache.set(n,e),e},s8=(n,e,t)=>{const s=vf();fn(s),e.timer&&(n.timeout=new U9(()=>{t("timer"),delete n.timeout},e.timer),e.timerProgressBar&&(Qt(s),Bn(s,e,"timerProgressBar"),setTimeout(()=>{n.timeout&&n.timeout.running&&q0(e.timer)})))},a8=(n,e)=>{if(!e.toast){if(!gf(e.allowEnterKey)){rE("allowEnterKey"),c8();return}o8(n)||l8(n,e)||wg(-1,1)}},o8=n=>{const e=Array.from(n.popup.querySelectorAll("[autofocus]"));for(const t of e)if(t instanceof HTMLElement&&Nn(t))return t.focus(),!0;return!1},l8=(n,e)=>e.focusDeny&&Nn(n.denyButton)?(n.denyButton.focus(),!0):e.focusCancel&&Nn(n.cancelButton)?(n.cancelButton.focus(),!0):e.focusConfirm&&Nn(n.confirmButton)?(n.confirmButton.focus(),!0):!1,c8=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};kt.prototype.disableButtons=jE;kt.prototype.enableButtons=kE;kt.prototype.getInput=NE;kt.prototype.disableInput=OE;kt.prototype.enableInput=DE;kt.prototype.hideLoading=jh;kt.prototype.disableLoading=jh;kt.prototype.showValidationMessage=PE;kt.prototype.resetValidationMessage=ME;kt.prototype.close=Ts;kt.prototype.closePopup=Ts;kt.prototype.closeModal=Ts;kt.prototype.closeToast=Ts;kt.prototype.rejectPromise=TE;kt.prototype.update=zE;kt.prototype._destroy=HE;Object.assign(kt,L9);Object.keys(y9).forEach(n=>{kt[n]=function(...e){return Br&&Br[n]?Br[n](...e):null}});kt.DismissReason=dl;kt.version="11.23.0";const ae=kt;ae.default=ae;typeof document<"u"&&(function(n,e){var t=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var fb="popstate";function u8(n={}){function e(s,o){let{pathname:c,search:d,hash:p}=s.location;return _g("",{pathname:c,search:d,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:Qc(o)}return h8(e,t,null,n)}function yt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function xr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function d8(){return Math.random().toString(36).substring(2,10)}function mb(n,e){return{usr:n.state,key:n.key,idx:e}}function _g(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?hl(e):e,state:t,key:e&&e.key||s||d8()}}function Qc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function hl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function h8(n,e,t,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,d=o.history,p="POP",g=null,y=w();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function w(){return(d.state||{idx:null}).idx}function x(){p="POP";let B=w(),J=B==null?null:B-y;y=B,g&&g({action:p,location:G.location,delta:J})}function T(B,J){p="PUSH";let K=_g(G.location,B,J);y=w()+1;let X=mb(K,y),pe=G.createHref(K);try{d.pushState(X,"",pe)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;o.location.assign(pe)}c&&g&&g({action:p,location:G.location,delta:1})}function N(B,J){p="REPLACE";let K=_g(G.location,B,J);y=w();let X=mb(K,y),pe=G.createHref(K);d.replaceState(X,"",pe),c&&g&&g({action:p,location:G.location,delta:0})}function V(B){return f8(B)}let G={get action(){return p},get location(){return n(o,d)},listen(B){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(fb,x),g=B,()=>{o.removeEventListener(fb,x),g=null}},createHref(B){return e(o,B)},createURL:V,encodeLocation(B){let J=V(B);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:T,replace:N,go(B){return d.go(B)}};return G}function f8(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),yt(t,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:Qc(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function KE(n,e,t="/"){return m8(n,e,t,!1)}function m8(n,e,t,s){let o=typeof e=="string"?hl(e):e,c=Oi(o.pathname||"/",t);if(c==null)return null;let d=QE(n);p8(d);let p=null;for(let g=0;p==null&&g<d.length;++g){let y=A8(c);p=T8(d[g],y,s)}return p}function QE(n,e=[],t=[],s="",o=!1){let c=(d,p,g=o,y)=>{let w={relativePath:y===void 0?d.path||"":y,caseSensitive:d.caseSensitive===!0,childrenIndex:p,route:d};if(w.relativePath.startsWith("/")){if(!w.relativePath.startsWith(s)&&g)return;yt(w.relativePath.startsWith(s),`Absolute route path "${w.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(s.length)}let x=Ci([s,w.relativePath]),T=t.concat(w);d.children&&d.children.length>0&&(yt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),QE(d.children,e,T,x,g)),!(d.path==null&&!d.index)&&e.push({path:x,score:x8(x,d.index),routesMeta:T})};return n.forEach((d,p)=>{if(d.path===""||!d.path?.includes("?"))c(d,p);else for(let g of XE(d.path))c(d,p,!0,g)}),e}function XE(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),c=t.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let d=XE(s.join("/")),p=[];return p.push(...d.map(g=>g===""?c:[c,g].join("/"))),o&&p.push(...d),p.map(g=>n.startsWith("/")&&g===""?"/":g)}function p8(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:E8(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var g8=/^:[\w-]+$/,y8=3,v8=2,w8=1,b8=10,_8=-2,pb=n=>n==="*";function x8(n,e){let t=n.split("/"),s=t.length;return t.some(pb)&&(s+=_8),e&&(s+=v8),t.filter(o=>!pb(o)).reduce((o,c)=>o+(g8.test(c)?y8:c===""?w8:b8),s)}function E8(n,e){return n.length===e.length&&n.slice(0,-1).every((s,o)=>s===e[o])?n[n.length-1]-e[e.length-1]:0}function T8(n,e,t=!1){let{routesMeta:s}=n,o={},c="/",d=[];for(let p=0;p<s.length;++p){let g=s[p],y=p===s.length-1,w=c==="/"?e:e.slice(c.length)||"/",x=Ph({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},w),T=g.route;if(!x&&y&&t&&!s[s.length-1].route.index&&(x=Ph({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},w)),!x)return null;Object.assign(o,x.params),d.push({params:o,pathname:Ci([c,x.pathname]),pathnameBase:I8(Ci([c,x.pathnameBase])),route:T}),x.pathnameBase!=="/"&&(c=Ci([c,x.pathnameBase]))}return d}function Ph(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=S8(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((y,{paramName:w,isOptional:x},T)=>{if(w==="*"){let V=p[T]||"";d=c.slice(0,c.length-V.length).replace(/(.)\/+$/,"$1")}const N=p[T];return x&&!N?y[w]=void 0:y[w]=(N||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:d,pattern:n}}function S8(n,e=!1,t=!0){xr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,g)=>(s.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(s.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function A8(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Oi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function C8(n,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof n=="string"?hl(n):n;return{pathname:t?t.startsWith("/")?t:N8(t,e):e,search:k8(s),hash:j8(o)}}function N8(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function qp(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function R8(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function WE(n){let e=R8(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function ZE(n,e,t,s=!1){let o;typeof n=="string"?o=hl(n):(o={...n},yt(!o.pathname||!o.pathname.includes("?"),qp("?","pathname","search",o)),yt(!o.pathname||!o.pathname.includes("#"),qp("#","pathname","hash",o)),yt(!o.search||!o.search.includes("#"),qp("#","search","hash",o)));let c=n===""||o.pathname==="",d=c?"/":o.pathname,p;if(d==null)p=t;else{let x=e.length-1;if(!s&&d.startsWith("..")){let T=d.split("/");for(;T[0]==="..";)T.shift(),x-=1;o.pathname=T.join("/")}p=x>=0?e[x]:"/"}let g=C8(o,p),y=d&&d!=="/"&&d.endsWith("/"),w=(c||d===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(y||w)&&(g.pathname+="/"),g}var Ci=n=>n.join("/").replace(/\/\/+/g,"/"),I8=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),k8=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,j8=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function D8(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var JE=["POST","PUT","PATCH","DELETE"];new Set(JE);var O8=["GET",...JE];new Set(O8);var fl=j.createContext(null);fl.displayName="DataRouter";var _f=j.createContext(null);_f.displayName="DataRouterState";j.createContext(!1);var eT=j.createContext({isTransitioning:!1});eT.displayName="ViewTransition";var P8=j.createContext(new Map);P8.displayName="Fetchers";var M8=j.createContext(null);M8.displayName="Await";var Qr=j.createContext(null);Qr.displayName="Navigation";var gu=j.createContext(null);gu.displayName="Location";var Xr=j.createContext({outlet:null,matches:[],isDataRoute:!1});Xr.displayName="Route";var Q0=j.createContext(null);Q0.displayName="RouteError";function V8(n,{relative:e}={}){yt(yu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=j.useContext(Qr),{hash:o,pathname:c,search:d}=vu(n,{relative:e}),p=c;return t!=="/"&&(p=c==="/"?t:Ci([t,c])),s.createHref({pathname:p,search:d,hash:o})}function yu(){return j.useContext(gu)!=null}function Us(){return yt(yu(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(gu).location}var tT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nT(n){j.useContext(Qr).static||j.useLayoutEffect(n)}function qn(){let{isDataRoute:n}=j.useContext(Xr);return n?X8():L8()}function L8(){yt(yu(),"useNavigate() may be used only in the context of a <Router> component.");let n=j.useContext(fl),{basename:e,navigator:t}=j.useContext(Qr),{matches:s}=j.useContext(Xr),{pathname:o}=Us(),c=JSON.stringify(WE(s)),d=j.useRef(!1);return nT(()=>{d.current=!0}),j.useCallback((g,y={})=>{if(xr(d.current,tT),!d.current)return;if(typeof g=="number"){t.go(g);return}let w=ZE(g,JSON.parse(c),o,y.relative==="path");n==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:Ci([e,w.pathname])),(y.replace?t.replace:t.push)(w,y.state,y)},[e,t,c,o,n])}j.createContext(null);function X0(){let{matches:n}=j.useContext(Xr),e=n[n.length-1];return e?e.params:{}}function vu(n,{relative:e}={}){let{matches:t}=j.useContext(Xr),{pathname:s}=Us(),o=JSON.stringify(WE(t));return j.useMemo(()=>ZE(n,JSON.parse(o),s,e==="path"),[n,o,s,e])}function U8(n,e){return rT(n,e)}function rT(n,e,t,s,o){yt(yu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=j.useContext(Qr),{matches:d}=j.useContext(Xr),p=d[d.length-1],g=p?p.params:{},y=p?p.pathname:"/",w=p?p.pathnameBase:"/",x=p&&p.route;{let K=x&&x.path||"";iT(y,!x||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let T=Us(),N;if(e){let K=typeof e=="string"?hl(e):e;yt(w==="/"||K.pathname?.startsWith(w),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${K.pathname}" was given in the \`location\` prop.`),N=K}else N=T;let V=N.pathname||"/",G=V;if(w!=="/"){let K=w.replace(/^\//,"").split("/");G="/"+V.replace(/^\//,"").split("/").slice(K.length).join("/")}let B=KE(n,{pathname:G});xr(x||B!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),xr(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let J=F8(B&&B.map(K=>Object.assign({},K,{params:Object.assign({},g,K.params),pathname:Ci([w,c.encodeLocation?c.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?w:Ci([w,c.encodeLocation?c.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),d,t,s,o);return e&&J?j.createElement(gu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},J):J}function B8(){let n=Q8(),e=D8(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",n),d=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:c},"ErrorBoundary")," or"," ",j.createElement("code",{style:c},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),t?j.createElement("pre",{style:o},t):null,d)}var z8=j.createElement(B8,null),H8=class extends j.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?j.createElement(Xr.Provider,{value:this.props.routeContext},j.createElement(Q0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function q8({routeContext:n,match:e,children:t}){let s=j.useContext(fl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(Xr.Provider,{value:n},t)}function F8(n,e=[],t=null,s=null,o=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let c=n,d=t?.errors;if(d!=null){let y=c.findIndex(w=>w.route.id&&d?.[w.route.id]!==void 0);yt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,y+1))}let p=!1,g=-1;if(t)for(let y=0;y<c.length;y++){let w=c[y];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(g=y),w.route.id){let{loaderData:x,errors:T}=t,N=w.route.loader&&!x.hasOwnProperty(w.route.id)&&(!T||T[w.route.id]===void 0);if(w.route.lazy||N){p=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}return c.reduceRight((y,w,x)=>{let T,N=!1,V=null,G=null;t&&(T=d&&w.route.id?d[w.route.id]:void 0,V=w.route.errorElement||z8,p&&(g<0&&x===0?(iT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,G=null):g===x&&(N=!0,G=w.route.hydrateFallbackElement||null)));let B=e.concat(c.slice(0,x+1)),J=()=>{let K;return T?K=V:N?K=G:w.route.Component?K=j.createElement(w.route.Component,null):w.route.element?K=w.route.element:K=y,j.createElement(q8,{match:w,routeContext:{outlet:y,matches:B,isDataRoute:t!=null},children:K})};return t&&(w.route.ErrorBoundary||w.route.errorElement||x===0)?j.createElement(H8,{location:t.location,revalidation:t.revalidation,component:V,error:T,children:J(),routeContext:{outlet:null,matches:B,isDataRoute:!0},unstable_onError:s}):J()},null)}function W0(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function G8(n){let e=j.useContext(fl);return yt(e,W0(n)),e}function $8(n){let e=j.useContext(_f);return yt(e,W0(n)),e}function Y8(n){let e=j.useContext(Xr);return yt(e,W0(n)),e}function Z0(n){let e=Y8(n),t=e.matches[e.matches.length-1];return yt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function K8(){return Z0("useRouteId")}function Q8(){let n=j.useContext(Q0),e=$8("useRouteError"),t=Z0("useRouteError");return n!==void 0?n:e.errors?.[t]}function X8(){let{router:n}=G8("useNavigate"),e=Z0("useNavigate"),t=j.useRef(!1);return nT(()=>{t.current=!0}),j.useCallback(async(o,c={})=>{xr(t.current,tT),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...c}))},[n,e])}var gb={};function iT(n,e,t){!e&&!gb[n]&&(gb[n]=!0,xr(!1,t))}j.memo(W8);function W8({routes:n,future:e,state:t,unstable_onError:s}){return rT(n,void 0,t,s,e)}function qe(n){yt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Z8({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:c=!1}){yt(!yu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=n.replace(/^\/*/,"/"),p=j.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof t=="string"&&(t=hl(t));let{pathname:g="/",search:y="",hash:w="",state:x=null,key:T="default"}=t,N=j.useMemo(()=>{let V=Oi(g,d);return V==null?null:{location:{pathname:V,search:y,hash:w,state:x,key:T},navigationType:s}},[d,g,y,w,x,T,s]);return xr(N!=null,`<Router basename="${d}"> is not able to match the URL "${g}${y}${w}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:j.createElement(Qr.Provider,{value:p},j.createElement(gu.Provider,{children:e,value:N}))}function J8({children:n,location:e}){return U8(xg(n),e)}function xg(n,e=[]){let t=[];return j.Children.forEach(n,(s,o)=>{if(!j.isValidElement(s))return;let c=[...e,o];if(s.type===j.Fragment){t.push.apply(t,xg(s.props.children,c));return}yt(s.type===qe,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),yt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=xg(s.props.children,c)),t.push(d)}),t}var rh="get",ih="application/x-www-form-urlencoded";function xf(n){return n!=null&&typeof n.tagName=="string"}function ek(n){return xf(n)&&n.tagName.toLowerCase()==="button"}function tk(n){return xf(n)&&n.tagName.toLowerCase()==="form"}function nk(n){return xf(n)&&n.tagName.toLowerCase()==="input"}function rk(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function ik(n,e){return n.button===0&&(!e||e==="_self")&&!rk(n)}function Eg(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let s=n[t];return e.concat(Array.isArray(s)?s.map(o=>[t,o]):[[t,s]])},[]))}function sk(n,e){let t=Eg(n);return e&&e.forEach((s,o)=>{t.has(o)||e.getAll(o).forEach(c=>{t.append(o,c)})}),t}var $d=null;function ak(){if($d===null)try{new FormData(document.createElement("form"),0),$d=!1}catch{$d=!0}return $d}var ok=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fp(n){return n!=null&&!ok.has(n)?(xr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ih}"`),null):n}function lk(n,e){let t,s,o,c,d;if(tk(n)){let p=n.getAttribute("action");s=p?Oi(p,e):null,t=n.getAttribute("method")||rh,o=Fp(n.getAttribute("enctype"))||ih,c=new FormData(n)}else if(ek(n)||nk(n)&&(n.type==="submit"||n.type==="image")){let p=n.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=n.getAttribute("formaction")||p.getAttribute("action");if(s=g?Oi(g,e):null,t=n.getAttribute("formmethod")||p.getAttribute("method")||rh,o=Fp(n.getAttribute("formenctype"))||Fp(p.getAttribute("enctype"))||ih,c=new FormData(p,n),!ak()){let{name:y,type:w,value:x}=n;if(w==="image"){let T=y?`${y}.`:"";c.append(`${T}x`,"0"),c.append(`${T}y`,"0")}else y&&c.append(y,x)}}else{if(xf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=rh,s=null,o=ih,d=n}return c&&o==="text/plain"&&(d=c,c=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function J0(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ck(n,e,t){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&Oi(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function uk(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dk(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function hk(n,e,t){let s=await Promise.all(n.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await uk(c,t);return d.links?d.links():[]}return[]}));return gk(s.flat(1).filter(dk).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function yb(n,e,t,s,o,c){let d=(g,y)=>t[y]?g.route.id!==t[y].route.id:!0,p=(g,y)=>t[y].pathname!==g.pathname||t[y].route.path?.endsWith("*")&&t[y].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,y)=>d(g,y)||p(g,y)):c==="data"?e.filter((g,y)=>{let w=s.routes[g.route.id];if(!w||!w.hasLoader)return!1;if(d(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let x=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function fk(n,e,{includeHydrateFallback:t}={}){return mk(n.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function mk(n){return[...new Set(n)]}function pk(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function gk(n,e){let t=new Set;return new Set(e),n.reduce((s,o)=>{let c=JSON.stringify(pk(o));return t.has(c)||(t.add(c),s.push({key:c,link:o})),s},[])}function sT(){let n=j.useContext(fl);return J0(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function yk(){let n=j.useContext(_f);return J0(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var ey=j.createContext(void 0);ey.displayName="FrameworkContext";function aT(){let n=j.useContext(ey);return J0(n,"You must render this element inside a <HydratedRouter> element"),n}function vk(n,e){let t=j.useContext(ey),[s,o]=j.useState(!1),[c,d]=j.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:w,onTouchStart:x}=e,T=j.useRef(null);j.useEffect(()=>{if(n==="render"&&d(!0),n==="viewport"){let G=J=>{J.forEach(K=>{d(K.isIntersecting)})},B=new IntersectionObserver(G,{threshold:.5});return T.current&&B.observe(T.current),()=>{B.disconnect()}}},[n]),j.useEffect(()=>{if(s){let G=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(G)}}},[s]);let N=()=>{o(!0)},V=()=>{o(!1),d(!1)};return t?n!=="intent"?[c,T,{}]:[c,T,{onFocus:xc(p,N),onBlur:xc(g,V),onMouseEnter:xc(y,N),onMouseLeave:xc(w,V),onTouchStart:xc(x,N)}]:[!1,T,{}]}function xc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function wk({page:n,...e}){let{router:t}=sT(),s=j.useMemo(()=>KE(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?j.createElement(_k,{page:n,matches:s,...e}):null}function bk(n){let{manifest:e,routeModules:t}=aT(),[s,o]=j.useState([]);return j.useEffect(()=>{let c=!1;return hk(n,e,t).then(d=>{c||o(d)}),()=>{c=!0}},[n,e,t]),s}function _k({page:n,matches:e,...t}){let s=Us(),{manifest:o,routeModules:c}=aT(),{basename:d}=sT(),{loaderData:p,matches:g}=yk(),y=j.useMemo(()=>yb(n,e,g,o,s,"data"),[n,e,g,o,s]),w=j.useMemo(()=>yb(n,e,g,o,s,"assets"),[n,e,g,o,s]),x=j.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let V=new Set,G=!1;if(e.forEach(J=>{let K=o.routes[J.route.id];!K||!K.hasLoader||(!y.some(X=>X.route.id===J.route.id)&&J.route.id in p&&c[J.route.id]?.shouldRevalidate||K.hasClientLoader?G=!0:V.add(J.route.id))}),V.size===0)return[];let B=ck(n,d,"data");return G&&V.size>0&&B.searchParams.set("_routes",e.filter(J=>V.has(J.route.id)).map(J=>J.route.id).join(",")),[B.pathname+B.search]},[d,p,s,o,y,e,n,c]),T=j.useMemo(()=>fk(w,o),[w,o]),N=bk(w);return j.createElement(j.Fragment,null,x.map(V=>j.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...t})),T.map(V=>j.createElement("link",{key:V,rel:"modulepreload",href:V,...t})),N.map(({key:V,link:G})=>j.createElement("link",{key:V,nonce:t.nonce,...G})))}function xk(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var oT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{oT&&(window.__reactRouterVersion="7.8.2")}catch{}function Ek({basename:n,children:e,window:t}){let s=j.useRef();s.current==null&&(s.current=u8({window:t,v5Compat:!0}));let o=s.current,[c,d]=j.useState({action:o.action,location:o.location}),p=j.useCallback(g=>{j.startTransition(()=>d(g))},[d]);return j.useLayoutEffect(()=>o.listen(p),[o,p]),j.createElement(Z8,{basename:n,children:e,location:c.location,navigationType:c.action,navigator:o})}var lT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ve=j.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:c,replace:d,state:p,target:g,to:y,preventScrollReset:w,viewTransition:x,...T},N){let{basename:V}=j.useContext(Qr),G=typeof y=="string"&&lT.test(y),B,J=!1;if(typeof y=="string"&&G&&(B=y,oT))try{let C=new URL(window.location.href),M=y.startsWith("//")?new URL(C.protocol+y):new URL(y),D=Oi(M.pathname,V);M.origin===C.origin&&D!=null?y=D+M.search+M.hash:J=!0}catch{xr(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=V8(y,{relative:o}),[X,pe,oe]=vk(s,T),ie=Ck(y,{replace:d,state:p,target:g,preventScrollReset:w,relative:o,viewTransition:x});function I(C){e&&e(C),C.defaultPrevented||ie(C)}let A=j.createElement("a",{...T,...oe,href:B||K,onClick:J||c?e:I,ref:xk(N,pe),target:g,"data-discover":!G&&t==="render"?"true":void 0});return X&&!G?j.createElement(j.Fragment,null,A,j.createElement(wk,{page:K})):A});ve.displayName="Link";var Tk=j.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:c,to:d,viewTransition:p,children:g,...y},w){let x=vu(d,{relative:y.relative}),T=Us(),N=j.useContext(_f),{navigator:V,basename:G}=j.useContext(Qr),B=N!=null&&Dk(x)&&p===!0,J=V.encodeLocation?V.encodeLocation(x).pathname:x.pathname,K=T.pathname,X=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;t||(K=K.toLowerCase(),X=X?X.toLowerCase():null,J=J.toLowerCase()),X&&G&&(X=Oi(X,G)||X);const pe=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let oe=K===J||!o&&K.startsWith(J)&&K.charAt(pe)==="/",ie=X!=null&&(X===J||!o&&X.startsWith(J)&&X.charAt(J.length)==="/"),I={isActive:oe,isPending:ie,isTransitioning:B},A=oe?e:void 0,C;typeof s=="function"?C=s(I):C=[s,oe?"active":null,ie?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let M=typeof c=="function"?c(I):c;return j.createElement(ve,{...y,"aria-current":A,className:C,ref:w,style:M,to:d,viewTransition:p},typeof g=="function"?g(I):g)});Tk.displayName="NavLink";var Sk=j.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:c,method:d=rh,action:p,onSubmit:g,relative:y,preventScrollReset:w,viewTransition:x,...T},N)=>{let V=kk(),G=jk(p,{relative:y}),B=d.toLowerCase()==="get"?"get":"post",J=typeof p=="string"&&lT.test(p),K=X=>{if(g&&g(X),X.defaultPrevented)return;X.preventDefault();let pe=X.nativeEvent.submitter,oe=pe?.getAttribute("formmethod")||d;V(pe||X.currentTarget,{fetcherKey:e,method:oe,navigate:t,replace:o,state:c,relative:y,preventScrollReset:w,viewTransition:x})};return j.createElement("form",{ref:N,method:B,action:G,onSubmit:s?g:K,...T,"data-discover":!J&&n==="render"?"true":void 0})});Sk.displayName="Form";function Ak(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cT(n){let e=j.useContext(fl);return yt(e,Ak(n)),e}function Ck(n,{target:e,replace:t,state:s,preventScrollReset:o,relative:c,viewTransition:d}={}){let p=qn(),g=Us(),y=vu(n,{relative:c});return j.useCallback(w=>{if(ik(w,e)){w.preventDefault();let x=t!==void 0?t:Qc(g)===Qc(y);p(n,{replace:x,state:s,preventScrollReset:o,relative:c,viewTransition:d})}},[g,p,y,t,s,e,n,o,c,d])}function Nk(n){xr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=j.useRef(Eg(n)),t=j.useRef(!1),s=Us(),o=j.useMemo(()=>sk(s.search,t.current?null:e.current),[s.search]),c=qn(),d=j.useCallback((p,g)=>{const y=Eg(typeof p=="function"?p(new URLSearchParams(o)):p);t.current=!0,c("?"+y,g)},[c,o]);return[o,d]}var Rk=0,Ik=()=>`__${String(++Rk)}__`;function kk(){let{router:n}=cT("useSubmit"),{basename:e}=j.useContext(Qr),t=K8();return j.useCallback(async(s,o={})=>{let{action:c,method:d,encType:p,formData:g,body:y}=lk(s,e);if(o.navigate===!1){let w=o.fetcherKey||Ik();await n.fetch(w,t,o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||d,formEncType:o.encType||p,flushSync:o.flushSync})}else await n.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||d,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function jk(n,{relative:e}={}){let{basename:t}=j.useContext(Qr),s=j.useContext(Xr);yt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...vu(n||".",{relative:e})},d=Us();if(n==null){c.search=d.search;let p=new URLSearchParams(c.search),g=p.getAll("index");if(g.some(w=>w==="")){p.delete("index"),g.filter(x=>x).forEach(x=>p.append("index",x));let w=p.toString();c.search=w?`?${w}`:""}}return(!n||n===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(c.pathname=c.pathname==="/"?t:Ci([t,c.pathname])),Qc(c)}function Dk(n,{relative:e}={}){let t=j.useContext(eT);yt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=cT("useViewTransitionState"),o=vu(n,{relative:e});if(!t.isTransitioning)return!1;let c=Oi(t.currentLocation.pathname,s)||t.currentLocation.pathname,d=Oi(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Ph(o.pathname,d)!=null||Ph(o.pathname,c)!=null}var uT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},vb=Aa.createContext&&Aa.createContext(uT),Ok=["attr","size","title"];function Pk(n,e){if(n==null)return{};var t=Mk(n,e),s,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(n);for(o=0;o<c.length;o++)s=c[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(n,s)&&(t[s]=n[s])}return t}function Mk(n,e){if(n==null)return{};var t={};for(var s in n)if(Object.prototype.hasOwnProperty.call(n,s)){if(e.indexOf(s)>=0)continue;t[s]=n[s]}return t}function Mh(){return Mh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},Mh.apply(this,arguments)}function wb(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,s)}return t}function Vh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?wb(Object(t),!0).forEach(function(s){Vk(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):wb(Object(t)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}function Vk(n,e,t){return e=Lk(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Lk(n){var e=Uk(n,"string");return typeof e=="symbol"?e:e+""}function Uk(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var s=t.call(n,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function dT(n){return n&&n.map((e,t)=>Aa.createElement(e.tag,Vh({key:t},e.attr),dT(e.child)))}function Be(n){return e=>Aa.createElement(Bk,Mh({attr:Vh({},n.attr)},e),dT(n.child))}function Bk(n){var e=t=>{var{attr:s,size:o,title:c}=n,d=Pk(n,Ok),p=o||t.size||"1em",g;return t.className&&(g=t.className),n.className&&(g=(g?g+" ":"")+n.className),Aa.createElement("svg",Mh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,d,{className:g,style:Vh(Vh({color:n.color||t.color},t.style),n.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),c&&Aa.createElement("title",null,c),n.children)};return vb!==void 0?Aa.createElement(vb.Consumer,null,t=>e(t)):e(uT)}function ty(n){return Be({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(n)}function hT(n){return Be({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(n)}function fT(n){return Be({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(n)}function zk(n){return Be({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(n)}function Hk(n){return Be({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(n)}function qk(n){return Be({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(n)}function rr(n){return Be({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"},child:[]}]})(n)}function Fk(n){return Be({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"},child:[]}]})(n)}function Gk(n){return Be({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(n)}function $k(n){return Be({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(n)}function Yk(n){return Be({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(n)}function wu(n){return Be({attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M209.2 233.4l-108-31.6C88.7 198.2 80 186.5 80 173.5c0-16.3 13.2-29.5 29.5-29.5h66.3c12.2 0 24.2 3.7 34.2 10.5 6.1 4.1 14.3 3.1 19.5-2l34.8-34c7.1-6.9 6.1-18.4-1.8-24.5C238 74.8 207.4 64.1 176 64V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48h-2.5C45.8 64-5.4 118.7.5 183.6c4.2 46.1 39.4 83.6 83.8 96.6l102.5 30c12.5 3.7 21.2 15.3 21.2 28.3 0 16.3-13.2 29.5-29.5 29.5h-66.3C100 368 88 364.3 78 357.5c-6.1-4.1-14.3-3.1-19.5 2l-34.8 34c-7.1 6.9-6.1 18.4 1.8 24.5 24.5 19.2 55.1 29.9 86.5 30v48c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-48.2c46.6-.9 90.3-28.6 105.7-72.7 21.5-61.6-14.6-124.8-72.5-141.7z"},child:[]}]})(n)}function Kk(n){return Be({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(n)}function Gp(n){return Be({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(n)}function Tg(n){return Be({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(n)}function Lh(n){return Be({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(n)}function Qk(n){return Be({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(n)}function sh(n){return Be({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(n)}function bb(n){return Be({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(n)}function ny(n){return Be({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(n)}function Xk(n){return Be({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(n)}function Wk(n){return Be({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(n)}function Zk(n){return Be({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41z"},child:[]}]})(n)}function Jk(n){return Be({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279 224H41c-21.4 0-32.1-25.9-17-41L143 64c9.4-9.4 24.6-9.4 33.9 0l119 119c15.2 15.1 4.5 41-16.9 41z"},child:[]}]})(n)}function ej(n){return Be({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41zm255-105L177 64c-9.4-9.4-24.6-9.4-33.9 0L24 183c-15.1 15.1-4.4 41 17 41h238c21.4 0 32.1-25.9 17-41z"},child:[]}]})(n)}function mT(n){return Be({attr:{viewBox:"0 0 536 512"},child:[{tag:"path",attr:{d:"M508.55 171.51L362.18 150.2 296.77 17.81C290.89 5.98 279.42 0 267.95 0c-11.4 0-22.79 5.9-28.69 17.81l-65.43 132.38-146.38 21.29c-26.25 3.8-36.77 36.09-17.74 54.59l105.89 103-25.06 145.48C86.98 495.33 103.57 512 122.15 512c4.93 0 10-1.17 14.87-3.75l130.95-68.68 130.94 68.7c4.86 2.55 9.92 3.71 14.83 3.71 18.6 0 35.22-16.61 31.66-37.4l-25.03-145.49 105.91-102.98c19.04-18.5 8.52-50.8-17.73-54.6zm-121.74 123.2l-18.12 17.62 4.28 24.88 19.52 113.45-102.13-53.59-22.38-11.74.03-317.19 51.03 103.29 11.18 22.63 25.01 3.64 114.23 16.63-82.65 80.38z"},child:[]}]})(n)}function tj(n){return Be({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"},child:[]}]})(n)}function pT(n){return Be({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"},child:[]}]})(n)}function gT(n){return Be({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(n)}function nj(n){return Be({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(n)}function rj(n){return Be({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304.083 405.907c4.686 4.686 4.686 12.284 0 16.971l-44.674 44.674c-59.263 59.262-155.693 59.266-214.961 0-59.264-59.265-59.264-155.696 0-214.96l44.675-44.675c4.686-4.686 12.284-4.686 16.971 0l39.598 39.598c4.686 4.686 4.686 12.284 0 16.971l-44.675 44.674c-28.072 28.073-28.072 73.75 0 101.823 28.072 28.072 73.75 28.073 101.824 0l44.674-44.674c4.686-4.686 12.284-4.686 16.971 0l39.597 39.598zm-56.568-260.216c4.686 4.686 12.284 4.686 16.971 0l44.674-44.674c28.072-28.075 73.75-28.073 101.824 0 28.072 28.073 28.072 73.75 0 101.823l-44.675 44.674c-4.686 4.686-4.686 12.284 0 16.971l39.598 39.598c4.686 4.686 12.284 4.686 16.971 0l44.675-44.675c59.265-59.265 59.265-155.695 0-214.96-59.266-59.264-155.695-59.264-214.961 0l-44.674 44.674c-4.686 4.686-4.686 12.284 0 16.971l39.597 39.598zm234.828 359.28l22.627-22.627c9.373-9.373 9.373-24.569 0-33.941L63.598 7.029c-9.373-9.373-24.569-9.373-33.941 0L7.029 29.657c-9.373 9.373-9.373 24.569 0 33.941l441.373 441.373c9.373 9.372 24.569 9.372 33.941 0z"},child:[]}]})(n)}function yT(n){return Be({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(n)}function ij(n){return Be({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(n)}function Uh(n){return Be({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(n)}function Sg(n){return Be({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(n)}const sj=async()=>{try{const{value:n}=await ae.fire({title:"Ingresa tu correo de Google",input:"email",inputLabel:"Correo electrnico",inputPlaceholder:"ejemplo@gmail.com",showCancelButton:!0,confirmButtonText:"Continuar",cancelButtonText:"Cancelar",inputValidator:s=>{if(!s)return"Debes ingresar un correo!";if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s))return"Ingresa un correo vlido"}});if(!n)return{cancelled:!0};const e=await qg(ht,n);if(e.includes("google.com"))return await Ag("google");const t=e.filter(s=>s!=="google.com");return t.length>0?await aj(n,t):await Ag("google")}catch(n){throw console.error("Error verificando email:",n),n}},aj=async(n,e)=>{let t="",s=null;if(e.includes("github.com"))t="GitHub",s=lu;else if(e.includes("facebook.com"))t="Facebook",s=cu;else if(e.includes("password"))return await ae.fire({icon:"warning",title:"Cuenta Existente",html:`
        <p>Ya tienes una cuenta con <strong>${n}</strong> usando correo y contrasea.</p>
        <p>Para vincular Google, primero inicia sesin con tu contrasea y luego ve a tu perfil para vincular cuentas.</p>
      `,confirmButtonText:"Entendido"}),{success:!1,requiresPassword:!0};return(await ae.fire({icon:"info",title:" Cuenta Existente",html:`
      <p>Ya tienes una cuenta con <strong>${n}</strong> usando <strong>${t}</strong>.</p>
      <p>Deseas vincular Google para poder iniciar sesin con ambos mtodos?</p>
    `,showCancelButton:!0,confirmButtonText:"S, vincular",cancelButtonText:"Cancelar",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33"})).isConfirmed?await oj(s,t):{success:!1,cancelled:!0}},oj=async(n,e)=>{try{ae.fire({title:"Vinculando cuentas...",html:`Iniciando sesin con ${e}...`,allowOutsideClick:!1,didOpen:()=>{ae.showLoading()}});const t=await Gh(ht,n);return ae.update({html:"Ahora selecciona tu cuenta de Google para vincularla..."}),await w_(t.user,ou),ae.close(),{success:!0,user:t.user,linked:!0,providerLinked:"Google"}}catch(t){if(console.error("Error vinculando:",t),ae.close(),t.code==="auth/credential-already-in-use")return await ae.fire({icon:"info",title:"Cuenta Ya Vinculada",text:"Esta cuenta de Google ya est vinculada."}),{success:!0,user:ht.currentUser};if(t.code==="auth/provider-already-linked")return await ae.fire({icon:"info",title:"Ya Vinculado",text:"Google ya est vinculado a tu cuenta."}),{success:!0,user:ht.currentUser};if(t.code==="auth/popup-closed-by-user")return{success:!1,cancelled:!0};throw await ae.fire({icon:"error",title:"Error al Vincular",text:"No se pudo vincular la cuenta de Google. Intenta de nuevo."}),t}},Ag=async n=>{let e;switch(n){case"google":e=ou;break;case"facebook":e=cu;break;case"github":e=lu;break;default:throw new Error("Proveedor no soportado")}try{const t=await Gh(ht,e);return console.log("Login exitoso:",t.user),{success:!0,user:t.user,linked:!1}}catch(t){if(console.error("Error en login:",t.code),t.code==="auth/account-exists-with-different-credential")return await lj(t,n);throw t}},lj=async(n,e)=>{try{const t=n.customData.email,s=kc.credentialFromError(n);console.log("Detectada cuenta existente con:",t);const o=await qg(ht,t);console.log("Mtodos existentes:",o);let c,d;if(o.includes("google.com"))c=ou,d="Google";else if(o.includes("facebook.com"))c=cu,d="Facebook";else if(o.includes("github.com"))c=lu,d="GitHub";else if(o.includes("password"))return await ae.fire({icon:"info",title:"Cuenta Existente",text:`Ya tienes una cuenta con ${t} usando correo y contrasea. Por favor inicia sesin con tu contrasea primero y luego vincula desde tu perfil.`,confirmButtonText:"Entendido"}),{success:!1,requiresPassword:!0,email:t};if(!(await ae.fire({icon:"info",title:" Vincular Cuentas",html:`
        <p>Ya tienes una cuenta con <strong>${t}</strong> usando <strong>${d}</strong>.</p>
        <p>Deseas vincular tu cuenta de <strong>${_b(e)}</strong>?</p>
      `,showCancelButton:!0,confirmButtonText:"S, vincular",cancelButtonText:"Cancelar",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33"})).isConfirmed)return{success:!1,cancelled:!0};ae.fire({title:"Vinculando cuentas...",text:"Por favor espera",allowOutsideClick:!1,didOpen:()=>{ae.showLoading()}}),console.log("Iniciando sesin con",d);const g=await Gh(ht,c);console.log("Login exitoso, vinculando credencial...");const y=await c_(g.user,s);return console.log(" Cuentas vinculadas exitosamente"),ae.close(),{success:!0,user:y,linked:!0,providerLinked:_b(e)}}catch(t){throw console.error("Error vinculando cuentas:",t),ae.close(),t}},_b=n=>({google:"Google",facebook:"Facebook",github:"GitHub"})[n]||n,Mc="user_sessions",cj=async n=>{try{const e=n.providerData.map(o=>o.providerId),t={userId:n.uid,userEmail:n.email,userName:n.displayName||n.email.split("@")[0],providers:e,loginTime:new Date,logoutTime:null,duration:null,status:"active"},s=await D0(Si(Ht,Mc),t);return localStorage.setItem("currentSessionId",s.id),s.id}catch(e){return console.error("Error registrando inicio de sesin:",e),null}},Cg=async()=>{try{const n=localStorage.getItem("currentSessionId");if(!n){console.log("No hay sesin activa para cerrar");return}const e=_r(Ht,Mc,n),t=new Date,s=await mf(e);if(s.exists()){const c=s.data().loginTime.toDate(),d=Math.round((t-c)/1e3);await j0(e,{logoutTime:t,duration:d,status:"inactive"}),localStorage.removeItem("currentSessionId")}}catch(n){console.error("Error registrando cierre de sesin:",n)}},uj=async(n={})=>{try{let e;if(n.userEmail&&!n.startDate&&!n.endDate)e=zo(Si(Ht,Mc),Ho("loginTime","desc"));else if(n.startDate&&!n.userEmail){const o=new Date(n.startDate);e=zo(Si(Ht,Mc),Kx("loginTime",">=",o),Ho("loginTime","desc"))}else e=zo(Si(Ht,Mc),Ho("loginTime","desc"));const t=await k0(e);let s=[];if(t.forEach(o=>{const c=o.data();s.push({id:o.id,...c,providers:c.providers||[]})}),n.userEmail&&n.userEmail.trim()!==""){const o=n.userEmail.toLowerCase();s=s.filter(c=>c.userEmail&&c.userEmail.toLowerCase().includes(o))}if(n.endDate&&!n.userEmail){const o=new Date(n.endDate);o.setHours(23,59,59,999),s=s.filter(c=>(c.loginTime?.seconds?new Date(c.loginTime.seconds*1e3):new Date(c.loginTime))<=o)}if(n.userEmail&&(n.startDate||n.endDate)){let o=s;if(n.startDate){const c=new Date(n.startDate);o=o.filter(d=>(d.loginTime?.seconds?new Date(d.loginTime.seconds*1e3):new Date(d.loginTime))>=c)}if(n.endDate){const c=new Date(n.endDate);c.setHours(23,59,59,999),o=o.filter(d=>(d.loginTime?.seconds?new Date(d.loginTime.seconds*1e3):new Date(d.loginTime))<=c)}s=o}return console.log(`Se encontraron ${s.length} sesiones`),s}catch(e){return console.error("Error obteniendo sesiones:",e),[]}},dj=()=>{j.useEffect(()=>{let n=!1;const e=ht.onAuthStateChanged(async s=>{s&&!n?(await cj(s),n=!0):!s&&n&&(await Cg(),n=!1)}),t=async()=>{ht.currentUser&&await Cg()};return window.addEventListener("beforeunload",t),()=>{e(),window.removeEventListener("beforeunload",t)}},[])};function hj(){const n=qn(),[e,t]=j.useState(!1),[s,o]=j.useState({email:"",password:""});dj();const c=async(x,T)=>{try{const N=await Ag(x);N.success?(N.linked?await ae.fire({icon:"success",title:"Cuentas Vinculadas!",text:`Tu cuenta de ${N.providerLinked} ha sido vinculada exitosamente. Ahora puedes iniciar sesin con mltiples mtodos.`,confirmButtonText:"Continuar"}):await ae.fire({icon:"success",title:"xito!",text:`Sesin iniciada con ${T} correctamente`,timer:1500,showConfirmButton:!1}),n("/")):N.requiresPassword||N.cancelled&&await ae.fire({icon:"info",title:"Vinculacin Cancelada",text:"No se vincularon las cuentas",timer:2e3,showConfirmButton:!1})}catch(N){if(console.error(`Error de autenticacin con ${T}:`,N),N.code==="auth/popup-closed-by-user"||N.code==="auth/cancelled-popup-request")return;N.code==="auth/popup-blocked"?ae.fire("Error","El navegador bloque la ventana emergente. Por favor habilita las ventanas emergentes para este sitio.","error"):ae.fire("Error",`Ocurri un error al iniciar sesin con ${T}`,"error")}},d=async()=>{try{const x=await sj();x.success?(x.linked?await ae.fire({icon:"success",title:"Cuentas Vinculadas!",text:"Tu cuenta de Google ha sido vinculada exitosamente. Ahora puedes iniciar sesin con mltiples mtodos.",confirmButtonText:"Continuar"}):await ae.fire({icon:"success",title:"xito!",text:"Sesin iniciada con Google correctamente",timer:1500,showConfirmButton:!1}),n("/")):x.requiresPassword||x.cancelled}catch(x){if(console.error("Error con Google:",x),x.code==="auth/popup-closed-by-user"||x.code==="auth/cancelled-popup-request")return;x.code==="auth/popup-blocked"?ae.fire("Error","El navegador bloque la ventana emergente. Por favor habilita las ventanas emergentes para este sitio.","error"):ae.fire("Error","Ocurri un error al iniciar sesin con Google","error")}},p=()=>c("github","GitHub"),g=()=>c("facebook","Facebook"),y=x=>{o({...s,[x.target.name]:x.target.value})},w=async x=>{x.preventDefault();const{email:T,password:N}=s;if(!T||!N)return ae.fire("Error","Todos los campos son obligatorios","error");if(N.length<6)return ae.fire("Error","La contrasea debe tener al menos 6 caracteres","error");try{const V=T.toLowerCase(),B=(await KA(ht,V,N)).user;ae.fire("xito!","Sesin iniciada correctamente","success"),n("/")}catch(V){console.error("Error de autenticacin: ",V),V.code==="auth/invalid-email"?ae.fire("Error","El correo electrnico no es vlido","error"):V.code==="auth/user-not-found"?ae.fire("Error","No existe un usuario con este correo","error"):V.code==="auth/wrong-password"?ae.fire("Error","Contrasea incorrecta","error"):V.code==="auth/too-many-requests"?ae.fire("Error","Demasiados intentos fallidos. Intenta ms tarde","error"):ae.fire("Error","Ocurri un error al iniciar sesin, Revise las Credenciales Ingresadas","error")}};return f.jsx("section",{className:"flex items-center justify-center min-h-screen bg-[#f0f0f0]",children:f.jsxs("div",{className:"w-full max-w-md bg-white/10 backdrop-blur-lg rounded-3xl shadow-2xl p-8 border border-white/20",children:[f.jsx("div",{className:"flex justify-center mb-6",children:f.jsx("img",{src:"/logo.png",alt:"logo",className:"w-40 h-40 rounded-2xl"})}),f.jsx("h2",{className:"text-3xl font-extrabold text-center text-black mb-6",children:"INGRESAR"}),f.jsxs("form",{className:"space-y-5",onSubmit:w,children:[f.jsxs("label",{className:"w-full input input-bordered rounded-2xl border-black flex items-center gap-2 bg-white/10 text-black placeholder-black",children:[f.jsx("svg",{className:"h-5 opacity-70",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:f.jsxs("g",{strokeLinejoin:"round",strokeLinecap:"round",strokeWidth:"2.5",fill:"none",stroke:"currentColor",children:[f.jsx("rect",{width:"20",height:"16",x:"2",y:"4",rx:"2"}),f.jsx("path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"})]})}),f.jsx("input",{name:"email",type:"email",placeholder:"example@gmail.com",required:!0,className:"grow bg-transparent focus:outline-none",value:s.email,onChange:y})]}),f.jsxs("label",{className:"w-full input input-bordered rounded-2xl border-black flex items-center gap-2 bg-white/10 text-black placeholder-black-300",children:[f.jsx("svg",{className:"h-5 opacity-70",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:f.jsxs("g",{strokeLinejoin:"round",strokeLinecap:"round",strokeWidth:"2.5",fill:"none",stroke:"currentColor",children:[f.jsx("path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z"}),f.jsx("circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor"})]})}),f.jsx("input",{type:e?"text":"password",required:!0,name:"password",value:s.password,placeholder:"Password",minLength:"6",className:"grow bg-transparent focus:outline-none",onChange:y}),f.jsx("button",{type:"button",className:"p-2 text-gray-500 hover:text-gray-700 focus:outline-none transition-colors",onClick:()=>t(!e),children:e?f.jsx(Tg,{}):f.jsx(Lh,{})})]}),f.jsx("button",{type:"submit",className:"btn btn-dash btn-info w-full rounded-xl shadow-lg transition-all duration-500 hover:scale-105",children:"Ingresar"}),f.jsx("button",{type:"button",onClick:p,className:"btn w-full rounded-xl shadow-lg transition-all duration-500 hover:scale-105 bg-gray-900 text-white border-none hover:bg-gray-800",children:f.jsxs("div",{className:"flex items-center justify-center gap-2",children:[f.jsx("svg",{className:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),f.jsx("span",{children:"Ingresar con GitHub"})]})}),f.jsx("button",{type:"button",onClick:d,className:"btn w-full rounded-xl shadow-lg transition-all duration-500 hover:scale-105 bg-white text-gray-700 border-gray-300 hover:bg-gray-50",children:f.jsxs("div",{className:"flex items-center justify-center gap-2",children:[f.jsxs("svg",{className:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[f.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),f.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),f.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),f.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),f.jsx("span",{children:"Ingresar con Google"})]})}),f.jsx("button",{type:"button",onClick:g,className:"btn w-full rounded-xl shadow-lg transition-all duration-500 hover:scale-105 bg-blue-600 text-white border-none hover:bg-blue-700",children:f.jsxs("div",{className:"flex items-center justify-center gap-2",children:[f.jsx("svg",{className:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),f.jsx("span",{children:"Ingresar con Facebook"})]})})]}),f.jsxs("p",{className:"mt-6 text-sm text-center text-black",children:["No tienes cuenta?"," ",f.jsx("a",{href:"/register",className:"font-medium text-blue-400 hover:text-blue-300 hover:underline",children:"Regstrate"})]}),f.jsx("p",{className:"mt-6 text-sm text-center text-black",children:f.jsx("a",{href:"/confirm",className:"font-medium text-blue-400 hover:text-blue-300 hover:underline",children:"Olvidaste tu contrasea?"})})]})})}function fj(){const n=qn(),[e,t]=j.useState(!1),[s,o]=j.useState(!1),[c,d]=j.useState({username:"",email:"",password:"",confirmPassword:""}),p=x=>{d({...c,[x.target.name]:x.target.value})},g=async(x,T,N="password")=>{try{await tb(_r(Ht,"Users",x.uid),{uid:x.uid,username:T,email:x.email,state:"pendiente",rol:"visitante",createdAt:new Date,method:N})}catch(V){throw console.error("Error guardando en Firestore:",V),V}},y=async x=>{x.preventDefault();const{username:T,email:N,password:V,confirmPassword:G}=c;if(!T||!N||!V||!G)return ae.fire("Error","Todos los campos son obligatorios","error");if(V.length<6)return ae.fire("Error","La contrasea debe tener al menos 6 caracteres","error");if(V!==G)return ae.fire("Error","Las contraseas no coinciden","error");try{const B=N.toLowerCase(),K=(await YA(ht,B,V)).user;await g(K,T,"password"),ae.fire("xito!","Usuario creado correctamente","success"),n("/")}catch(B){console.error("Error de registro: ",B),B.code==="auth/email-already-in-use"?await w(N.toLowerCase(),V,T):B.code==="auth/invalid-email"?ae.fire("Error","El correo electrnico no es vlido","error"):ae.fire("Error","Ocurri un error durante el registro","error")}},w=async(x,T,N)=>{try{const V=await qg(ht,x);if(console.log("Mtodos existentes para",x,":",V),V.length===0){ae.fire({icon:"error",title:"Email en Uso",text:"Este correo ya est registrado. Intenta iniciar sesin.",confirmButtonText:"Ir a Login",showCancelButton:!0,cancelButtonText:"Cancelar"}).then(ie=>{ie.isConfirmed&&n("/login")});return}const G=V.map(ie=>ie==="google.com"?"Google":ie==="facebook.com"?"Facebook":ie==="github.com"?"GitHub":ie==="password"?"Correo y Contrasea":ie);if(V.includes("password")){ae.fire({icon:"error",title:"Email en Uso",text:"Ya existe una cuenta con correo y contrasea para este email.",confirmButtonText:"Ir a Login",showCancelButton:!0,cancelButtonText:"Cancelar"}).then(ie=>{ie.isConfirmed&&n("/login")});return}if(!(await ae.fire({icon:"question",title:" Vincular Cuenta",html:`
          <div style="text-align: left;">
            <p>Ya tienes una cuenta con <strong>${x}</strong> usando:</p>
            <ul style="padding-left: 20px; margin: 10px 0;">
              ${G.map(ie=>`<li><strong>${ie}</strong></li>`).join("")}
            </ul>
            <p>Deseas agregar <strong>Correo y Contrasea</strong> como mtodo adicional de inicio de sesin?</p>
            <br>
            <p style="font-size: 14px; color: #666;">
               Podrs iniciar sesin con cualquier mtodo<br>
               Mantendrs todos tus datos<br>
               Es completamente seguro
            </p>
          </div>
        `,showCancelButton:!0,confirmButtonText:"S, vincular",cancelButtonText:"No, cancelar",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",width:"550px"})).isConfirmed)return;ae.fire({title:"Vinculando cuenta...",html:"Por favor inicia sesin con tu mtodo existente",allowOutsideClick:!1,didOpen:()=>{ae.showLoading()}});let J,K;V.includes("google.com")?(J=ou,K="Google"):V.includes("facebook.com")?(J=cu,K="Facebook"):V.includes("github.com")&&(J=lu,K="GitHub");const X=await Gh(ht,J),pe=Ma.credential(x,T);await c_(X.user,pe);const oe=_r(Ht,"Users",X.user.uid);await tb(oe,{username:N},{merge:!0}),ae.close(),await ae.fire({icon:"success",title:"Cuenta Vinculada!",text:"Ahora puedes iniciar sesin con correo y contrasea tambin.",confirmButtonText:"Continuar"}),n("/")}catch(V){console.error("Error en vinculacin:",V),ae.close(),V.code==="auth/popup-closed-by-user"?ae.fire({icon:"warning",title:"Proceso Cancelado",text:"Cerraste la ventana de autenticacin"}):V.code==="auth/provider-already-linked"?ae.fire({icon:"info",title:"Ya Vinculado",text:"Este mtodo ya est vinculado a tu cuenta."}):ae.fire({icon:"error",title:"Error",text:"No se pudo vincular la cuenta. "+V.message})}};return f.jsx("section",{className:"flex items-center justify-center min-h-screen bg-[#f0f0f0]",children:f.jsxs("div",{className:"w-full max-w-md bg-white/10 backdrop-blur-lg rounded-3xl shadow-2xl p-8 border border-white/20",children:[f.jsx("div",{className:"flex justify-center mb-6",children:f.jsx("img",{src:"/logo.png",alt:"logo",className:"w-40 h-40 rounded-2xl"})}),f.jsx("h2",{className:"text-3xl font-extrabold text-center text-black mb-6",children:"REGISTRARSE"}),f.jsxs("form",{onSubmit:y,className:"space-y-5",children:[f.jsxs("label",{className:" w-full input input-bordered rounded-2xl border-black flex items-center gap-2 bg-white/10 text-black placeholder-black",children:[f.jsx("svg",{className:"h-5 opacity-70",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:f.jsxs("g",{strokeLinejoin:"round",strokeLinecap:"round",strokeWidth:"2.5",fill:"none",stroke:"currentColor",children:[f.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),f.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),f.jsx("input",{type:"text",name:"username",required:!0,placeholder:"Username",pattern:"[A-Za-z][A-Za-z0-9\\-]*",minLength:"3",maxLength:"30",title:"Only letters, numbers or dash",className:"grow bg-transparent focus:outline-none",value:c.username,onChange:p})]}),f.jsxs("label",{className:"w-full input input-bordered rounded-2xl border-black flex items-center gap-2 bg-white/10 text-black placeholder-black",children:[f.jsx("svg",{className:"h-5 opacity-70",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:f.jsxs("g",{strokeLinejoin:"round",strokeLinecap:"round",strokeWidth:"2.5",fill:"none",stroke:"currentColor",children:[f.jsx("rect",{width:"20",height:"16",x:"2",y:"4",rx:"2"}),f.jsx("path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"})]})}),f.jsx("input",{name:"email",type:"email",placeholder:"example@gmail.com",required:!0,className:"grow bg-transparent focus:outline-none",value:c.email,onChange:p})]}),f.jsxs("label",{className:"w-full input input-bordered rounded-2xl border-black flex items-center gap-2 bg-white/10 text-black placeholder-black",children:[f.jsx("svg",{className:"h-5 opacity-70",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:f.jsxs("g",{strokeLinejoin:"round",strokeLinecap:"round",strokeWidth:"2.5",fill:"none",stroke:"currentColor",children:[f.jsx("path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z"}),f.jsx("circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor"})]})}),f.jsx("input",{type:e?"text":"password",name:"password",required:!0,placeholder:"Password",minLength:"6",className:"grow bg-transparent focus:outline-none",value:c.password,onChange:p}),f.jsx("button",{type:"button",className:"p-2 text-gray-500 hover:text-gray-700 focus:outline-none transition-colors",onClick:()=>t(!e),children:e?f.jsx(Tg,{}):f.jsx(Lh,{})})]}),f.jsxs("label",{className:"w-full input input-bordered rounded-2xl border-black flex items-center gap-2 bg-white/10 text-black placeholder-black",children:[f.jsx("svg",{className:"h-5 opacity-70",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:f.jsxs("g",{strokeLinejoin:"round",strokeLinecap:"round",strokeWidth:"2.5",fill:"none",stroke:"currentColor",children:[f.jsx("path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z"}),f.jsx("circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor"})]})}),f.jsx("input",{type:s?"text":"password",name:"confirmPassword",required:!0,placeholder:"Confirm Password",minLength:"6",className:"grow bg-transparent focus:outline-none",value:c.confirmPassword,onChange:p}),f.jsx("button",{type:"button",className:"p-2 text-gray-500 hover:text-gray-700 focus:outline-none transition-colors",onClick:()=>o(!s),children:s?f.jsx(Tg,{}):f.jsx(Lh,{})})]}),f.jsx("button",{type:"submit",className:"btn btn-dash btn-info w-full rounded-xl shadow-lg transition-all duration-500 hover:scale-105",children:"Registrarse"})]}),f.jsxs("p",{className:"mt-6 text-sm text-center text-black",children:["Ya tienes cuenta?"," ",f.jsx(ve,{to:"/login",className:"font-medium text-blue-400 hover:text-blue-300 hover:underline",children:"Inicia sesin"})]})]})})}function mj(){const[n,e]=j.useState(""),[t,s]=j.useState(!1),[o,c]=j.useState(""),[d,p]=j.useState(""),g=qn(),y=async w=>{w.preventDefault(),s(!0),p(""),c("");try{await qA(ht,n,{url:"https://nextreadproject.web.app/change",handleCodeInApp:!1}),c(" Se ha enviado un correo para restablecer tu contrasea. Revisa tu bandeja de entrada."),setTimeout(()=>{g("/login")},3e3)}catch(x){switch(console.error("Error al enviar correo:",x),x.code){case"auth/user-not-found":p("No existe una cuenta con este correo electrnico.");break;case"auth/invalid-email":p("El correo electrnico no es vlido.");break;case"auth/too-many-requests":p("Demasiados intentos. Por favor, espera unos minutos.");break;default:p("Error al enviar el correo. Intenta nuevamente.")}}finally{s(!1)}};return f.jsx("section",{className:"flex items-center justify-center min-h-screen bg-[#f0f0f0]",children:f.jsxs("div",{className:"w-full max-w-md bg-white/10 backdrop-blur-lg rounded-3xl shadow-2xl p-8 border border-white/20",children:[f.jsx("div",{className:"flex justify-center mb-6",children:f.jsx("img",{src:"/logo.png",alt:"logo",className:"w-40 h-40 rounded-2xl"})}),f.jsx("h2",{className:"text-3xl font-extrabold text-center text-black mb-6",children:"Restablecer Contrasea"}),o&&f.jsx("div",{className:"alert alert-success mb-4 rounded-2xl",children:f.jsx("span",{children:o})}),d&&f.jsx("div",{className:"alert alert-error mb-4 rounded-2xl",children:f.jsx("span",{children:d})}),f.jsxs("form",{onSubmit:y,className:"space-y-5",children:[f.jsxs("label",{className:"w-full input input-bordered border-black rounded-2xl flex items-center gap-2 bg-white/10 text-black placeholder-black",children:[f.jsx("svg",{className:"h-5 opacity-70",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:f.jsxs("g",{strokeLinejoin:"round",strokeLinecap:"round",strokeWidth:"2.5",fill:"none",stroke:"currentColor",children:[f.jsx("rect",{width:"20",height:"16",x:"2",y:"4",rx:"2"}),f.jsx("path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"})]})}),f.jsx("input",{type:"email",placeholder:"example@gmail.com",required:!0,value:n,onChange:w=>e(w.target.value),className:"grow bg-transparent focus:outline-none"})]}),f.jsx("button",{type:"submit",disabled:t,className:"btn btn-dash btn-info w-full rounded-xl shadow-lg transition-all duration-500 hover:scale-105 disabled:opacity-50",children:t?"Enviando...":"Enviar Correo"})]}),f.jsx("div",{className:"text-center mt-4",children:f.jsx(ve,{to:"/login",className:"text-blue-600 hover:underline",children:"Volver al Login"})})]})})}function pj(){const[n,e]=j.useState(""),[t,s]=j.useState(""),[o,c]=j.useState(!1),[d,p]=j.useState(""),[g,y]=j.useState(!0),[w,x]=j.useState(""),[T]=Nk(),N=qn(),V=T.get("oobCode"),G=T.get("mode"),B=T.get("apiKey");j.useEffect(()=>{(async()=>{if(!V){console.error("No se encontr oobCode en la URL"),y(!1);return}try{const X=await $A(ht,V);x(X),y(!1)}catch(X){console.error("Error al verificar cdigo:",X),y(!1)}})()},[V,G,B]);const J=async K=>{if(K.preventDefault(),p(""),n!==t){alert("Las contraseas no coinciden");return}if(!V){alert("Enlace invlido");return}c(!0);try{await FA(ht,V,n),p(" Contrasea restablecida exitosamente. Redirigiendo al login..."),setTimeout(()=>{N("/login",{replace:!0})},3e3)}catch(X){console.error("Error al cambiar contrasea:",X),alert("Error al cambiar la contrasea. El enlace puede haber expirado.")}finally{c(!1)}};return g?f.jsx("section",{className:"flex items-center justify-center min-h-screen bg-[#f0f0f0]",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"loading loading-spinner loading-lg text-primary"}),f.jsx("p",{className:"mt-4 text-gray-700 font-medium",children:"Verificando enlace..."})]})}):f.jsx("section",{className:"flex items-center justify-center min-h-screen bg-[#f0f0f0]",children:f.jsxs("div",{className:"w-full max-w-md bg-white/10 backdrop-blur-lg rounded-3xl shadow-2xl p-8 border border-white/20",children:[f.jsx("div",{className:"flex justify-center mb-6",children:f.jsx("img",{src:"/logo.png",alt:"logo",className:"w-40 h-40 rounded-2xl"})}),f.jsx("h2",{className:"text-3xl font-extrabold text-center text-black mb-6",children:"Cambiar Contrasea"}),w&&f.jsxs("div",{className:"alert alert-info mb-4 rounded-2xl",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"stroke-current shrink-0 w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.jsxs("span",{children:["Cambiando contrasea para: ",f.jsx("strong",{children:w})]})]}),d&&f.jsxs("div",{className:"alert alert-success mb-4 rounded-2xl animate-pulse border-2 border-green-500",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.jsx("span",{className:"font-bold",children:d})]}),f.jsxs("form",{onSubmit:J,className:"space-y-5",children:[f.jsx("div",{className:"form-control",children:f.jsxs("label",{className:"w-full input input-bordered border-black flex items-center gap-2 bg-white/10 text-black placeholder-black",children:[f.jsx("svg",{className:"h-5 opacity-70",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:f.jsxs("g",{strokeLinejoin:"round",strokeLinecap:"round",strokeWidth:"2.5",fill:"none",stroke:"currentColor",children:[f.jsx("path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z"}),f.jsx("circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor"})]})}),f.jsx("input",{type:"password",required:!0,placeholder:"Nueva Contrasea",value:n,onChange:K=>e(K.target.value),className:"grow bg-transparent focus:outline-none"})]})}),f.jsx("div",{className:"form-control",children:f.jsxs("label",{className:"w-full input input-bordered border-black flex items-center gap-2 bg-white/10 text-black placeholder-black",children:[f.jsx("svg",{className:"h-5 opacity-70",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:f.jsxs("g",{strokeLinejoin:"round",strokeLinecap:"round",strokeWidth:"2.5",fill:"none",stroke:"currentColor",children:[f.jsx("path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z"}),f.jsx("circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor"})]})}),f.jsx("input",{type:"password",required:!0,placeholder:"Confirmar Contrasea",value:t,onChange:K=>s(K.target.value),className:"grow bg-transparent focus:outline-none"})]})}),f.jsx("button",{type:"submit",disabled:o,className:"btn btn-info w-full rounded-xl shadow-lg transition-all duration-500 hover:scale-105 disabled:opacity-50 text-white font-bold py-3",children:o?f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"loading loading-spinner loading-sm"}),"Cambiando contrasea..."]}):" Cambiar Contrasea"})]}),f.jsx("div",{className:"text-center mt-4",children:f.jsx("button",{onClick:()=>N("/login"),className:"text-blue-600 hover:underline text-sm font-medium",children:" Volver al Login"})})]})})}function gj(){return f.jsx("div",{className:"w-full items-center justify-center p-5",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h2",{className:"font-bold text-3xl",children:"Hooks de React"}),f.jsxs("table",{className:"table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Nombre"}),f.jsx("th",{children:"Explicacion"}),f.jsx("th",{children:"Categorias"}),f.jsx("th",{children:"Enlace"})]})}),f.jsxs("tbody",{children:[f.jsxs("tr",{children:[f.jsx("th",{children:"UseState"}),f.jsx("td",{children:"El hook useState en React es una funcin que permite a los componentes funcionales manejar estado local. Recibe un valor inicial y devuelve un arreglo con dos elementos: el estado actual y una funcin para actualizarlo. Cada vez que se llama a esta funcin, React actualiza el valor del estado y vuelve a renderizar el componente con la informacin ms reciente. Su uso debe seguir ciertas reglas, como llamarlo siempre en el nivel superior del componente y nunca dentro de condicionales o bucles, para que React pueda mantener el estado de forma correcta entre renders."}),f.jsx("td",{className:"text-success",children:"Estado"}),f.jsx("td",{children:f.jsx(ve,{to:"/usestate",className:"link-accent",children:"Ir al Hook"})})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"UseCallback"}),f.jsx("td",{children:"Tiene como memorizar funciones para evitar que se vuelvan a crear en cada render innecesariamente, lo que ayuda a optimizar el rendimiento cuando esas funciones se pasan como props a componentes hijos o se usan en otros hooks"}),f.jsx("td",{className:"text-success",children:"Rendimiento"}),f.jsx("td",{children:f.jsx(ve,{to:"/usecallback",className:"link-accent",children:"Ir al Hook"})})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"UseContext"}),f.jsx("td",{children:"El hook useContext en React es una funcin que permite acceder al valor de un contexto creado con createContext, sin tener que pasar props manualmente a travs de todos los niveles del rbol de componentes. Esto facilita compartir datos globales, como temas, idioma o informacin del usuario, de manera sencilla y eficiente dentro de la aplicacin."}),f.jsx("td",{className:"text-success",children:"Contexto"}),f.jsx("td",{children:f.jsx(ve,{to:"/usecontext",className:"link-accent",children:"Ir al Hook"})})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"UseDebug"}),f.jsx("td",{children:"Se usa principalmente para mostrar etiquetas personalizadas en React DevTools cuando inspeccionas un hook personalizado."}),f.jsx("td",{className:"text-success",children:"Depuracin"}),f.jsx("td",{children:f.jsx(ve,{to:"/usedebug",className:"link-accent",children:"Ir al Hook"})})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"useDeferredValue"}),f.jsx("td",{children:"El hook useDeferredValue permite diferir la actualizacin de un valor para que React priorice actualizaciones ms urgentes (como la entrada del usuario), y deje otras partes de la interfaz para ms adelante, evitando bloqueos o lentitud"}),f.jsx("td",{className:"text-success",children:"Rendimiento"}),f.jsx("td",{children:f.jsx(ve,{to:"/usedeffer",className:"link-accent",children:"Ir al Hook"})})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"UseEffect"}),f.jsx("td",{children:"Estos hooks sirven para ejecutar cdigo que ocurre fuera del flujo de renderizado del componente, es decir, para manejar efectos secundarios."}),f.jsx("td",{className:"text-success",children:"Efectos"}),f.jsx("td",{children:f.jsx(ve,{to:"/useeffect",className:"link-accent",children:"Ir al Hook"})})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"UseId"}),f.jsx("td",{children:"Se usa para generar IDs nicos y estables para elementos que necesitan un identificador en el DOM, especialmente para accesibilidad o cuando hay formularios dinmicos."}),f.jsx("td",{className:"text-success",children:"Utilidades"}),f.jsx("td",{children:f.jsx(ve,{to:"/useid",className:"link-accent",children:"Ir al Hook"})})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"UseImperativeHandle"}),f.jsx("td",{children:"Por defecto, cuando pasas una referencia (ref) a un componente con forwardRef, esa ref apunta al nodo DOM interno o al componente hijo."}),f.jsx("td",{className:"text-success",children:"Referencia"}),f.jsx("td",{children:f.jsx(ve,{to:"/useimperativehandle",className:"link-accent",children:"Ir al Hook"})})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"UseInsertionEffect"}),f.jsx("td",{children:"l hook useInsertionEffect en React es un hook especial que se ejecuta justo antes de que el navegador inserte cambios en el DOM, pero despus de que React haya calculado todas las actualizaciones. Se utiliza principalmente para bibliotecas de estilos o situaciones donde necesitas inyectar CSS dinmicamente de forma sincronizada con el renderizado, evitando parpadeos o estilos incorrectos."}),f.jsx("td",{className:"text-success",children:"Efecto"}),f.jsx("td",{children:f.jsx(ve,{to:"/useinsertioneffect",className:"link-accent",children:"Ir al Hook"})})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"UseLayoutEffect"}),f.jsx("td",{children:"Es un hook similar a useEffect, pero se ejecuta justo despus de que React actualiza el DOM y antes de que el navegador pinte en pantalla; se usa cuando necesitas leer o modificar el DOM de forma inmediata (como medir el tamao de un elemento) para evitar que el usuario vea un parpadeo en la interfaz."}),f.jsx("td",{className:"text-success",children:"Efecto"}),f.jsx("td",{children:f.jsx(ve,{to:"/uselayouteffect",className:"link-accent",children:"Ir al Hook"})})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"UseMemo"}),f.jsx("td",{children:"Memoriza el resultado de una funcin o clculo y solo lo vuelve a ejecutar si cambian las dependencias que le indiques; se utiliza para optimizar el rendimiento y evitar clculos innecesarios en cada render, especialmente en operaciones costosas como filtros, listas grandes o clculos matemticos complejos."}),f.jsx("td",{className:"text-success",children:"Performance"}),f.jsx("td",{children:f.jsx(ve,{to:"/usememo",className:"link-accent",children:"Ir al Hook"})})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"UseOptimistic"}),f.jsx("td",{children:"Es un hook experimental pensado para manejar actualizaciones optimistas en la UI, es decir, mostrar de inmediato un cambio (como un like o una nueva tarea en una lista) sin esperar la respuesta del servidor, lo que hace que la aplicacin se sienta ms rpida; luego, si el servidor confirma, se mantiene el cambio, y si falla, se puede revertir."}),f.jsx("td",{className:"text-success",children:"Nuevo en React"}),f.jsx("td",{children:f.jsx(ve,{to:"/useoptimistic",className:"link-accent",children:"Ir al Hook"})})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"UseReducer"}),f.jsx("td",{children:"Sirve para manejar estados ms complejos que con useState, porque en vez de cambiar el valor directamente, usas una funcin reductora (reducer) que recibe el estado actual y una accin, y devuelve el nuevo estado; esto es til cuando hay varias formas distintas de modificar el mismo estado, como en un contador con botones para sumar, restar y resetear, o en una lista de tareas con acciones para agregar, eliminar o marcar como completada"}),f.jsx("td",{className:"text-success",children:"Estado"}),f.jsx("td",{children:f.jsx(ve,{to:"/usereducer",className:"link-accent",children:"Ir al Hook"})})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"UseRef"}),f.jsx("td",{children:"Sirve para guardar un valor que no se pierde entre renders, sin que al cambiar ese valor se vuelva a renderizar el componente. Tambin se usa mucho para referenciar elementos del DOM (como inputs o divs) y poder manipularlos directamente (por ejemplo, hacer focus en un input)."}),f.jsx("td",{className:"text-success",children:"Referencias"}),f.jsx("td",{children:f.jsx(ve,{to:"/useref",className:"link-accent",children:"Ir al Hook"})})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"UseActionsState"}),f.jsx("td",{children:"Sirve para manejar el estado de un formulario o accin asncrona de forma ms simple. Cuando usas useActionState, React te da un estado (state) y una funcin (action) que se encarga de procesar algo (por ejemplo, enviar un formulario) y actualizar automticamente ese estado con el resultado. As no tienes que manejar useState manualmente para el cargando, xito o error."}),f.jsx("td",{className:"text-success",children:"Nuevo en React"}),f.jsx("td",{children:f.jsx(ve,{to:"/useactionstate",className:"link-accent",children:"Ir al Hook"})})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"UseSyncExternalStore"}),f.jsx("td",{children:"Sirve para conectarte a un estado externo (algo que no est dentro de React, como el localStorage, un store global, o incluso el window con un event listener)."}),f.jsx("td",{className:"text-success",children:"Contexto"}),f.jsx("td",{children:f.jsx(ve,{to:"/usesyncexternalstore",className:"link-accent",children:"Ir al Hook"})})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"UseTransition"}),f.jsx("td",{children:"Sirve para manejar actualizaciones que no son urgentes (como filtros, bsquedas, o cargar datos)."}),f.jsx("td",{className:"text-success",children:"Performance"}),f.jsx("td",{children:f.jsx(ve,{to:"/usetransition",className:"link-accent",children:"Ir al Hook"})})]})]})]})]})})}function yj(){const[n,e]=j.useState(0);return f.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center  ",children:[f.jsx("h1",{className:"text-3xl font-extrabold",children:"Hook UseState"}),f.jsxs("div",{className:"w-full items-center justify-center p-5",children:[f.jsxs("h1",{className:"text-warning font-bold text-2xl",children:["Contador: ",n]}),f.jsxs("div",{className:"flex gap-3 flex-row mt-2",children:[f.jsx("button",{onClick:()=>e(n+1),className:"btn btn-success",children:"Aumentar"}),f.jsx("button",{onClick:()=>e(n-1),className:"btn btn-primary",children:"Disminuir"})]}),f.jsx(ve,{to:"/home",className:"btn btn-dash w-28 justify-center link-accent mt-2",children:"Ir al Home"})]})]})}function vj(){const[n,e]=j.useState(""),t=["Ana","Luis","Pedro","Maria","Juan"],s=j.useCallback(()=>t.filter(o=>o.toLowerCase().includes(n.toLowerCase())),[n]);return f.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-5 gap-3",children:[f.jsx("h1",{className:"items-center font-bold text-3xl",children:"Hook CallBack"}),f.jsx("input",{className:"input input-accent",type:"text",placeholder:"Filtrar usuarios",value:n,onChange:o=>e(o.target.value)}),f.jsx("ul",{children:s().map((o,c)=>f.jsx("li",{children:o},c))}),f.jsx(ve,{to:"/home",className:"btn btn-dash w-28 justify-center link-accent mt-2",children:"Ir al Home"})]})}const vT=j.createContext();function wj(){const{tema:n,toggleTema:e}=j.useContext(vT);return f.jsxs("button",{onClick:e,className:`btn ${n==="dark"?"btn-primary":"btn-light"}`,children:["Botn con tema ",n]})}function bj(){const[n,e]=j.useState("light"),t=()=>{e(s=>s==="light"?"dark":"light")};return f.jsx(vT.Provider,{value:{tema:n,toggleTema:t},children:f.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-5 gap-3",children:[f.jsx("h1",{className:"items-center font-bold text-3xl",children:"Hook UseContext"}),f.jsx(wj,{}),f.jsx(ve,{to:"/home",className:"btn btn-dash w-28 justify-center link-accent mt-2",children:"Ir al Home"})]})})}function _j(){const[n,e]=j.useState(!0);return j.useDebugValue(n?"En linea":"Desconectado"),j.useEffect(()=>{const t=setInterval(()=>{e(s=>!s)},3e3);return()=>clearInterval(t)},[]),n}function xj(){const n=_j();return f.jsxs("div",{className:"flex flex-col",children:[f.jsx("h1",{className:"mt-2 flex items-center justify-center font-bold text-3xl text-secondary",children:"Hook UseDebug"}),f.jsx("h1",{className:"mt-2 flex items-center justify-center font-bold text-3xl",children:n?"En linea":"Desconectado"}),f.jsx("button",{className:"flex items-center justify-center",children:f.jsx(ve,{to:"/home",className:"btn btn-dash w-28 justify-center link-accent mt-2",children:"Ir al Home"})})]})}function Ej(){const[n,e]=j.useState(""),t=j.useDeferredValue(n);return f.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-5 gap-3",children:[f.jsx("h1",{className:"text-3xl font-extrabold",children:"Hook useDeferredValue"}),f.jsx("input",{type:"text",className:"input input-info",value:n,onChange:s=>e(s.target.value)}),f.jsx(Tj,{query:t}),f.jsx(ve,{to:"/home",className:"btn btn-dash w-28 justify-center link-accent mt-2",children:"Ir al Home"})]})}function Tj({query:n}){const e=[];for(let t=0;t<10;t++)e.push(`Item ${t} - ${n}`);return f.jsx("div",{children:e})}function Sj(){const[n,e]=j.useState(0);return j.useEffect(()=>{console.log("El contador cambi a:",n)},[n]),f.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-5 gap-3",children:[f.jsx("h1",{className:"text-5xl font-extrabold",children:"Hook UseEffect"}),f.jsxs("h1",{className:"text-4xl font-bold",children:["Contador: ",n]}),f.jsx("button",{className:"btn btn-accent font-bold",onClick:()=>e(n+1),children:"Incrementar"}),f.jsx(ve,{to:"/home",className:"btn btn-dash w-28 justify-center link-accent mt-2",children:"Ir al Home"})]})}function Aj(){const n=j.useId(),[e,t]=j.useState([{nombre:"",email:""},{nombre:"",email:""}]),s=(c,d,p)=>{t(g=>{const y=[...g];return y[c][d]=p,y})},o=()=>{t(c=>[...c,{nombre:"",email:""}])};return f.jsxs("div",{className:"p-5 flex flex-col gap-3",children:[f.jsx("h1",{className:"text-2xl font-extrabold text-center ",children:"HookUseId"}),e.map((c,d)=>{const p=`${n}-nombre-${d}`,g=`${n}-email-${d}`;return f.jsxs("div",{className:"flex flex-col gap-2 border p-3 rounded-md",children:[f.jsxs("div",{children:[f.jsxs("label",{htmlFor:p,children:["Nombre ",d+1,": "]}),f.jsx("input",{id:p,type:"text",value:c.nombre,onChange:y=>s(d,"nombre",y.target.value),className:"border p-1 ml-2"})]}),f.jsxs("div",{children:[f.jsxs("label",{htmlFor:g,children:["Email ",d+1,": "]}),f.jsx("input",{id:g,type:"email",value:c.email,onChange:y=>s(d,"email",y.target.value),className:"border p-1 ml-2"})]})]},d)}),f.jsx("button",{onClick:o,className:"bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700",children:"Agregar usuario"}),f.jsx(ve,{to:"/home",className:"btn btn-dash w-28 justify-center link-accent mt-2",children:"Ir al Home"}),f.jsx("pre",{className:"mt-4 p-2 rounded",children:JSON.stringify(e,null,2)})]})}const Cj=j.forwardRef((n,e)=>{const[t,s]=j.useState(!0);return j.useImperativeHandle(e,()=>({mostrar(){s(!0)},ocultar(){s(!1)}})),f.jsx("div",{children:t&&f.jsx("div",{className:"w-full h-20 flex items-center justify-center bg-accent",children:"Soy la caja"})})});function Nj(){const n=j.useRef();return f.jsxs("div",{className:"w-full h-full flex flex-col  p-5 gap-3",children:[f.jsx("h1",{className:"font-extrabold text-4xl flex justify-center",children:"Hook UseImperativeHandle"}),f.jsx(Cj,{ref:n}),f.jsxs("div",{className:"gap-3 flex justify-center",children:[f.jsx("button",{className:"btn btn-primary font-semibold",onClick:()=>n.current.mostrar(),children:"Mostrar"}),f.jsx("button",{className:"btn btn-error font-semibold",onClick:()=>n.current.ocultar(),children:"Ocultar"})]}),f.jsx(ve,{to:"/home",className:"btn btn-dash w-28 justify-center link-accent mt-2",children:"Ir al Home"})]})}function Rj(){const[n,e]=j.useState("lightblue");return j.useInsertionEffect(()=>{const t=document.createElement("style");return t.innerHTML=`.dynamic { background-color: ${n}; padding: 20px; }`,document.head.appendChild(t),()=>{document.head.removeChild(t)}},[n]),f.jsxs("div",{className:"flex w-full h-full flex-col items-center justify-center p-5 gap-3",children:[f.jsx("h1",{className:"text-3xl font-extrabold",children:"Hook useInsertionEffect"}),f.jsx("div",{className:"dynamic text-black font-semibold",children:"Caja con color dinmico"}),f.jsxs("div",{className:"flex flex-row gap-2",children:[f.jsx("button",{className:"btn btn-success",onClick:()=>e("lightgreen"),children:"Verde"}),f.jsx("button",{className:"btn btn-error",onClick:()=>e("lightcoral"),children:"Rojo"})]}),f.jsx(ve,{to:"/home",className:"btn btn-dash w-28 justify-center link-accent mt-2",children:"Ir al Home"})]})}function Ij(){const[n,e]=j.useState(0),t=j.useRef(null);return j.useLayoutEffect(()=>{if(t.current){const s=t.current.getBoundingClientRect().width;e(s),console.log("useLayoutEffect -> ancho medido:",s)}},[]),f.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black",children:f.jsxs("div",{ref:t,className:"w-full max-w-md bg-white/10 backdrop-blur-lg rounded-3xl shadow-2xl p-8 border border-white/20  justify-center grid",children:[f.jsx("h1",{className:"text-xl font-bold mb-4",children:"Probando useLayoutEffect"}),f.jsxs("p",{children:["El ancho de la caja es: ",n,"px"]}),f.jsx("div",{className:"bg-white text-black p-2 border rounded w-[100%] text-center mt-4",children:f.jsx(ve,{to:"/home",children:"Volver al Home"})})]})})}function kj(){const[n,e]=j.useState(0),t=j.useMemo(()=>(console.log(" Calculando el doble..."),n*2),[n]);return f.jsxs("div",{className:"flex flex-col   gap-2 items-center justify-center min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black",children:[f.jsx("h1",{className:"text-xl font-bold",children:"Probando useMemo"}),f.jsxs("p",{children:["Contador: ",n]}),f.jsxs("p",{children:["Doble del contador: ",t]}),f.jsx("button",{onClick:()=>e(n+1),className:"px-4 py-2 bg-blue-600 rounded-lg cursor-pointer",children:"Incrementar"}),f.jsx("div",{className:"bg-white border rounded p-2 text-black",children:f.jsx(ve,{to:"/home",children:"Volver a Home"})})]})}function jj(){const[n,e]=j.useState(["UseOptimistic"]),[t,s]=j.useOptimistic(n);async function o(){const c="Nueva tarea";s([...t,c]);try{await new Promise(d=>setTimeout(d,1e3)),e(d=>[...d,c])}catch{console.log("Error al guardar la tarea")}}return f.jsxs("div",{className:"flex flex-col   gap-2 items-center justify-center min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black",children:[f.jsx("h2",{className:"p-2 bg-gray-700",children:"Lista de Tareas"}),f.jsx("ul",{children:t.map((c,d)=>f.jsx("li",{children:c},d))}),f.jsx("button",{onClick:o,className:"bg-gray-500 p-2 rounded cursor-pointer",children:"Agregar tarea"}),f.jsx("div",{className:"bg-white border rounded p-2 text-black",children:f.jsx(ve,{to:"/home",children:"Volver a Home"})})]})}function Dj(n,e){switch(e.type){case"incrementar":return{count:n.count+1};case"decrementar":return{count:n.count-1};case"reset":return{count:0};default:return n}}function Oj(){const[n,e]=j.useReducer(Dj,{count:0});return f.jsx("div",{className:"flex flex-col  gap-2 items-center justify-center min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black",children:f.jsxs("div",{className:"flex flex-col justify-center items-center bg-gray-600 p-4 rounded gap-4",children:[f.jsxs("h1",{children:["Contador: ",n.count]}),f.jsxs("div",{className:"flex  justify-center items-center gap-3",children:[f.jsx("button",{onClick:()=>e({type:"incrementar"}),className:"bg-green-700 p-2 rounded cursor-pointer",children:"Incrementar"}),f.jsx("button",{onClick:()=>e({type:"decrementar"}),className:"bg-red-700 p-2 rounded cursor-pointer",children:"Disminuir"}),f.jsx("button",{onClick:()=>e({type:"reset"}),className:"bg-black p-2 rounded cursor-pointer",children:"Resetear"})]}),f.jsx("div",{className:"bg-white rounded p-2 text-black",children:f.jsx(ve,{to:"/home",children:"Volver a Home"})})]})})}function Pj(){const n=j.useRef(null),e=()=>{n.current.focus()};return f.jsx("div",{className:"flex flex-col  gap-2 items-center justify-center min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black",children:f.jsxs("div",{className:"flex flex-col justify-center items-center bg-gray-600 p-4 rounded gap-4",children:[f.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Probando UseRef"}),f.jsx("input",{ref:n,type:"text",placeholder:"Escribe algo...",className:"px-4 py-2 rounded-lg border border-gray-300 text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.jsx("button",{onClick:e,className:"mt-4 px-6 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg shadow-lg transition",children:"Dar Focus al Input"}),f.jsx("div",{className:"bg-white text-black p-2 rounded cursor-pointer",children:f.jsx(ve,{to:"/home",children:"Volver a Home"})})]})})}function Mj(){const[n,e,t]=j.useActionState(async(s,o)=>(await new Promise(c=>setTimeout(c,1e3)),`Hola ${o.get("nombre")}`),"");return f.jsx("div",{className:"flex flex-col gap-2 items-center justify-center min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black",children:f.jsxs("div",{className:"flex flex-col justify-center items-center bg-gray-600 p-4 rounded gap-4",children:[f.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Probando useActionState"}),f.jsxs("form",{action:e,className:"flex flex-col gap-4 w-64",children:[f.jsx("input",{name:"nombre",placeholder:"Escribe tu nombre",className:"px-4 py-2 rounded-lg border border-gray-300 text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.jsx("button",{type:"submit",disabled:t,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg shadow-lg transition disabled:opacity-50",children:t?"Enviando...":"Enviar"})]}),n&&f.jsx("p",{className:"mt-4 text-lg",children:n}),f.jsx("div",{className:"bg-white rounded p-2 text-black",children:f.jsx(ve,{to:"/home",children:"Volver a Home"})})]})})}function Vj(){const n=e=>(window.addEventListener("resize",e),()=>window.removeEventListener("resize",e));return j.useSyncExternalStore(n,()=>window.innerWidth)}function Lj(){const n=Vj();return f.jsx("div",{className:"flex flex-col  gap-2 items-center justify-center min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black",children:f.jsxs("div",{className:"flex flex-col justify-center items-center bg-gray-600 p-4 rounded gap-4",children:[f.jsx("h1",{className:"text-2xl font-bold text-white",children:"Probando useSyncExternalStore"}),f.jsx("p",{className:"mt-4 text-gray-900",children:"El ancho actual de la ventana es:"}),f.jsxs("span",{className:"mt-2 block text-3xl font-bold text-white ",children:[n,"px"]}),f.jsx("div",{className:"bg-white rounded p-2 text-black",children:f.jsx(ve,{to:"/home",children:"Volver a Home"})})]})})}const Uj=Array.from({length:2e3},(n,e)=>`Persona ${e+1}`);function Bj(){const[n,e]=j.useState(""),[t,s]=j.useTransition(),o=d=>{const p=d.target.value;e(p),s(()=>{e(p)})},c=Uj.filter(d=>d.toLowerCase().includes(n.toLowerCase()));return f.jsxs("div",{className:"flex flex-col  gap-2 items-center justify-center min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black",children:[f.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Probando useTransition"}),f.jsx("input",{type:"text",value:n,onChange:o,placeholder:"Escribe un nmero...",className:"p-2 border rounded-lg shadow-sm w-80 focus:outline-none focus:ring-2 focus:ring-blue-400"}),t&&f.jsx("p",{className:"mt-2 text-sm text-gray-500 animate-pulse",children:"Filtrando resultados..."}),f.jsx("ul",{className:"mt-4 w-80 max-h-80 overflow-y-auto bg-white rounded-lg shadow p-2 border-5 border-black",children:c.map((d,p)=>f.jsx("li",{className:"border-b last:border-none p-1 text-gray-700",children:d},p))}),f.jsx("div",{className:"bg-white rounded p-2 text-black",children:f.jsx(ve,{to:"/home",children:"Volver a Home"})})]})}function zj(){const[n,e]=j.useState(null),[t,s]=j.useState(!0),[o,c]=j.useState(!1),[d,p]=j.useState(!1),g=qn();j.useEffect(()=>{const T=ht.onAuthStateChanged(N=>{e(N),s(!1),N&&N.email==="admin@gmail.com"?p(!0):p(!1),console.log("Usuario actual:",N)});return()=>T()},[]);const y=async()=>{if((await ae.fire({title:"Cerrar Sesin?",text:"Ests seguro de que deseas cerrar sesin?",icon:"question",showCancelButton:!0,confirmButtonText:"S, cerrar sesin",cancelButtonText:"Cancelar",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33"})).isConfirmed)try{await Cg(),await ZA(ht),c(!1),ae.fire({icon:"success",title:"Sesin Cerrada",text:"Has cerrado sesin exitosamente",timer:1500,showConfirmButton:!1}),g("/")}catch(N){console.error("Error al cerrar sesin:",N),ae.fire("Error","No se pudo cerrar sesin","error")}},w=()=>n?.displayName?n.displayName:n?.email?n.email.split("@")[0]:"Usuario",x=()=>n?.photoURL||`https://ui-avatars.com/api/?name=${w()}&background=3b82f6&color=fff`;return t?f.jsxs("div",{className:"navbar bg-[#f0f0f0] shadow-sm px-4",children:[f.jsx("div",{className:"navbar-start",children:f.jsxs("a",{className:"text-xl font-bold text-black flex items-center gap-2",children:[f.jsx(rr,{className:"text-blue-500"}),"NextRead"]})}),f.jsx("div",{className:"navbar-end",children:f.jsx("span",{className:"loading loading-spinner loading-sm"})})]}):f.jsxs("div",{className:"navbar bg-[#f0f0f0] shadow-sm px-4",children:[f.jsx("div",{className:"navbar-start",children:f.jsxs(ve,{to:"/",className:"text-xl font-bold text-black flex items-center gap-2 hover:opacity-80 transition-opacity",children:[f.jsx(rr,{className:"text-blue-500"}),"NextRead"]})}),f.jsxs("div",{className:"navbar-end gap-2",children:[f.jsx(ve,{to:"/books",children:f.jsxs("button",{className:"btn bg-blue-500 hover:bg-blue-600 text-white border-none",children:[f.jsx(wu,{className:"mr-2"}),"Vender Libro"]})}),f.jsx(ve,{to:"/opinions",children:f.jsxs("button",{className:"btn bg-blue-500 hover:bg-blue-600 text-white border-none",children:[f.jsx(Yk,{className:"mr-2"}),"Opinar Libro"]})}),d&&f.jsx(ve,{to:"/admin/users",children:f.jsxs("button",{className:"btn bg-green-500 hover:bg-green-600 text-white border-none",children:[f.jsx(Sg,{className:"mr-2"}),"Mirar Usuarios"]})}),n?f.jsxs("div",{className:"relative",children:[f.jsxs("button",{onClick:()=>c(!o),className:"flex items-center gap-2 btn btn-ghost hover:bg-blue-100 px-3",children:[f.jsx("img",{src:x(),alt:w(),className:"w-8 h-8 rounded-full object-cover ring-2 ring-blue-500"}),f.jsx("span",{className:"font-medium text-black hidden md:inline",children:w()}),f.jsx("svg",{className:`w-4 h-4 transition-transform ${o?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),o&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>c(!1)}),f.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 z-20",children:[f.jsx("div",{className:"p-4 border-b border-gray-200",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("img",{src:x(),alt:w(),className:"w-12 h-12 rounded-full object-cover"}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("p",{className:"font-semibold text-black truncate",children:w()}),f.jsx("p",{className:"text-xs text-gray-500 truncate",children:n.email})]})]})}),f.jsxs("div",{className:"py-2",children:[f.jsxs(ve,{to:"/profile",className:"flex items-center gap-3 px-4 py-2 text-black hover:bg-blue-50 transition-colors",onClick:()=>c(!1),children:[f.jsx(Uh,{className:"text-blue-500"}),f.jsx("span",{children:"Mi Perfil"})]}),f.jsxs(ve,{to:"/settings",className:"flex items-center gap-3 px-4 py-2 text-black hover:bg-blue-50 transition-colors",onClick:()=>c(!1),children:[f.jsx($k,{className:"text-blue-500"}),f.jsx("span",{children:"Configuracin"})]}),f.jsx("hr",{className:"my-2 border-gray-200"}),f.jsxs("button",{onClick:y,className:"w-full flex items-center gap-3 px-4 py-2 text-red-600 hover:bg-red-50 transition-colors",children:[f.jsx(Wk,{}),f.jsx("span",{children:"Cerrar Sesin"})]})]})]})]})]}):f.jsxs(f.Fragment,{children:[f.jsx(ve,{to:"/login",children:f.jsxs("button",{className:"btn btn-ghost text-black hover:bg-blue-100",children:[f.jsx(Uh,{className:"mr-2"}),"Iniciar Sesin"]})}),f.jsx(ve,{to:"/register",children:f.jsxs("button",{className:"btn bg-white text-black border-blue-500 hover:bg-blue-50",children:[f.jsx(ij,{className:"mr-2"}),"Registrarse"]})})]})]})]})}function Hj(){return f.jsx("footer",{className:"footer bg-[#f0f0f0] p-8 text-black",children:f.jsxs("div",{className:"w-full text-center flex flex-col items-center justify-center",children:[f.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto text-center",children:"Tu plataforma favorita para comprar y vender libros de segunda mano."}),f.jsxs("div",{className:"flex justify-center gap-6 mb-6 items-center",children:[f.jsx("a",{className:"text-gray-600 hover:text-blue-500 transition-colors",children:f.jsx(zk,{className:"text-xl"})}),f.jsx("a",{className:"text-gray-600 hover:text-blue-500 transition-colors",children:f.jsx(Hk,{className:"text-xl"})}),f.jsx("a",{className:"text-gray-600 hover:text-blue-500 transition-colors",children:f.jsx(ty,{className:"text-xl"})})]}),f.jsx("div",{className:"text-gray-500 text-sm text-center",children:f.jsxs("p",{children:[" ",new Date().getFullYear()," NextRead. Todos los derechos reservados."]})})]})})}function qj(){const[n,e]=j.useState([]),[t,s]=j.useState(!0),[o,c]=j.useState(""),d=async()=>{try{s(!0);const w=zo(Si(Ht,"books"),Ho("createdAt","desc")),x=await k0(w),T=[];x.forEach(N=>{T.push({id:N.id,...N.data()})}),e(T)}catch(w){console.error("Error cargando libros:",w),ae.fire({icon:"error",title:"Error",text:"No se pudieron cargar los libros"})}finally{s(!1)}};j.useEffect(()=>{d()},[]);const p=n.filter(w=>w.title.toLowerCase().includes(o.toLowerCase())||w.author.toLowerCase().includes(o.toLowerCase())||w.description.toLowerCase().includes(o.toLowerCase())),g=w=>{ae.fire({title:`Comprar "${w.title}"`,html:`
        <div class="text-left">
          <p><strong>Autor:</strong> ${w.author}</p>
          <p><strong>Categora:</strong> ${w.category}</p>
          <p><strong>Precio:</strong> $${w.price?.toFixed(0)||"0.00"}</p>
          <p><strong>Descripcin:</strong> ${w.description||"Sin descripcin"}</p>
          ${w.condition?`<p><strong>Condicin:</strong> ${w.condition}</p>`:""}
        </div>
      `,showCancelButton:!0,confirmButtonText:"Comprar ahora",cancelButtonText:"Seguir viendo",confirmButtonColor:"#10B981",width:600}).then(x=>{x.isConfirmed&&ae.fire({icon:"success",title:"Compra iniciada!",text:`Has iniciado la compra de "${w.title}"`,timer:3e3})})},y=w=>{ae.fire({icon:"success",title:"Agregado a favoritos",text:`"${w.title}" se agreg a tu lista de deseos`,timer:2e3})};return t?f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600 text-lg",children:"Cargando catlogo..."})]})}):f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-8",children:f.jsxs("div",{className:"container mx-auto px-4",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"flex justify-center mb-4",children:f.jsx("img",{src:"/logo.png",alt:"logo",className:"w-24 h-24 rounded-2xl shadow-lg"})}),f.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:"Catlogo de Libros"}),f.jsx("p",{className:"text-gray-600 text-lg",children:"Descubre y adquiere libros increbles"})]}),f.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-8 border border-gray-200",children:f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(ny,{className:"h-5 w-5 text-gray-400"})}),f.jsx("input",{type:"text",placeholder:"Buscar libros por ttulo, autor o descripcin...",value:o,onChange:w=>c(w.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-2xl text-black focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 bg-white"})]})}),p.length===0?f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center border border-gray-200",children:[f.jsx(rr,{className:"h-20 w-20 text-gray-300 mx-auto mb-4"}),f.jsx("h3",{className:"text-2xl font-bold text-gray-700 mb-2",children:n.length===0?"No hay libros disponibles":"No se encontraron libros"}),f.jsx("p",{className:"text-gray-600 mb-6",children:n.length===0?"Prximamente tendremos nuevos libros disponibles.":"Intenta con otros trminos de bsqueda."}),f.jsxs(ve,{to:"/",className:"bg-blue-500 text-white py-3 px-6 rounded-2xl font-semibold shadow-lg hover:bg-blue-600 transition-all duration-300 flex items-center gap-2 mx-auto w-fit",children:[f.jsx(sh,{className:"h-4 w-4"}),"Volver al Home"]})]}):f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:p.map(w=>f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden border border-gray-200 hover:shadow-xl transition-all duration-300 flex flex-col h-full",children:[f.jsxs("div",{className:"h-48 bg-gradient-to-br from-blue-100 to-purple-100 relative flex-shrink-0",children:[w.imagePreviews&&w.imagePreviews.length>0?f.jsx("img",{src:w.imagePreviews[0],alt:w.title,className:"w-full h-full object-cover"}):f.jsx("div",{className:"w-full h-full flex items-center justify-center",children:f.jsx(rr,{className:"h-16 w-16 text-gray-400"})}),f.jsxs("div",{className:"absolute top-3 right-3 bg-black/70 text-white px-3 py-1 rounded-full text-sm font-semibold",children:["$",w.price?.toFixed(0)||"0"]})]}),f.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[f.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[f.jsx("h3",{className:"text-base font-bold text-gray-800 line-clamp-2 flex-grow",children:w.title}),f.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full whitespace-nowrap flex-shrink-0",children:w.category})]}),f.jsxs("p",{className:"text-gray-600 text-sm mb-2 line-clamp-1",children:["por ",f.jsx("span",{className:"font-semibold",children:w.author})]}),f.jsx("p",{className:"text-gray-700 text-sm mb-3 line-clamp-2 flex-grow",children:w.description||"Descripcin no disponible"}),f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsxs("div",{className:"flex items-center gap-1 text-green-600 font-bold text-base",children:[f.jsx(wu,{className:"h-3 w-3"}),w.price?.toFixed(0)||"0.00"]}),f.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${w.isAvailable!==!1?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:w.isAvailable!==!1?"Disponible":"Agotado"})]}),f.jsxs("div",{className:"flex gap-2 mt-auto",children:[f.jsxs("button",{onClick:()=>y(w),className:"flex-1 bg-gray-100 text-gray-700 py-2 px-3 rounded-xl hover:bg-gray-200 transition-colors duration-300 flex items-center justify-center gap-1 border border-gray-300 text-sm",children:[f.jsx(Qk,{className:"h-3 w-3"}),f.jsx("span",{className:"hidden xs:inline",children:"Favorito"})]}),f.jsxs("button",{onClick:()=>g(w),disabled:w.isAvailable===!1,className:`flex-1 py-2 px-3 rounded-xl transition-colors duration-300 flex items-center justify-center gap-1 font-semibold text-sm ${w.isAvailable!==!1?"bg-green-500 text-white hover:bg-green-600 shadow-lg hover:shadow-xl":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[f.jsx(Xk,{className:"h-3 w-3"}),f.jsx("span",{className:"hidden xs:inline",children:"Comprar"})]})]})]})]},w.id))}),p.length>0&&f.jsx("div",{className:"mt-8 text-center text-gray-600 bg-white rounded-2xl p-4 shadow-lg",children:f.jsxs("p",{className:"text-lg",children:["Mostrando ",f.jsx("span",{className:"font-bold text-blue-600",children:p.length})," de"," ",f.jsx("span",{className:"font-bold text-blue-600",children:n.length})," libros",o&&` para "${o}"`]})})]})})}function Fj(){return f.jsxs("div",{className:"w-full min-h-screen bg-[#f0f0f0] flex flex-col",children:[f.jsx(zj,{}),f.jsx("div",{className:"w-full flex-1 text-black font-bold text-3xl",children:f.jsx(qj,{})}),f.jsx(Hj,{className:"flex justify-end"})]})}function Gj(){const n=qn(),[e,t]=j.useState({title:"",author:"",category:"",price:"",description:""}),[s,o]=j.useState([]),[c,d]=j.useState(!1),[p,g]=j.useState(null),y=["Ficcin","Ciencia Ficcin","Fantasa","Misterio","Romance","Terror","Historia","Ciencia","Tecnologa","Arte","Infantil","Poesa","Drama"];j.useEffect(()=>{const V=Fg(ht,G=>{G?g(G):ae.fire({icon:"warning",title:"Acceso requerido",text:"Debes iniciar sesin para publicar un libro"}).then(()=>{n("/")})});return()=>V()},[n]);const w=V=>{const{name:G,value:B}=V.target;t(J=>({...J,[G]:B}))},x=V=>{const G=Array.from(V.target.files);if(s.length+G.length>5){ae.fire({icon:"warning",title:"Lmite de imgenes",text:"Solo puedes subir hasta 5 imgenes",timer:3e3});return}const B=G.filter(J=>J.type.startsWith("image/"));if(B.length!==G.length){ae.fire({icon:"error",title:"Archivo no vlido",text:"Solo se permiten archivos de imagen",timer:3e3});return}B.forEach(J=>{const K=new FileReader;K.onload=X=>{o(pe=>[...pe,{file:J,preview:X.target.result}])},K.readAsDataURL(J)})},T=V=>{o(G=>G.filter((B,J)=>J!==V))},N=async V=>{if(V.preventDefault(),!p){ae.fire({icon:"error",title:"Error de autenticacin",text:"Debes iniciar sesin para publicar un libro"});return}if(d(!0),!e.title||!e.author||!e.category||!e.price){ae.fire({icon:"error",title:"Campos requeridos",text:"Por favor completa todos los campos obligatorios",timer:3e3}),d(!1);return}try{const G=s.map(J=>J.preview),B={title:e.title.trim(),author:e.author.trim(),category:e.category,price:parseFloat(e.price),description:e.description.trim()||"",hasImages:s.length>0,imagesCount:s.length,imagePreviews:G,userId:p.uid,userEmail:p.email,createdAt:yg(),updatedAt:yg()};await D0(Si(Ht,"books"),B),ae.fire({icon:"success",title:"Libro publicado!",text:"La informacin del libro ha sido guardada exitosamente",timer:3e3,showConfirmButton:!1}),t({title:"",author:"",category:"",price:"",description:""}),o([]),setTimeout(()=>{n("/books")},2e3)}catch(G){console.error("Error al publicar libro:",G),ae.fire({icon:"error",title:"Error",text:"Hubo un error al publicar el libro. Intenta nuevamente.",timer:3e3})}finally{d(!1)}};return p?f.jsx("section",{className:"flex items-center justify-center min-h-screen bg-[#f0f0f0] py-8",children:f.jsxs("div",{className:"w-full max-w-2xl bg-white rounded-3xl shadow-2xl p-8 border border-gray-200 mx-4",children:[f.jsx("div",{className:"flex justify-center mb-6",children:f.jsx("img",{src:"/logo.png",alt:"logo",className:"w-40 h-40 rounded-2xl"})}),f.jsx("h2",{className:"text-4xl font-bold text-center text-gray-800 mb-2",children:"Vende tu Libro"}),f.jsx("p",{className:"text-center text-gray-600 mb-8",children:"Completa la informacin de tu libro para publicarlo"}),f.jsxs("form",{onSubmit:N,className:"space-y-6 text-black",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Nombre del Libro *"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(rr,{className:"h-5 w-5 text-gray-400"})}),f.jsx("input",{type:"text",name:"title",value:e.title,onChange:w,required:!0,placeholder:"Ej: Cien aos de soledad",minLength:"3",maxLength:"100",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 bg-white"})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Autor *"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(Uh,{className:"h-5 w-5 text-gray-400"})}),f.jsx("input",{type:"text",name:"author",value:e.author,onChange:w,required:!0,placeholder:"Ej: Gabriel Garca Mrquez",minLength:"3",maxLength:"100",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 bg-white"})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Categora *"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(pT,{className:"h-5 w-5 text-gray-400"})}),f.jsxs("select",{name:"category",value:e.category,onChange:w,required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 bg-white appearance-none",children:[f.jsx("option",{value:"",children:"Selecciona una categora"}),y.map((V,G)=>f.jsx("option",{value:V,children:V},G))]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Precio *"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(wu,{className:"h-5 w-5 text-gray-400"})}),f.jsx("input",{type:"number",name:"price",value:e.price,onChange:w,required:!0,placeholder:"0.00",min:"0",step:"0.01",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 bg-white"})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Descripcin del Libro"}),f.jsx("textarea",{name:"description",value:e.description,onChange:w,placeholder:"Describe el libro, su condicin, y cualquier detalle relevante...",rows:"4",maxLength:"500",className:"w-full px-4 py-3 border border-gray-300 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 bg-white resize-none"}),f.jsxs("div",{className:"text-right text-sm text-gray-500",children:[e.description.length,"/500 caracteres"]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Imgenes del Libro (Mximo 5)"}),f.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-2xl p-6 text-center hover:border-blue-400 transition-colors duration-300 bg-white",children:[f.jsx("input",{type:"file",id:"image-upload",multiple:!0,accept:"image/*",onChange:x,className:"hidden"}),f.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer",children:[f.jsx(yT,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),f.jsx("p",{className:"text-gray-600",children:"Haz clic para subir imgenes"}),f.jsx("p",{className:"text-sm text-gray-500",children:"PNG, JPG, JPEG (Mx. 5 imgenes)"})]})]}),s.length>0&&f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mt-4",children:s.map((V,G)=>f.jsxs("div",{className:"relative group",children:[f.jsx("img",{src:V.preview,alt:`Preview ${G+1}`,className:"w-full h-32 object-cover rounded-lg shadow-md"}),f.jsx("button",{type:"button",onClick:()=>T(G),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:f.jsx(gT,{className:"h-3 w-3"})})]},G))})]}),f.jsx("button",{type:"submit",disabled:c,className:"w-full bg-blue-500 text-white py-3 px-4 rounded-2xl font-semibold shadow-lg hover:bg-blue-600 transform hover:scale-105 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:c?f.jsxs("div",{className:"flex items-center justify-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Publicando..."]}):"Publicar Libro"})]})]})}):f.jsx("div",{className:"min-h-screen bg-[#f0f0f0] flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600 text-lg",children:"Verificando autenticacin..."})]})})}function $j(){const{id:n}=X0(),e=qn(),[t,s]=j.useState({title:"",author:"",category:"",price:"",description:""}),[o,c]=j.useState([]),[d,p]=j.useState(!1),[g,y]=j.useState(!0),[w,x]=j.useState(null),T=["Ficcin","No Ficcin","Ciencia Ficcin","Fantasa","Misterio","Romance","Terror","Biografa","Historia","Ciencia","Tecnologa","Arte","Autoayuda","Negocios","Cocina","Viajes","Infantil","Juvenil","Poesa","Drama"];j.useEffect(()=>{const K=Fg(ht,X=>{X?(x(X),N(X.uid)):(x(null),y(!1),ae.fire({icon:"warning",title:"Acceso requerido",text:"Debes iniciar sesin para editar un libro"}).then(()=>{e("/books")}))});return()=>K()},[n,e]);const N=async K=>{try{const X=_r(Ht,"books",n),pe=await mf(X);if(pe.exists()){const oe=pe.data();if(oe.userId!==K){ae.fire({icon:"error",title:"Acceso denegado",text:"No tienes permiso para editar este libro"}),e("/books");return}s({title:oe.title||"",author:oe.author||"",category:oe.category||"",price:oe.price?.toString()||"",description:oe.description||""}),oe.imagePreviews&&oe.imagePreviews.length>0&&c(oe.imagePreviews.map((ie,I)=>({preview:ie})))}else ae.fire({icon:"error",title:"Libro no encontrado",text:"El libro que intentas editar no existe"}),e("/books")}catch(X){console.error("Error cargando libro:",X),ae.fire({icon:"error",title:"Error",text:"No se pudo cargar el libro"})}finally{y(!1)}},V=K=>{const{name:X,value:pe}=K.target;s(oe=>({...oe,[X]:pe}))},G=K=>{const X=Array.from(K.target.files);if(o.length+X.length>5){ae.fire({icon:"warning",title:"Lmite de imgenes",text:"Solo puedes subir hasta 5 imgenes",timer:3e3});return}const pe=X.filter(oe=>oe.type.startsWith("image/"));if(pe.length!==X.length){ae.fire({icon:"error",title:"Archivo no vlido",text:"Solo se permiten archivos de imagen",timer:3e3});return}pe.forEach(oe=>{const ie=new FileReader;ie.onload=I=>{c(A=>[...A,{file:oe,preview:I.target.result}])},ie.readAsDataURL(oe)})},B=K=>{c(X=>X.filter((pe,oe)=>oe!==K))},J=async K=>{if(K.preventDefault(),!w){ae.fire({icon:"error",title:"Error de autenticacin",text:"Debes iniciar sesin para editar el libro"});return}if(p(!0),!t.title||!t.author||!t.category||!t.price){ae.fire({icon:"error",title:"Campos requeridos",text:"Por favor completa todos los campos obligatorios",timer:3e3}),p(!1);return}try{const X=o.map(oe=>oe.preview),pe={title:t.title.trim(),author:t.author.trim(),category:t.category,price:parseFloat(t.price),description:t.description.trim()||"",hasImages:o.length>0,imagesCount:o.length,imagePreviews:X,updatedAt:yg()};await j0(_r(Ht,"books",n),pe),ae.fire({icon:"success",title:"Libro actualizado!",text:"La informacin del libro ha sido actualizada exitosamente",timer:3e3,showConfirmButton:!1}),setTimeout(()=>{e("/books")},2e3)}catch(X){console.error("Error actualizando libro:",X),ae.fire({icon:"error",title:"Error",text:"Hubo un error al actualizar el libro. Intenta nuevamente.",timer:3e3})}finally{p(!1)}};return g?f.jsx("div",{className:"min-h-screen bg-[#f0f0f0] flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600 text-lg",children:"Cargando libro..."})]})}):f.jsx("section",{className:"flex items-center justify-center min-h-screen bg-[#f0f0f0] py-8",children:f.jsxs("div",{className:"w-full max-w-2xl bg-white rounded-3xl shadow-2xl p-8 border border-gray-200 mx-4",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsxs("button",{onClick:()=>e("/books"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-800 transition-colors duration-300",children:[f.jsx(qk,{className:"h-5 w-5"}),"Volver"]}),f.jsx("div",{className:"flex justify-center flex-1",children:f.jsx("img",{src:"/logo.png",alt:"logo",className:"w-20 h-20 rounded-2xl"})}),f.jsx("div",{className:"w-20"})]}),f.jsx("h2",{className:"text-4xl font-bold text-center text-gray-800 mb-2",children:"Editar Libro"}),f.jsx("p",{className:"text-center text-gray-600 mb-8",children:"Actualiza la informacin de tu libro"}),f.jsxs("form",{onSubmit:J,className:"space-y-6 text-black",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Nombre del Libro *"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(rr,{className:"h-5 w-5 text-gray-400"})}),f.jsx("input",{type:"text",name:"title",value:t.title,onChange:V,required:!0,placeholder:"Ej: Cien aos de soledad",minLength:"3",maxLength:"100",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 bg-white"})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Autor *"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(Uh,{className:"h-5 w-5 text-gray-400"})}),f.jsx("input",{type:"text",name:"author",value:t.author,onChange:V,required:!0,placeholder:"Ej: Gabriel Garca Mrquez",minLength:"3",maxLength:"100",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 bg-white"})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Categora *"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(pT,{className:"h-5 w-5 text-gray-400"})}),f.jsxs("select",{name:"category",value:t.category,onChange:V,required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 bg-white appearance-none",children:[f.jsx("option",{value:"",children:"Selecciona una categora"}),T.map((K,X)=>f.jsx("option",{value:K,children:K},X))]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Precio *"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(wu,{className:"h-5 w-5 text-gray-400"})}),f.jsx("input",{type:"number",name:"price",value:t.price,onChange:V,required:!0,placeholder:"0.00",min:"0",step:"0.01",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 bg-white"})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Descripcin del Libro"}),f.jsx("textarea",{name:"description",value:t.description,onChange:V,placeholder:"Describe el libro, su condicin, y cualquier detalle relevante...",rows:"4",maxLength:"500",className:"w-full px-4 py-3 border border-gray-300 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 bg-white resize-none"}),f.jsxs("div",{className:"text-right text-sm text-gray-500",children:[t.description.length,"/500 caracteres"]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Imgenes del Libro (Mximo 5)"}),f.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-2xl p-6 text-center hover:border-blue-400 transition-colors duration-300 bg-white",children:[f.jsx("input",{type:"file",id:"image-upload",multiple:!0,accept:"image/*",onChange:G,className:"hidden"}),f.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer",children:[f.jsx(yT,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),f.jsx("p",{className:"text-gray-600",children:"Haz clic para subir imgenes"}),f.jsx("p",{className:"text-sm text-gray-500",children:"PNG, JPG, JPEG (Mx. 5 imgenes) - Se guardarn localmente"})]})]}),o.length>0&&f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mt-4",children:o.map((K,X)=>f.jsxs("div",{className:"relative group",children:[f.jsx("img",{src:K.preview,alt:`Preview ${X+1}`,className:"w-full h-32 object-cover rounded-lg shadow-md"}),f.jsx("button",{type:"button",onClick:()=>B(X),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:f.jsx(gT,{className:"h-3 w-3"})})]},X))})]}),f.jsx("button",{type:"submit",disabled:d,className:"w-full bg-blue-500 text-white py-3 px-4 rounded-2xl font-semibold shadow-lg hover:bg-blue-600 transform hover:scale-105 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:d?f.jsxs("div",{className:"flex items-center justify-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Actualizando..."]}):"Actualizar Libro"})]})]})})}function Yj(){const[n,e]=j.useState([]),[t,s]=j.useState(!0),[o,c]=j.useState(""),[d,p]=j.useState(null);j.useEffect(()=>{const T=Fg(ht,N=>{N?(p(N),g(N.uid)):(p(null),e([]),s(!1))});return()=>T()},[]);const g=async T=>{try{s(!0);const N=zo(Si(Ht,"books"),Kx("userId","==",T),Ho("createdAt","desc")),V=await k0(N),G=[];V.forEach(B=>{G.push({id:B.id,...B.data()})}),e(G)}catch(N){console.error("Error cargando libros:",N),N.code!=="failed-precondition"&&N.code!=="not-found"&&ae.fire({icon:"error",title:"Error",text:"No se pudieron cargar los libros"})}finally{s(!1)}},y=async(T,N)=>{if((await ae.fire({title:`Eliminar "${N}"?`,text:"Esta accin no se podr revertir",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"S, eliminar",cancelButtonText:"Cancelar"})).isConfirmed)try{await Wx(_r(Ht,"books",T)),e(n.filter(G=>G.id!==T)),ae.fire({icon:"success",title:"Eliminado!",text:"El libro ha sido eliminado",timer:2e3})}catch(G){console.error("Error eliminando libro:",G),ae.fire({icon:"error",title:"Error",text:"No se pudo eliminar el libro"})}},w=n.filter(T=>T.title.toLowerCase().includes(o.toLowerCase())||T.author.toLowerCase().includes(o.toLowerCase())||T.description.toLowerCase().includes(o.toLowerCase())),x=T=>T?T.toDate().toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}):"Fecha no disponible";return!d&&!t?f.jsx("div",{className:"min-h-screen bg-[#f0f0f0] flex items-center justify-center",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center border border-gray-200 max-w-md",children:[f.jsx(rr,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),f.jsx("h3",{className:"text-2xl font-bold text-gray-700 mb-2",children:"Acceso requerido"}),f.jsx("p",{className:"text-gray-600 mb-6",children:"Debes iniciar sesin para ver tus libros publicados."}),f.jsxs(ve,{to:"/",className:"bg-blue-500 text-white py-3 px-6 rounded-2xl font-semibold shadow-lg hover:bg-blue-600 transition-all duration-300 flex items-center gap-2 justify-center",children:[f.jsx(sh,{className:"h-4 w-4"}),"Volver al Home"]})]})}):t?f.jsx("div",{className:"min-h-screen bg-[#f0f0f0] flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600 text-lg",children:"Cargando libros..."})]})}):f.jsx("div",{className:"min-h-screen bg-[#f0f0f0] py-8",children:f.jsxs("div",{className:"container mx-auto px-4",children:[f.jsxs("div",{className:"text-center mb-8 relative",children:[f.jsxs(ve,{to:"/",className:"absolute left-0 top-1/2 transform -translate-y-1/2 bg-blue-500 text-white py-2 px-4 rounded-2xl font-semibold shadow-lg hover:bg-blue-600 transition-all duration-300 flex items-center gap-2",children:[f.jsx(sh,{className:"h-4 w-4"}),"Volver al Home"]}),f.jsx("div",{className:"flex justify-center mb-4",children:f.jsx("img",{src:"/logo.png",alt:"logo",className:"w-24 h-24 rounded-2xl"})}),f.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:"Mis Libros Publicados"}),f.jsx("p",{className:"text-gray-600 text-lg",children:"Gestiona tus libros publicados"})]}),f.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6 border border-gray-200",children:f.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center",children:[f.jsxs("div",{className:"relative flex-1 w-full",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(ny,{className:"h-5 w-5 text-gray-400"})}),f.jsx("input",{type:"text",placeholder:"Buscar por ttulo, autor o descripcin...",value:o,onChange:T=>c(T.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-2xl text-black focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 bg-white"})]}),f.jsxs(ve,{to:"/create",className:"bg-blue-500 text-white py-3 px-6 rounded-2xl font-semibold shadow-lg hover:bg-blue-600 transform hover:scale-105 transition-all duration-300 flex items-center gap-2 whitespace-nowrap",children:[f.jsx(bb,{className:"h-4 w-4"}),"Agregar Libro"]})]})}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[f.jsxs("div",{className:"bg-white rounded-2xl p-4 text-center border border-gray-200",children:[f.jsx("p",{className:"text-2xl font-bold text-blue-600",children:n.length}),f.jsx("p",{className:"text-gray-600",children:"Total de libros"})]}),f.jsxs("div",{className:"bg-white rounded-2xl p-4 text-center border border-gray-200",children:[f.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.filter(T=>T.isAvailable!==!1).length}),f.jsx("p",{className:"text-gray-600",children:"Disponibles"})]}),f.jsxs("div",{className:"bg-white rounded-2xl p-4 text-center border border-gray-200",children:[f.jsx("p",{className:"text-2xl font-bold text-purple-600",children:n.filter(T=>T.hasImages).length}),f.jsx("p",{className:"text-gray-600",children:"Con imgenes"})]})]}),w.length===0?f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center border border-gray-200",children:[f.jsx(rr,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),f.jsx("h3",{className:"text-2xl font-bold text-gray-700 mb-2",children:n.length===0?"No hay libros publicados":"No se encontraron libros"}),f.jsx("p",{className:"text-gray-600 mb-6",children:n.length===0?"Comienza publicando tu primer libro para venderlo.":"Intenta con otros trminos de bsqueda."}),f.jsxs("div",{className:"flex gap-4 justify-center",children:[f.jsxs(ve,{to:"/",className:"bg-gray-500 text-white py-3 px-6 rounded-2xl font-semibold shadow-lg hover:bg-gray-600 transition-all duration-300 flex items-center gap-2",children:[f.jsx(sh,{className:"h-4 w-4"}),"Volver al Home"]}),n.length===0&&f.jsxs(ve,{to:"/create",className:"bg-blue-500 text-white py-3 px-6 rounded-2xl font-semibold shadow-lg hover:bg-blue-600 transition-all duration-300 flex items-center gap-2",children:[f.jsx(bb,{className:"h-4 w-4"}),"Publicar Primer Libro"]})]})]}):f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map(T=>f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden border border-gray-200 hover:shadow-xl transition-all duration-300",children:[f.jsxs("div",{className:"h-48 bg-gray-100 relative",children:[T.imagePreviews&&T.imagePreviews.length>0?f.jsx("img",{src:T.imagePreviews[0],alt:T.title,className:"w-full h-full object-cover"}):f.jsx("div",{className:"w-full h-full flex items-center justify-center",children:f.jsx(rr,{className:"h-16 w-16 text-gray-400"})}),f.jsxs("div",{className:"absolute top-3 right-3 bg-black/50 text-white px-2 py-1 rounded-full text-sm",children:[T.imagesCount||0," img"]})]}),f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex justify-between items-start mb-2",children:[f.jsx("h3",{className:"text-xl font-bold text-gray-800 line-clamp-2 flex-1",children:T.title}),f.jsx("span",{className:"bg-blue-100 text-blue-800 text-sm px-2 py-1 rounded-full ml-2 whitespace-nowrap",children:T.category})]}),f.jsxs("p",{className:"text-gray-600 mb-2 flex items-center gap-1",children:[f.jsx(rr,{className:"h-4 w-4"}),T.author]}),f.jsx("p",{className:"text-gray-700 text-sm mb-4 line-clamp-2",children:T.description||"Sin descripcin"}),f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsxs("div",{className:"flex items-center gap-1 text-green-600 font-bold",children:[f.jsx(wu,{className:"h-4 w-4"}),T.price?.toFixed(0)||"0.00"]}),f.jsx("span",{className:"text-sm text-gray-500",children:x(T.createdAt)})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:()=>{ae.fire({title:T.title,html:`
                            <div class="text-left">
                              <p><strong>Autor:</strong> ${T.author}</p>
                              <p><strong>Categora:</strong> ${T.category}</p>
                              <p><strong>Precio:</strong> $${T.price?.toFixed(0)||"0.00"}</p>
                              <p><strong>Descripcin:</strong> ${T.description||"Sin descripcin"}</p>
                              <p><strong>Publicado:</strong> ${x(T.createdAt)}</p>
                              ${T.hasImages?`<p><strong>Imgenes:</strong> ${T.imagesCount} subidas</p>`:""}
                            </div>
                          `,confirmButtonText:"Cerrar",width:600})},className:"flex-1 bg-blue-500 text-white py-2 px-4 rounded-xl hover:bg-blue-600 transition-colors duration-300 flex items-center justify-center gap-2",children:[f.jsx(Lh,{className:"h-4 w-4"}),"Ver"]}),f.jsxs(ve,{to:`/edit-book/${T.id}`,className:"flex-1 bg-yellow-500 text-white py-2 px-4 rounded-xl hover:bg-yellow-600 transition-colors duration-300 flex items-center justify-center gap-2",children:[f.jsx(Kk,{className:"h-4 w-4"}),"Editar"]}),f.jsxs("button",{onClick:()=>y(T.id,T.title),className:"flex-1 bg-red-500 text-white py-2 px-4 rounded-xl hover:bg-red-600 transition-colors duration-300 flex items-center justify-center gap-2",children:[f.jsx(nj,{className:"h-4 w-4"}),"Eliminar"]})]})]})]},T.id))}),w.length>0&&f.jsxs("div",{className:"mt-6 text-center text-gray-600",children:["Mostrando ",w.length," de ",n.length," libros",o&&` para "${o}"`]})]})})}function wT(n){return Be({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M410.3 231l11.3-11.3-33.9-33.9-62.1-62.1L291.7 89.8l-11.3 11.3-22.6 22.6L58.6 322.9c-10.4 10.4-18 23.3-22.2 37.4L1 480.7c-2.5 8.4-.2 17.5 6.1 23.7s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L387.7 253.7 410.3 231zM160 399.4l-9.1 22.7c-4 3.1-8.5 5.4-13.3 6.9L59.4 452l23-78.1c1.4-4.9 3.8-9.4 6.9-13.3l22.7-9.1 0 32c0 8.8 7.2 16 16 16l32 0zM362.7 18.7L348.3 33.2 325.7 55.8 314.3 67.1l33.9 33.9 62.1 62.1 33.9 33.9 11.3-11.3 22.6-22.6 14.5-14.5c25-25 25-65.5 0-90.5L453.3 18.7c-25-25-65.5-25-90.5 0zm-47.4 168l-144 144c-6.2 6.2-16.4 6.2-22.6 0s-6.2-16.4 0-22.6l144-144c6.2-6.2 16.4-6.2 22.6 0s6.2 16.4 0 22.6z"},child:[]}]})(n)}function Kj(){const[n,e]=j.useState({username:"",book:"",opinion:"",score:""}),t=o=>{e({...n,[o.target.name]:o.target.value})},s=async o=>{o.preventDefault();const{username:c,book:d,opinion:p,score:g}=n;if(!c||!d||!p||!g)return ae.fire("Error","Todos los campos son obligatorios","error");try{await D0(Si(Ht,"Opinions"),{username:c,book:d,opinion:p,score:parseFloat(g),date:new Date}),ae.fire("xito!","Tu opinin se ha guardado correctamente ","success"),e({username:"",book:"",opinion:"",score:""})}catch(y){console.error("Error al guardar opinin: ",y),ae.fire("Error","No se pudo guardar la opinin","error")}};return f.jsx("section",{className:"flex items-center justify-center min-h-screen bg-[#f0f0f0]",children:f.jsxs("div",{className:"w-full max-w-md bg-white/10 backdrop-blur-lg rounded-3xl shadow-2xl p-8 border border-white/20",children:[f.jsx("div",{className:"flex justify-center mb-6",children:f.jsx("img",{src:"../../public/logo.png",alt:"logo",className:"w-40 h-40 rounded-2xl"})}),f.jsx("h2",{className:"text-3xl font-extrabold text-center text-black mb-6",children:"Deja tu opinin sobre algn libro que leste!"}),f.jsxs("form",{onSubmit:s,className:"space-y-5",children:[f.jsxs("label",{className:" w-full input input-bordered rounded-2xl border-black flex items-center gap-2 bg-white/10 text-black placeholder-black",children:[f.jsx("svg",{className:"h-5 opacity-70",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:f.jsxs("g",{strokeLinejoin:"round",strokeLinecap:"round",strokeWidth:"2.5",fill:"none",stroke:"currentColor",children:[f.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),f.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),f.jsx("input",{type:"text",name:"username",required:!0,placeholder:"Comparte tu nombre...",minLength:"3",maxLength:"30",autocomplete:"off",className:"grow bg-transparent focus:outline-none",value:n.username,onChange:t})]}),f.jsxs("label",{className:" w-full input input-bordered rounded-2xl border-black flex items-center gap-2 bg-white/10 text-black placeholder-black",children:[f.jsx("svg",{className:"h-5 opacity-70",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:f.jsx(rr,{className:"text-2xl"})}),f.jsx("input",{type:"text",name:"book",required:!0,placeholder:"Nombre del Libro...",minLength:"3",maxLength:"30",autocomplete:"off",title:"Only letters, numbers or dash",className:"grow bg-transparent focus:outline-none",value:n.book,onChange:t})]}),f.jsxs("label",{className:"w-full  border rounded-2xl border-black flex items-start gap-2 bg-white/10 text-black",children:[f.jsx(wT,{className:"text-3xl pl-[3%] pt-[1.5%] opacity-70"}),f.jsx("textarea",{name:"opinion",required:!0,placeholder:"Escribe tu opinin aqu...",minLength:"3",maxLength:"500",className:"grow bg-transparent focus:outline-none resize-none h-32 leading-relaxe pr-6",value:n.opinion,onChange:t})]}),f.jsxs("label",{className:" w-full input input-bordered rounded-2xl border-black flex items-center gap-2 bg-white/10 text-black placeholder-black",children:[f.jsx("svg",{className:"h-5 opacity-70",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:f.jsx(mT,{className:"text-2xl"})}),f.jsx("input",{type:"number",name:"score",required:!0,placeholder:"Del 0.5 al 5 cuntas estrellas le das al libro...",pattern:"[A-Za-z][A-Za-z0-9\\-]*",min:"0.5",max:"5",step:"0.5",title:"Only letters, numbers or dash",className:"grow bg-transparent focus:outline-none",value:n.score,onChange:t})]}),f.jsx("button",{type:"submit",className:"btn btn-dash btn-info w-full rounded-xl shadow-lg transition-all duration-500 hover:scale-105",children:"Enviar Opinin"}),f.jsx(ve,{to:"/opinions",className:"font-medium text-gray-600 hover:text-gray-300 hover:underline text-center",children:"Ver Opiniones"})]})]})})}function Qj(){const[n,e]=j.useState([]),t=qn();j.useEffect(()=>{const o=zo(Si(Ht,"Opinions"),Ho("date","desc")),c=wR(o,d=>{const p=d.docs.map(g=>({id:g.id,...g.data()}));e(p)});return()=>c()},[]);const s=async o=>{window.confirm("Seguro que deseas eliminar esta opinin?")&&await Wx(_r(Ht,"Opinions",o))};return f.jsx("section",{className:"flex items-center justify-center min-h-screen bg-[#f0f0f0]",children:f.jsxs("div",{className:"w-full max-w-2xl bg-white/10 backdrop-blur-lg rounded-3xl shadow-2xl p-8 border border-white/20",children:[f.jsx("h2",{className:"text-3xl font-extrabold text-center text-black mb-6",children:"Opiniones de lectores "}),f.jsx("p",{className:"text-black p-2 text-center",children:"Aqu puedes encontrar todas las opiniones de diferentes lectores, aprovecha y revisa un poco, capz alguna te interese!"}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx(ve,{to:"/",className:"text-center text-black border-blue-600 border-2 p-2 bg-gray-100 hover:bg-gray-200 mb-2 rounded",children:"Volver a Home"}),f.jsx(ve,{to:"/createopinion",className:"text-center text-white p-2 bg-blue-600 hover:bg-blue-500 mb-2 rounded",children:"+ Crear Opinin"})]}),n.length===0?f.jsx("p",{className:"text-center text-gray-600",children:"An no hay opiniones "}):f.jsx("ul",{className:"space-y-4",children:n.map(o=>f.jsxs("li",{className:"p-4 bg-white rounded-xl shadow-md border border-gray-900",children:[f.jsxs("h3",{className:"font-bold text-lg text-black",children:[o.book," ",f.jsxs("span",{className:"text-yellow-500",children:[" ",o.score]})]}),f.jsxs("p",{className:"text-gray-700 italic",children:['"',o.opinion,'"']}),f.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Por ",f.jsx("b",{children:o.username})," "," ",o.date?.toDate().toLocaleDateString()]}),f.jsxs("div",{className:"flex gap-2 mt-3",children:[f.jsx("button",{onClick:()=>t(`/opinions/${o.id}`),className:"px-3 py-1 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Ver"}),f.jsx("button",{onClick:()=>t(`/opinions/edit/${o.id}`),className:"px-3 py-1 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600",children:"Editar"}),f.jsx("button",{onClick:()=>s(o.id),className:"px-3 py-1 bg-red-500 text-white rounded-lg hover:bg-red-600",children:"Eliminar"})]})]},o.id))})]})})}function Xj(){const{id:n}=X0(),[e,t]=j.useState(null),s=qn();return j.useEffect(()=>{(async()=>{const c=_r(Ht,"Opinions",n),d=await mf(c);d.exists()?t({id:d.id,...d.data()}):console.log("No existe la opinin")})()},[n]),e?f.jsx("section",{className:"flex items-center justify-center min-h-screen bg-[#f0f0f0]",children:f.jsxs("div",{className:"max-w-lg w-full bg-white rounded-xl shadow-lg p-6",children:[f.jsx("h2",{className:"text-2xl font-bold text-black mb-4",children:e.book}),f.jsxs("p",{className:"text-gray-700 italic mb-3",children:['"',e.opinion,'"']}),f.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[f.jsx("b",{children:"Usuario:"})," ",e.username]}),f.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[f.jsx("b",{children:"Puntuacin:"}),"  ",e.score]}),f.jsx("p",{className:"text-sm text-gray-500",children:e.date?.toDate().toLocaleDateString()}),f.jsx("button",{onClick:()=>s(-1),className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Volver"})]})}):f.jsx("p",{className:"text-center mt-10",children:"Cargando opinin..."})}function Wj(){const{id:n}=X0(),[e,t]=j.useState({username:"",book:"",opinion:"",score:""}),s=qn();j.useEffect(()=>{(async()=>{try{const p=_r(Ht,"Opinions",n),g=await mf(p);g.exists()?t(g.data()):(ae.fire("Error","No se encontr la opinin","error"),s("/opinions"))}catch(p){console.error("Error al obtener la opinin:",p),ae.fire("Error","No se pudo cargar la opinin","error")}})()},[n,s]);const o=d=>{t({...e,[d.target.name]:d.target.value})},c=async d=>{d.preventDefault();const{username:p,book:g,opinion:y,score:w}=e;if(!p||!g||!y||!w)return ae.fire("Error","Todos los campos son obligatorios","error");try{const x=_r(Ht,"Opinions",n);await j0(x,{username:p,book:g,opinion:y,score:parseFloat(w)}),ae.fire("xito!","La opinin ha sido actualizada ","success"),s("/opinions")}catch(x){console.error("Error al actualizar opinin:",x),ae.fire("Error","No se pudo actualizar la opinin","error")}};return f.jsx("section",{className:"flex items-center justify-center min-h-screen bg-[#f0f0f0]",children:f.jsxs("div",{className:"w-full max-w-md bg-white/10 backdrop-blur-lg rounded-3xl shadow-2xl p-8 border border-white/20",children:[f.jsx("div",{className:"flex justify-center mb-6",children:f.jsx("img",{src:"../../public/logo.png",alt:"logo",className:"w-40 h-40 rounded-2xl"})}),f.jsx("h2",{className:"text-3xl font-extrabold text-center text-black mb-6",children:"Edita tu opinin"}),f.jsxs("form",{onSubmit:c,className:"space-y-5",children:[f.jsxs("label",{className:"w-full input input-bordered rounded-2xl border-black flex items-center gap-2 bg-white/10 text-black placeholder-black",children:[f.jsx("svg",{className:"h-5 opacity-70",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:f.jsxs("g",{strokeLinejoin:"round",strokeLinecap:"round",strokeWidth:"2.5",fill:"none",stroke:"currentColor",children:[f.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),f.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),f.jsx("input",{type:"text",name:"username",required:!0,placeholder:"Tu nombre...",minLength:"3",maxLength:"30",autocomplete:"off",className:"grow bg-transparent focus:outline-none",value:e.username,onChange:o})]}),f.jsxs("label",{className:"w-full input input-bordered rounded-2xl border-black flex items-center gap-2 bg-white/10 text-black placeholder-black",children:[f.jsx(rr,{className:"text-2xl"}),f.jsx("input",{type:"text",name:"book",required:!0,placeholder:"Nombre del Libro...",minLength:"3",maxLength:"30",autocomplete:"off",className:"grow bg-transparent focus:outline-none",value:e.book,onChange:o})]}),f.jsxs("label",{className:"w-full border rounded-2xl border-black flex items-start gap-2 bg-white/10 text-black",children:[f.jsx(wT,{className:"text-3xl pl-[3%] pt-[1.5%] opacity-70"}),f.jsx("textarea",{name:"opinion",required:!0,placeholder:"Edita tu opinin aqu...",minLength:"3",maxLength:"500",className:"grow bg-transparent focus:outline-none resize-none h-32 pr-6",value:e.opinion,onChange:o})]}),f.jsxs("label",{className:"w-full input input-bordered rounded-2xl border-black flex items-center gap-2 bg-white/10 text-black placeholder-black",children:[f.jsx(mT,{className:"text-2xl"}),f.jsx("input",{type:"number",name:"score",required:!0,placeholder:"Del 0.5 al 5 cuntas estrellas le das...",min:"0.5",max:"5",step:"0.5",className:"grow bg-transparent focus:outline-none",value:e.score,onChange:o})]}),f.jsx("button",{type:"submit",className:"btn btn-dash btn-info w-full rounded-xl shadow-lg transition-all duration-500 hover:scale-105",children:"Guardar Cambios"}),f.jsx(ve,{to:"/opinions",className:"font-medium text-gray-600 hover:text-gray-300 hover:underline text-center block",children:"Volver a Opiniones"})]})]})})}const Zj=({sessions:n,filters:e})=>{const[t,s]=j.useState(!1),o=async()=>{s(!0);try{if(!window.jspdf){const w=document.createElement("script");w.src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js",document.head.appendChild(w),await new Promise((x,T)=>{w.onload=x,w.onerror=T})}if(!window.jspdf.jsPDF.API.autoTable){const w=document.createElement("script");w.src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js",document.head.appendChild(w),await new Promise((x,T)=>{w.onload=x,w.onerror=T})}const{jsPDF:c}=window.jspdf,d=new c("l","mm","a4");d.setFontSize(18),d.setTextColor(37,99,235),d.text("Reporte de Sesiones de Usuarios",15,20),d.setFontSize(10),d.setTextColor(100,100,100),d.text(`Generado el: ${new Date().toLocaleString("es-ES")}`,15,28);let p=35;(e.userEmail||e.startDate||e.endDate)&&(d.setFontSize(11),d.setTextColor(0,0,0),d.text("Filtros aplicados:",15,p),p+=6,d.setFontSize(9),d.setTextColor(80,80,80),e.userEmail&&(d.text(` Email: ${e.userEmail}`,20,p),p+=5),e.startDate&&(d.text(` Fecha desde: ${e.startDate}`,20,p),p+=5),e.endDate&&(d.text(` Fecha hasta: ${e.endDate}`,20,p),p+=5),p+=3),d.setFontSize(10),d.setTextColor(0,0,0),d.text(`Total de sesiones: ${n.length}`,15,p),p+=8;const g=n.map(w=>{const x=w.providers&&w.providers.length>0?w.providers.map(B=>({"google.com":"Google","github.com":"GitHub","facebook.com":"Facebook",password:"Email"})[B]||B).join(", "):"Desconocido",T=w.loginTime?w.loginTime.seconds?new Date(w.loginTime.seconds*1e3).toLocaleString("es-ES"):new Date(w.loginTime).toLocaleString("es-ES"):"N/A",N=w.logoutTime?w.logoutTime.seconds?new Date(w.logoutTime.seconds*1e3).toLocaleString("es-ES"):new Date(w.logoutTime).toLocaleString("es-ES"):"En sesin",V=w.duration?(()=>{const B=Math.floor(w.duration/3600),J=Math.floor(w.duration%3600/60),K=w.duration%60;return B>0?`${B}h ${J}m ${K}s`:J>0?`${J}m ${K}s`:`${K}s`})():"En curso",G=w.status==="active"?"Activa":"Finalizada";return[w.userName||"N/A",w.userEmail||"N/A",x,T,N,V,G]});d.autoTable({startY:p,head:[["Usuario","Email","Proveedores","Entrada","Salida","Duracin","Estado"]],body:g,theme:"striped",headStyles:{fillColor:[37,99,235],textColor:255,fontStyle:"bold",fontSize:9},bodyStyles:{fontSize:8,textColor:[50,50,50]},alternateRowStyles:{fillColor:[245,247,250]},columnStyles:{0:{cellWidth:30},1:{cellWidth:45},2:{cellWidth:30},3:{cellWidth:40},4:{cellWidth:40},5:{cellWidth:25},6:{cellWidth:25}},margin:{left:15,right:15},didDrawPage:w=>{const x=d.internal.getNumberOfPages();d.setFontSize(8),d.setTextColor(150),d.text(`Pgina ${w.pageNumber} de ${x}`,d.internal.pageSize.width/2,d.internal.pageSize.height-10,{align:"center"})}});const y=`sesiones_${new Date().toISOString().split("T")[0]}.pdf`;d.save(y)}catch(c){console.error("Error generando PDF:",c),alert("Error al generar el PDF. Por favor, intenta de nuevo.")}finally{s(!1)}};return f.jsxs("button",{onClick:o,disabled:t,className:"btn bg-red-500 hover:bg-red-600 border-red-500 text-white disabled:opacity-50 disabled:cursor-not-allowed",title:"Generar reporte en PDF",children:[f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),f.jsx("span",{children:t?"Generando...":"Generar PDF"})]})},Jj=({sessions:n,filters:e})=>{const[t,s]=j.useState(!1),o=async()=>{s(!0);try{if(!window.XLSX){const N=document.createElement("script");N.src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js",document.head.appendChild(N),await new Promise((V,G)=>{N.onload=V,N.onerror=G})}const c=window.XLSX,d=n.map(N=>{const V=N.providers&&N.providers.length>0?N.providers.map(X=>({"google.com":"Google","github.com":"GitHub","facebook.com":"Facebook",password:"Email"})[X]||X).join(", "):"Desconocido",G=N.loginTime?N.loginTime.seconds?new Date(N.loginTime.seconds*1e3).toLocaleString("es-ES"):new Date(N.loginTime).toLocaleString("es-ES"):"N/A",B=N.logoutTime?N.logoutTime.seconds?new Date(N.logoutTime.seconds*1e3).toLocaleString("es-ES"):new Date(N.logoutTime).toLocaleString("es-ES"):"En sesin",J=N.duration?(()=>{const X=Math.floor(N.duration/3600),pe=Math.floor(N.duration%3600/60),oe=N.duration%60;return X>0?`${X}h ${pe}m ${oe}s`:pe>0?`${pe}m ${oe}s`:`${oe}s`})():"En curso",K=N.status==="active"?"Activa":"Finalizada";return{Usuario:N.userName||"N/A",Email:N.userEmail||"N/A",Proveedores:V,"Hora de Entrada":G,"Hora de Salida":B,Duracin:J,Estado:K}}),p=c.utils.book_new(),g=c.utils.json_to_sheet(d),y=[{wch:25},{wch:35},{wch:20},{wch:20},{wch:20},{wch:15},{wch:12}];g["!cols"]=y,c.utils.book_append_sheet(p,g,"Sesiones");const w=[{Campo:"Reporte de",Valor:"Sesiones de Usuarios"},{Campo:"Fecha de generacin",Valor:new Date().toLocaleString("es-ES")},{Campo:"Total de sesiones",Valor:n.length},{Campo:"",Valor:""}];(e.userEmail||e.startDate||e.endDate)&&(w.push({Campo:"Filtros Aplicados",Valor:""}),e.userEmail&&w.push({Campo:"Email",Valor:e.userEmail}),e.startDate&&w.push({Campo:"Fecha desde",Valor:e.startDate}),e.endDate&&w.push({Campo:"Fecha hasta",Valor:e.endDate}));const x=c.utils.json_to_sheet(w);x["!cols"]=[{wch:25},{wch:40}],c.utils.book_append_sheet(p,x,"Informacin");const T=`sesiones_${new Date().toISOString().split("T")[0]}.xlsx`;c.writeFile(p,T)}catch(c){console.error("Error generando Excel:",c),alert("Error al generar el archivo Excel. Por favor, intenta de nuevo.")}finally{s(!1)}};return f.jsxs("button",{onClick:o,disabled:t,className:"btn bg-green-600 hover:bg-green-700 border-green-600 text-white disabled:opacity-50 disabled:cursor-not-allowed",title:"Generar reporte en Excel",children:[f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),f.jsx("span",{children:t?"Generando...":"Generar Excel"})]})},eD=()=>{const[n,e]=j.useState([]),[t,s]=j.useState(!0),[o,c]=j.useState(""),[d,p]=j.useState({userEmail:"",startDate:"",endDate:""}),[g,y]=j.useState({key:"loginTime",direction:"desc"});j.useEffect(()=>{w()},[]);const w=async(ie={})=>{try{s(!0),console.log("Cargando sesiones con filtros:",ie);const I=await uj(ie);console.log("Sesiones obtenidas:",I),e(I)}catch(I){console.error("Error cargando sesiones:",I)}finally{s(!1)}},x=ie=>{if(!ie)return"N/A";try{return(ie.seconds?new Date(ie.seconds*1e3):new Date(ie)).toLocaleString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}catch(I){return console.error("Error formateando fecha:",ie,I),"Fecha invlida"}},T=ie=>{if(!ie)return"En curso";const I=Math.floor(ie/3600),A=Math.floor(ie%3600/60),C=ie%60;return I>0?`${I}h ${A}m ${C}s`:A>0?`${A}m ${C}s`:`${C}s`},N=ie=>({"google.com":{icon:fT,color:"text-red-500",bg:"bg-red-50",name:"Google"},"github.com":{icon:hT,color:"text-gray-800",bg:"bg-gray-100",name:"GitHub"},"facebook.com":{icon:ty,color:"text-blue-600",bg:"bg-blue-50",name:"Facebook"},password:{icon:Gp,color:"text-purple-600",bg:"bg-purple-50",name:"Email"}})[ie]||{icon:Gp,color:"text-gray-600",bg:"bg-gray-50",name:ie},V=ie=>!ie||ie.length===0?f.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-gray-100 text-gray-600 text-xs",children:[f.jsx(Gp,{className:"text-xs"}),f.jsx("span",{children:"Desconocido"})]}):f.jsx("div",{className:"flex flex-wrap gap-1",children:ie.map((I,A)=>{const C=N(I),M=C.icon;return f.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-md ${C.bg} ${C.color} text-xs font-medium`,title:C.name,children:[f.jsx(M,{className:"text-xs"}),f.jsx("span",{children:C.name})]},A)})}),G=ie=>{ie.preventDefault();const I={...d,userEmail:o};console.log("Buscando con:",I),w(I)},B=()=>{const ie={userEmail:o,startDate:d.startDate?new Date(d.startDate):null,endDate:d.endDate?new Date(d.endDate):null};console.log("Filtrando por fecha:",ie),w(ie)},J=()=>{c(""),p({userEmail:"",startDate:"",endDate:""}),w()},K=()=>{c(""),p({userEmail:"",startDate:"",endDate:""}),w()},X=ie=>{let I="desc";g.key===ie&&g.direction==="desc"&&(I="asc"),y({key:ie,direction:I})},pe=[...n].sort((ie,I)=>{if(g.key==="loginTime"||g.key==="logoutTime")try{const M=ie[g.key]?.seconds?ie[g.key].seconds*1e3:new Date(ie[g.key]).getTime(),D=I[g.key]?.seconds?I[g.key].seconds*1e3:new Date(I[g.key]).getTime();return g.direction==="asc"?M-D:D-M}catch{return 0}if(g.key==="duration"){const M=ie.duration||0,D=I.duration||0;return g.direction==="asc"?M-D:D-M}const A=(ie[g.key]||"").toString().toLowerCase(),C=(I[g.key]||"").toString().toLowerCase();return g.direction==="asc"?A.localeCompare(C):C.localeCompare(A)}),oe=ie=>g.key!==ie?f.jsx(ej,{className:"text-gray-400"}):g.direction==="asc"?f.jsx(Jk,{className:"text-blue-500"}):f.jsx(Zk,{className:"text-blue-500"});return t?f.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"loading loading-spinner loading-lg text-blue-500"}),f.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando sesiones de usuarios..."})]})}):f.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:f.jsx(Sg,{className:"text-blue-600 text-2xl"})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Sesiones de Usuarios"}),f.jsx("p",{className:"text-gray-600",children:"Administra y revisa los inicios de sesin de los usuarios"})]})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:"text-right",children:[f.jsx("div",{className:"text-2xl font-bold text-blue-600",children:n.length}),f.jsx("div",{className:"text-gray-600",children:"sesiones totales"})]}),f.jsx("button",{onClick:J,className:"btn btn-outline btn-sm",title:"Recargar todas las sesiones",children:f.jsx(tj,{})}),f.jsx("div",{className:"bg-blue-500 p-2 rounded hover:bg-blue-800 font-bold text-white cursor-pointer",children:f.jsx("a",{href:"/",children:"Volver a Home"})})]})]})}),f.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Buscar por email"}),f.jsxs("form",{onSubmit:G,className:"flex gap-2",children:[f.jsx("input",{type:"text",value:o,onChange:ie=>c(ie.target.value),placeholder:"ejemplo@gmail.com",className:"flex-1 input input-bordered border-gray-300 rounded-lg"}),f.jsx("button",{type:"submit",className:"btn bg-blue-500 hover:bg-blue-600 border-blue-500",children:f.jsx(ny,{})})]}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Busca por direccin de email completa o parcial"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha desde"}),f.jsx("input",{type:"date",value:d.startDate,onChange:ie=>p({...d,startDate:ie.target.value}),className:"w-full input input-bordered border-gray-300 rounded-lg"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha hasta"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"date",value:d.endDate,onChange:ie=>p({...d,endDate:ie.target.value}),className:"flex-1 input input-bordered border-gray-300 rounded-lg"}),f.jsx("button",{onClick:B,className:"btn bg-blue-500 hover:bg-blue-600 border-blue-500",title:"Aplicar filtro de fecha",children:f.jsx(Fk,{})})]})]})]}),f.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[f.jsxs("div",{className:"text-sm text-gray-600",children:["Mostrando ",n.length," sesiones"]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:K,className:"btn btn-ghost text-gray-600",children:"Limpiar filtros"}),f.jsx(Jj,{sessions:pe,filters:d}),f.jsx(Zj,{sessions:pe,filters:d})]})]})]}),f.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>X("userName"),children:f.jsxs("div",{className:"flex items-center gap-2",children:["Usuario",oe("userName")]})}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>X("userEmail"),children:f.jsxs("div",{className:"flex items-center gap-2",children:["Email",oe("userEmail")]})}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Proveedores"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>X("loginTime"),children:f.jsxs("div",{className:"flex items-center gap-2",children:["Hora de Entrada",oe("loginTime")]})}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>X("logoutTime"),children:f.jsxs("div",{className:"flex items-center gap-2",children:["Hora de Salida",oe("logoutTime")]})}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>X("duration"),children:f.jsxs("div",{className:"flex items-center gap-2",children:["Duracin",oe("duration")]})}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:pe.map(ie=>f.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("div",{className:"text-sm font-medium text-gray-900",children:ie.userName})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("div",{className:"text-sm text-gray-900 font-mono",children:ie.userEmail})}),f.jsx("td",{className:"px-6 py-4",children:V(ie.providers)}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("div",{className:"text-sm text-gray-900",children:x(ie.loginTime)})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("div",{className:"text-sm text-gray-900",children:ie.logoutTime?x(ie.logoutTime):"En sesin"})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("div",{className:"text-sm text-gray-900 font-medium",children:T(ie.duration)})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ie.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:ie.status==="active"?"Activa":"Finalizada"})})]},ie.id))})]})}),n.length===0&&f.jsxs("div",{className:"text-center py-12",children:[f.jsx(Sg,{className:"mx-auto text-gray-400 text-4xl mb-4"}),f.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No se encontraron sesiones"}),f.jsx("p",{className:"text-gray-600",children:o||d.startDate||d.endDate?"No hay sesiones que coincidan con los filtros aplicados.":"An no hay sesiones registradas en el sistema."})]})]})]})})};function tD(){const[n,e]=j.useState([]),[t,s]=j.useState(!1);j.useEffect(()=>{o()},[]);const o=()=>{const y=ht.currentUser;if(y){const w=y.providerData.map(x=>x.providerId);e(w),console.log("Proveedores vinculados:",w)}},c=y=>n.includes(y),d=async y=>{let w,x;switch(y){case"google":w=ou,x="Google";break;case"github":w=lu,x="GitHub";break;case"facebook":w=cu,x="Facebook";break;default:return}try{s(!0),ae.fire({title:`Vinculando ${x}...`,text:"Selecciona tu cuenta en la ventana emergente",allowOutsideClick:!1,didOpen:()=>{ae.showLoading()}});const T=ht.currentUser;await w_(T,w),ae.close(),await ae.fire({icon:"success",title:"Vinculado!",text:`${x} ha sido vinculado correctamente`,timer:2e3,showConfirmButton:!1}),o()}catch(T){console.error("Error vinculando proveedor:",T),ae.close(),T.code==="auth/credential-already-in-use"?ae.fire({icon:"info",title:"Ya vinculado",text:`Esta cuenta de ${x} ya est vinculada a otra cuenta de usuario.`}):T.code==="auth/provider-already-linked"?ae.fire({icon:"info",title:"Ya vinculado",text:`${x} ya est vinculado a tu cuenta.`}):T.code==="auth/popup-closed-by-user"||ae.fire({icon:"error",title:"Error",text:`No se pudo vincular ${x}. Intenta de nuevo.`})}finally{s(!1)}},p=async(y,w)=>{if(n.length===1)return ae.fire({icon:"warning",title:"No puedes desvincular",text:"Debes tener al menos un mtodo de inicio de sesin vinculado."});if((await ae.fire({icon:"warning",title:"Desvincular cuenta?",text:`Ests seguro de desvincular ${w}? Ya no podrs iniciar sesin con este mtodo.`,showCancelButton:!0,confirmButtonText:"S, desvincular",cancelButtonText:"Cancelar",confirmButtonColor:"#d33",cancelButtonColor:"#3085d6"})).isConfirmed)try{s(!0);const T=ht.currentUser;await UA(T,y),await ae.fire({icon:"success",title:"Desvinculado",text:`${w} ha sido desvinculado correctamente`,timer:2e3,showConfirmButton:!1}),o()}catch(T){console.error("Error desvinculando:",T),ae.fire({icon:"error",title:"Error",text:"No se pudo desvincular el proveedor"})}finally{s(!1)}},g=[{id:"google.com",type:"google",name:"Google",icon:fT,color:"bg-red-500 hover:bg-red-600",textColor:"text-red-500"},{id:"github.com",type:"github",name:"GitHub",icon:hT,color:"bg-gray-800 hover:bg-gray-900",textColor:"text-gray-800"},{id:"facebook.com",type:"facebook",name:"Facebook",icon:ty,color:"bg-blue-600 hover:bg-blue-700",textColor:"text-blue-600"}];return f.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4",children:f.jsx("div",{className:"max-w-3xl mx-auto",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[f.jsx("div",{className:"bg-blue-500 p-2 rounded hover:bg-blue-800 font-bold text-white cursor-pointer w-[19%] text-center mb-10",children:f.jsx("a",{href:"/",children:"Volver a Home"})}),f.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Vincular Cuentas"}),f.jsx("p",{className:"text-gray-600 mb-8",children:"Vincula diferentes mtodos de inicio de sesin a tu cuenta para mayor flexibilidad"}),f.jsx("div",{className:"space-y-4",children:g.map(y=>{const w=c(y.id),x=y.icon;return f.jsxs("div",{className:"flex items-center justify-between p-6 border-2 border-gray-200 rounded-xl hover:border-gray-300 transition-all",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:`p-3 ${y.color} rounded-lg text-white`,children:f.jsx(x,{className:"text-2xl"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold text-lg text-gray-800",children:y.name}),f.jsx("p",{className:"text-sm text-gray-500",children:w?"Vinculado a tu cuenta":"No vinculado"})]})]}),f.jsx("div",{className:"flex items-center gap-3",children:w?f.jsxs(f.Fragment,{children:[f.jsx(Gk,{className:`text-2xl ${y.textColor}`}),f.jsxs("button",{onClick:()=>p(y.id,y.name),disabled:t,className:"flex items-center gap-2 px-4 py-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-colors disabled:opacity-50",children:[f.jsx(rj,{}),f.jsx("span",{className:"font-medium",children:"Desvincular"})]})]}):f.jsx("button",{onClick:()=>d(y.type),disabled:t,className:`px-6 py-2 ${y.color} text-white rounded-lg transition-all disabled:opacity-50 font-medium`,children:"Vincular"})})]},y.id)})}),f.jsx("div",{className:"mt-8 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:f.jsxs("p",{className:"text-sm text-blue-800",children:[f.jsx("strong",{children:" Consejo:"})," Vincula mltiples mtodos para no perder acceso a tu cuenta si olvidas tu contrasea o pierdes acceso a una red social."]})}),f.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[f.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Mtodos vinculados actualmente:"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:n.length>0?n.map(y=>{const w=g.find(x=>x.id===y);return f.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm font-medium",children:w?w.name:y.replace(".com","")},y)}):f.jsx("span",{className:"text-gray-500 text-sm",children:"No hay proveedores vinculados"})})]})]})})})}function Lr({children:n}){const[e]=j.useState(!1),t=qn(),[s,o]=j.useState(!0);return ht.onAuthStateChanged(c=>{c?(o(!1),c&&c.email==="admin@gmail.com"?e(!0):(e(!1),t("/"))):t("/login")}),s?f.jsx("div",{children:"Cargando..."}):n}function nD(){return f.jsx(f.Fragment,{children:f.jsx(Ek,{children:f.jsxs(J8,{children:[f.jsx(qe,{path:"/hooks",element:f.jsx(gj,{})}),f.jsx(qe,{path:"/usestate",element:f.jsx(yj,{})}),f.jsx(qe,{path:"/usecallback",element:f.jsx(vj,{})}),f.jsx(qe,{path:"/usecontext",element:f.jsx(bj,{})}),f.jsx(qe,{path:"/usedebug",element:f.jsx(xj,{})}),f.jsx(qe,{path:"/usedeffer",element:f.jsx(Ej,{})}),f.jsx(qe,{path:"/useeffect",element:f.jsx(Sj,{})}),f.jsx(qe,{path:"/useid",element:f.jsx(Aj,{})}),f.jsx(qe,{path:"/useimperativehandle",element:f.jsx(Nj,{})}),f.jsx(qe,{path:"/useinsertioneffect",element:f.jsx(Rj,{})}),f.jsx(qe,{path:"/uselayouteffect",element:f.jsx(Ij,{})}),f.jsx(qe,{path:"/usememo",element:f.jsx(kj,{})}),f.jsx(qe,{path:"/useoptimistic",element:f.jsx(jj,{})}),f.jsx(qe,{path:"/usereducer",element:f.jsx(Oj,{})}),f.jsx(qe,{path:"/useref",element:f.jsx(Pj,{})}),f.jsx(qe,{path:"/useactionstate",element:f.jsx(Mj,{})}),f.jsx(qe,{path:"/usesyncexternalstore",element:f.jsx(Lj,{})}),f.jsx(qe,{path:"/usetransition",element:f.jsx(Bj,{})}),f.jsx(qe,{path:"/login",element:f.jsx(hj,{})}),f.jsx(qe,{path:"/register",element:f.jsx(fj,{})}),f.jsx(qe,{path:"/confirm",element:f.jsx(mj,{})}),f.jsx(qe,{path:"/change",element:f.jsx(pj,{})}),f.jsx(qe,{path:"/",element:f.jsx(Lr,{children:f.jsx(Fj,{})})}),f.jsx(qe,{path:"/books",element:f.jsx(Lr,{children:f.jsx(Yj,{})})}),f.jsx(qe,{path:"/create",element:f.jsx(Lr,{children:f.jsx(Gj,{})})}),f.jsx(qe,{path:"/edit-book/:id",element:f.jsx(Lr,{children:f.jsx($j,{})})}),f.jsx(qe,{path:"/createopinion",element:f.jsx(Lr,{children:f.jsx(Kj,{})})}),f.jsx(qe,{path:"/opinions",element:f.jsx(Lr,{children:f.jsx(Qj,{})})}),f.jsx(qe,{path:"/opinions/:id",element:f.jsx(Lr,{children:f.jsx(Xj,{})})}),f.jsx(qe,{path:"/opinions/edit/:id",element:f.jsx(Lr,{children:f.jsx(Wj,{})})}),f.jsx(qe,{path:"/admin/users",element:f.jsx(Lr,{children:f.jsx(eD,{})})}),f.jsx(qe,{path:"/settings",element:f.jsx(Lr,{children:f.jsx(tD,{})})})]})})})}r3.createRoot(document.getElementById("root")).render(f.jsx(j.StrictMode,{children:f.jsx(nD,{})}));
