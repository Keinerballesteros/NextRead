(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=t(o);fetch(o.href,c)}})();function N4(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var mp={exports:{}},yc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J2;function I4(){if(J2)return yc;J2=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:n,type:s,key:h,ref:o!==void 0?o:null,props:c}}return yc.Fragment=e,yc.jsx=t,yc.jsxs=t,yc}var ew;function k4(){return ew||(ew=1,mp.exports=I4()),mp.exports}var f=k4(),pp={exports:{}},ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tw;function D4(){if(tw)return ke;tw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),x=Symbol.iterator;function A(D){return D===null||typeof D!="object"?null:(D=x&&D[x]||D["@@iterator"],typeof D=="function"?D:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,Y={};function U(D,re,he){this.props=D,this.context=re,this.refs=Y,this.updater=he||I}U.prototype.isReactComponent={},U.prototype.setState=function(D,re){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,re,"setState")},U.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function ee(){}ee.prototype=U.prototype;function Q(D,re,he){this.props=D,this.context=re,this.refs=Y,this.updater=he||I}var se=Q.prototype=new ee;se.constructor=Q,B(se,U.prototype),se.isPureReactComponent=!0;var ie=Array.isArray,ae={H:null,A:null,T:null,S:null,V:null},ge=Object.prototype.hasOwnProperty;function k(D,re,he,le,ye,Pe){return he=Pe.ref,{$$typeof:n,type:D,key:re,ref:he!==void 0?he:null,props:Pe}}function S(D,re){return k(D.type,re,void 0,void 0,void 0,D.props)}function C(D){return typeof D=="object"&&D!==null&&D.$$typeof===n}function M(D){var re={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(he){return re[he]})}var j=/\/+/g;function L(D,re){return typeof D=="object"&&D!==null&&D.key!=null?M(""+D.key):re.toString(36)}function N(){}function yt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(N,N):(D.status="pending",D.then(function(re){D.status==="pending"&&(D.status="fulfilled",D.value=re)},function(re){D.status==="pending"&&(D.status="rejected",D.reason=re)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ht(D,re,he,le,ye){var Pe=typeof D;(Pe==="undefined"||Pe==="boolean")&&(D=null);var Se=!1;if(D===null)Se=!0;else switch(Pe){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(D.$$typeof){case n:case e:Se=!0;break;case w:return Se=D._init,ht(Se(D._payload),re,he,le,ye)}}if(Se)return ye=ye(D),Se=le===""?"."+L(D,0):le,ie(ye)?(he="",Se!=null&&(he=Se.replace(j,"$&/")+"/"),ht(ye,re,he,"",function(rr){return rr})):ye!=null&&(C(ye)&&(ye=S(ye,he+(ye.key==null||D&&D.key===ye.key?"":(""+ye.key).replace(j,"$&/")+"/")+Se)),re.push(ye)),1;Se=0;var Qt=le===""?".":le+":";if(ie(D))for(var Je=0;Je<D.length;Je++)le=D[Je],Pe=Qt+L(le,Je),Se+=ht(le,re,he,Pe,ye);else if(Je=A(D),typeof Je=="function")for(D=Je.call(D),Je=0;!(le=D.next()).done;)le=le.value,Pe=Qt+L(le,Je++),Se+=ht(le,re,he,Pe,ye);else if(Pe==="object"){if(typeof D.then=="function")return ht(yt(D),re,he,le,ye);throw re=String(D),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Se}function X(D,re,he){if(D==null)return D;var le=[],ye=0;return ht(D,le,"","",function(Pe){return re.call(he,Pe,ye++)}),le}function ce(D){if(D._status===-1){var re=D._result;re=re(),re.then(function(he){(D._status===0||D._status===-1)&&(D._status=1,D._result=he)},function(he){(D._status===0||D._status===-1)&&(D._status=2,D._result=he)}),D._status===-1&&(D._status=0,D._result=re)}if(D._status===1)return D._result.default;throw D._result}var be=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function He(){}return ke.Children={map:X,forEach:function(D,re,he){X(D,function(){re.apply(this,arguments)},he)},count:function(D){var re=0;return X(D,function(){re++}),re},toArray:function(D){return X(D,function(re){return re})||[]},only:function(D){if(!C(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},ke.Component=U,ke.Fragment=t,ke.Profiler=o,ke.PureComponent=Q,ke.StrictMode=s,ke.Suspense=g,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,ke.__COMPILER_RUNTIME={__proto__:null,c:function(D){return ae.H.useMemoCache(D)}},ke.cache=function(D){return function(){return D.apply(null,arguments)}},ke.cloneElement=function(D,re,he){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var le=B({},D.props),ye=D.key,Pe=void 0;if(re!=null)for(Se in re.ref!==void 0&&(Pe=void 0),re.key!==void 0&&(ye=""+re.key),re)!ge.call(re,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&re.ref===void 0||(le[Se]=re[Se]);var Se=arguments.length-2;if(Se===1)le.children=he;else if(1<Se){for(var Qt=Array(Se),Je=0;Je<Se;Je++)Qt[Je]=arguments[Je+2];le.children=Qt}return k(D.type,ye,void 0,void 0,Pe,le)},ke.createContext=function(D){return D={$$typeof:h,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},ke.createElement=function(D,re,he){var le,ye={},Pe=null;if(re!=null)for(le in re.key!==void 0&&(Pe=""+re.key),re)ge.call(re,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ye[le]=re[le]);var Se=arguments.length-2;if(Se===1)ye.children=he;else if(1<Se){for(var Qt=Array(Se),Je=0;Je<Se;Je++)Qt[Je]=arguments[Je+2];ye.children=Qt}if(D&&D.defaultProps)for(le in Se=D.defaultProps,Se)ye[le]===void 0&&(ye[le]=Se[le]);return k(D,Pe,void 0,void 0,null,ye)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(D){return{$$typeof:p,render:D}},ke.isValidElement=C,ke.lazy=function(D){return{$$typeof:w,_payload:{_status:-1,_result:D},_init:ce}},ke.memo=function(D,re){return{$$typeof:y,type:D,compare:re===void 0?null:re}},ke.startTransition=function(D){var re=ae.T,he={};ae.T=he;try{var le=D(),ye=ae.S;ye!==null&&ye(he,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(He,be)}catch(Pe){be(Pe)}finally{ae.T=re}},ke.unstable_useCacheRefresh=function(){return ae.H.useCacheRefresh()},ke.use=function(D){return ae.H.use(D)},ke.useActionState=function(D,re,he){return ae.H.useActionState(D,re,he)},ke.useCallback=function(D,re){return ae.H.useCallback(D,re)},ke.useContext=function(D){return ae.H.useContext(D)},ke.useDebugValue=function(){},ke.useDeferredValue=function(D,re){return ae.H.useDeferredValue(D,re)},ke.useEffect=function(D,re,he){var le=ae.H;if(typeof he=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(D,re)},ke.useId=function(){return ae.H.useId()},ke.useImperativeHandle=function(D,re,he){return ae.H.useImperativeHandle(D,re,he)},ke.useInsertionEffect=function(D,re){return ae.H.useInsertionEffect(D,re)},ke.useLayoutEffect=function(D,re){return ae.H.useLayoutEffect(D,re)},ke.useMemo=function(D,re){return ae.H.useMemo(D,re)},ke.useOptimistic=function(D,re){return ae.H.useOptimistic(D,re)},ke.useReducer=function(D,re,he){return ae.H.useReducer(D,re,he)},ke.useRef=function(D){return ae.H.useRef(D)},ke.useState=function(D){return ae.H.useState(D)},ke.useSyncExternalStore=function(D,re,he){return ae.H.useSyncExternalStore(D,re,he)},ke.useTransition=function(){return ae.H.useTransition()},ke.version="19.1.1",ke}var nw;function yg(){return nw||(nw=1,pp.exports=D4()),pp.exports}var P=yg();const Ta=N4(P);var gp={exports:{}},vc={},yp={exports:{}},vp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rw;function j4(){return rw||(rw=1,(function(n){function e(X,ce){var be=X.length;X.push(ce);e:for(;0<be;){var He=be-1>>>1,D=X[He];if(0<o(D,ce))X[He]=ce,X[be]=D,be=He;else break e}}function t(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var ce=X[0],be=X.pop();if(be!==ce){X[0]=be;e:for(var He=0,D=X.length,re=D>>>1;He<re;){var he=2*(He+1)-1,le=X[he],ye=he+1,Pe=X[ye];if(0>o(le,be))ye<D&&0>o(Pe,le)?(X[He]=Pe,X[ye]=be,He=ye):(X[He]=le,X[he]=be,He=he);else if(ye<D&&0>o(Pe,be))X[He]=Pe,X[ye]=be,He=ye;else break e}}return ce}function o(X,ce){var be=X.sortIndex-ce.sortIndex;return be!==0?be:X.id-ce.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var h=Date,p=h.now();n.unstable_now=function(){return h.now()-p}}var g=[],y=[],w=1,x=null,A=3,I=!1,B=!1,Y=!1,U=!1,ee=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function ie(X){for(var ce=t(y);ce!==null;){if(ce.callback===null)s(y);else if(ce.startTime<=X)s(y),ce.sortIndex=ce.expirationTime,e(g,ce);else break;ce=t(y)}}function ae(X){if(Y=!1,ie(X),!B)if(t(g)!==null)B=!0,ge||(ge=!0,L());else{var ce=t(y);ce!==null&&ht(ae,ce.startTime-X)}}var ge=!1,k=-1,S=5,C=-1;function M(){return U?!0:!(n.unstable_now()-C<S)}function j(){if(U=!1,ge){var X=n.unstable_now();C=X;var ce=!0;try{e:{B=!1,Y&&(Y=!1,Q(k),k=-1),I=!0;var be=A;try{t:{for(ie(X),x=t(g);x!==null&&!(x.expirationTime>X&&M());){var He=x.callback;if(typeof He=="function"){x.callback=null,A=x.priorityLevel;var D=He(x.expirationTime<=X);if(X=n.unstable_now(),typeof D=="function"){x.callback=D,ie(X),ce=!0;break t}x===t(g)&&s(g),ie(X)}else s(g);x=t(g)}if(x!==null)ce=!0;else{var re=t(y);re!==null&&ht(ae,re.startTime-X),ce=!1}}break e}finally{x=null,A=be,I=!1}ce=void 0}}finally{ce?L():ge=!1}}}var L;if(typeof se=="function")L=function(){se(j)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,yt=N.port2;N.port1.onmessage=j,L=function(){yt.postMessage(null)}}else L=function(){ee(j,0)};function ht(X,ce){k=ee(function(){X(n.unstable_now())},ce)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return A},n.unstable_next=function(X){switch(A){case 1:case 2:case 3:var ce=3;break;default:ce=A}var be=A;A=ce;try{return X()}finally{A=be}},n.unstable_requestPaint=function(){U=!0},n.unstable_runWithPriority=function(X,ce){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var be=A;A=X;try{return ce()}finally{A=be}},n.unstable_scheduleCallback=function(X,ce,be){var He=n.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?He+be:He):be=He,X){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=be+D,X={id:w++,callback:ce,priorityLevel:X,startTime:be,expirationTime:D,sortIndex:-1},be>He?(X.sortIndex=be,e(y,X),t(g)===null&&X===t(y)&&(Y?(Q(k),k=-1):Y=!0,ht(ae,be-He))):(X.sortIndex=D,e(g,X),B||I||(B=!0,ge||(ge=!0,L()))),X},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(X){var ce=A;return function(){var be=A;A=ce;try{return X.apply(this,arguments)}finally{A=be}}}})(vp)),vp}var iw;function O4(){return iw||(iw=1,yp.exports=j4()),yp.exports}var wp={exports:{}},on={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sw;function M4(){if(sw)return on;sw=1;var n=yg();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)y+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,w){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:g,containerInfo:y,implementation:w}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,on.createPortal=function(g,y){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,w)},on.flushSync=function(g){var y=h.T,w=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=y,s.p=w,s.d.f()}},on.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},on.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},on.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var w=y.as,x=p(w,y.crossOrigin),A=typeof y.integrity=="string"?y.integrity:void 0,I=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;w==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:x,integrity:A,fetchPriority:I}):w==="script"&&s.d.X(g,{crossOrigin:x,integrity:A,fetchPriority:I,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},on.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var w=p(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},on.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var w=y.as,x=p(w,y.crossOrigin);s.d.L(g,w,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},on.preloadModule=function(g,y){if(typeof g=="string")if(y){var w=p(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},on.requestFormReset=function(g){s.d.r(g)},on.unstable_batchedUpdates=function(g,y){return g(y)},on.useFormState=function(g,y,w){return h.H.useFormState(g,y,w)},on.useFormStatus=function(){return h.H.useHostTransitionStatus()},on.version="19.1.1",on}var aw;function P4(){if(aw)return wp.exports;aw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),wp.exports=M4(),wp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ow;function V4(){if(ow)return vc;ow=1;var n=O4(),e=yg(),t=P4();function s(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function c(r){var i=r,a=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(a=i.return),r=i.return;while(r)}return i.tag===3?a:null}function h(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function p(r){if(c(r)!==r)throw Error(s(188))}function g(r){var i=r.alternate;if(!i){if(i=c(r),i===null)throw Error(s(188));return i!==r?null:r}for(var a=r,l=i;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return p(d),r;if(m===l)return p(d),i;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=d,l=m;else{for(var _=!1,E=d.child;E;){if(E===a){_=!0,a=d,l=m;break}if(E===l){_=!0,l=d,a=m;break}E=E.sibling}if(!_){for(E=m.child;E;){if(E===a){_=!0,a=m,l=d;break}if(E===l){_=!0,l=m,a=d;break}E=E.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?r:i}function y(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=y(r),i!==null)return i;r=r.sibling}return null}var w=Object.assign,x=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),ee=Symbol.for("react.provider"),Q=Symbol.for("react.consumer"),se=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function L(r){return r===null||typeof r!="object"?null:(r=j&&r[j]||r["@@iterator"],typeof r=="function"?r:null)}var N=Symbol.for("react.client.reference");function yt(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===N?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case B:return"Fragment";case U:return"Profiler";case Y:return"StrictMode";case ae:return"Suspense";case ge:return"SuspenseList";case C:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case I:return"Portal";case se:return(r.displayName||"Context")+".Provider";case Q:return(r._context.displayName||"Context")+".Consumer";case ie:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case k:return i=r.displayName||null,i!==null?i:yt(r.type)||"Memo";case S:i=r._payload,r=r._init;try{return yt(r(i))}catch{}}return null}var ht=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be={pending:!1,data:null,method:null,action:null},He=[],D=-1;function re(r){return{current:r}}function he(r){0>D||(r.current=He[D],He[D]=null,D--)}function le(r,i){D++,He[D]=r.current,r.current=i}var ye=re(null),Pe=re(null),Se=re(null),Qt=re(null);function Je(r,i){switch(le(Se,i),le(Pe,r),le(ye,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?C2(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=C2(i),r=R2(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}he(ye),le(ye,r)}function rr(){he(ye),he(Pe),he(Se)}function hl(r){r.memoizedState!==null&&le(Qt,r);var i=ye.current,a=R2(i,r.type);i!==a&&(le(Pe,r),le(ye,a))}function Ba(r){Pe.current===r&&(he(ye),he(Pe)),Qt.current===r&&(he(Qt),dc._currentValue=be)}var za=Object.prototype.hasOwnProperty,Vs=n.unstable_scheduleCallback,Ha=n.unstable_cancelCallback,pf=n.unstable_shouldYield,dl=n.unstable_requestPaint,bn=n.unstable_now,pu=n.unstable_getCurrentPriorityLevel,Pt=n.unstable_ImmediatePriority,zt=n.unstable_UserBlockingPriority,Gr=n.unstable_NormalPriority,gf=n.unstable_LowPriority,fl=n.unstable_IdlePriority,yf=n.log,Ls=n.unstable_setDisableYieldValue,ji=null,rn=null;function zn(r){if(typeof yf=="function"&&Ls(r),rn&&typeof rn.setStrictMode=="function")try{rn.setStrictMode(ji,r)}catch{}}var fn=Math.clz32?Math.clz32:yu,vf=Math.log,gu=Math.LN2;function yu(r){return r>>>=0,r===0?32:31-(vf(r)/gu|0)|0}var vr=256,Oi=4194304;function ir(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Hn(r,i,a){var l=r.pendingLanes;if(l===0)return 0;var d=0,m=r.suspendedLanes,_=r.pingedLanes;r=r.warmLanes;var E=l&134217727;return E!==0?(l=E&~m,l!==0?d=ir(l):(_&=E,_!==0?d=ir(_):a||(a=E&~r,a!==0&&(d=ir(a))))):(E=l&~m,E!==0?d=ir(E):_!==0?d=ir(_):a||(a=l&~r,a!==0&&(d=ir(a)))),d===0?0:i!==0&&i!==d&&(i&m)===0&&(m=d&-d,a=i&-i,m>=a||m===32&&(a&4194048)!==0)?i:d}function Mi(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function qa(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ml(){var r=vr;return vr<<=1,(vr&4194048)===0&&(vr=256),r}function Pi(){var r=Oi;return Oi<<=1,(Oi&62914560)===0&&(Oi=4194304),r}function Fa(r){for(var i=[],a=0;31>a;a++)i.push(r);return i}function _t(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function vu(r,i,a,l,d,m){var _=r.pendingLanes;r.pendingLanes=a,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=a,r.entangledLanes&=a,r.errorRecoveryDisabledLanes&=a,r.shellSuspendCounter=0;var E=r.entanglements,R=r.expirationTimes,q=r.hiddenUpdates;for(a=_&~a;0<a;){var W=31-fn(a),te=1<<W;E[W]=0,R[W]=-1;var F=q[W];if(F!==null)for(q[W]=null,W=0;W<F.length;W++){var G=F[W];G!==null&&(G.lane&=-536870913)}a&=~te}l!==0&&Vi(r,l,0),m!==0&&d===0&&r.tag!==0&&(r.suspendedLanes|=m&~(_&~i))}function Vi(r,i,a){r.pendingLanes|=i,r.suspendedLanes&=~i;var l=31-fn(i);r.entangledLanes|=i,r.entanglements[l]=r.entanglements[l]|1073741824|a&4194090}function Li(r,i){var a=r.entangledLanes|=i;for(r=r.entanglements;a;){var l=31-fn(a),d=1<<l;d&i|r[l]&i&&(r[l]|=i),a&=~d}}function pl(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function gl(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function $r(){var r=ce.p;return r!==0?r:(r=window.event,r===void 0?32:Y2(r.type))}function wf(r,i){var a=ce.p;try{return ce.p=r,i()}finally{ce.p=a}}var wr=Math.random().toString(36).slice(2),Et="__reactFiber$"+wr,Xt="__reactProps$"+wr,Yr="__reactContainer$"+wr,Us="__reactEvents$"+wr,Bs="__reactListeners$"+wr,bf="__reactHandles$"+wr,sr="__reactResources$"+wr,Ui="__reactMarker$"+wr;function Ga(r){delete r[Et],delete r[Xt],delete r[Us],delete r[Bs],delete r[bf]}function br(r){var i=r[Et];if(i)return i;for(var a=r.parentNode;a;){if(i=a[Yr]||a[Et]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(r=D2(r);r!==null;){if(a=r[Et])return a;r=D2(r)}return i}r=a,a=r.parentNode}return null}function _r(r){if(r=r[Et]||r[Yr]){var i=r.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return r}return null}function Bi(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(s(33))}function zi(r){var i=r[sr];return i||(i=r[sr]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function xt(r){r[Ui]=!0}var wu=new Set,zs={};function Er(r,i){xr(r,i),xr(r+"Capture",i)}function xr(r,i){for(zs[r]=i,r=0;r<i.length;r++)wu.add(i[r])}var Hs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tr={},$a={};function _f(r){return za.call($a,r)?!0:za.call(Tr,r)?!1:Hs.test(r)?$a[r]=!0:(Tr[r]=!0,!1)}function qs(r,i,a){if(_f(i))if(a===null)r.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+a)}}function Fs(r,i,a){if(a===null)r.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+a)}}function qn(r,i,a,l){if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttributeNS(i,a,""+l)}}var Gs,Ya;function Kr(r){if(Gs===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Gs=i&&i[1]||"",Ya=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gs+r+Ya}var Ka=!1;function Qa(r,i){if(!r||Ka)return"";Ka=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(G){var F=G}Reflect.construct(r,[],te)}else{try{te.call()}catch(G){F=G}r.call(te.prototype)}}else{try{throw Error()}catch(G){F=G}(te=r())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(G){if(G&&F&&typeof G.stack=="string")return[G.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),_=m[0],E=m[1];if(_&&E){var R=_.split(`
`),q=E.split(`
`);for(d=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;d<q.length&&!q[d].includes("DetermineComponentFrameRoot");)d++;if(l===R.length||d===q.length)for(l=R.length-1,d=q.length-1;1<=l&&0<=d&&R[l]!==q[d];)d--;for(;1<=l&&0<=d;l--,d--)if(R[l]!==q[d]){if(l!==1||d!==1)do if(l--,d--,0>d||R[l]!==q[d]){var W=`
`+R[l].replace(" at new "," at ");return r.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",r.displayName)),W}while(1<=l&&0<=d);break}}}finally{Ka=!1,Error.prepareStackTrace=a}return(a=r?r.displayName||r.name:"")?Kr(a):""}function Ef(r){switch(r.tag){case 26:case 27:case 5:return Kr(r.type);case 16:return Kr("Lazy");case 13:return Kr("Suspense");case 19:return Kr("SuspenseList");case 0:case 15:return Qa(r.type,!1);case 11:return Qa(r.type.render,!1);case 1:return Qa(r.type,!0);case 31:return Kr("Activity");default:return""}}function ar(r){try{var i="";do i+=Ef(r),r=r.return;while(r);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ft(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Hi(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function $s(r){var i=Hi(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),l=""+r[i];if(!r.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,m=a.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return d.call(this)},set:function(_){l=""+_,m.call(this,_)}}),Object.defineProperty(r,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function qi(r){r._valueTracker||(r._valueTracker=$s(r))}function et(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return r&&(l=Hi(r)?r.checked?"true":"false":r.value),r=l,r!==a?(i.setValue(r),!0):!1}function Qr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Ys=/[\n"\\]/g;function Ht(r){return r.replace(Ys,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function yl(r,i,a,l,d,m,_,E){r.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?r.type=_:r.removeAttribute("type"),i!=null?_==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+ft(i)):r.value!==""+ft(i)&&(r.value=""+ft(i)):_!=="submit"&&_!=="reset"||r.removeAttribute("value"),i!=null?wl(r,_,ft(i)):a!=null?wl(r,_,ft(a)):l!=null&&r.removeAttribute("value"),d==null&&m!=null&&(r.defaultChecked=!!m),d!=null&&(r.checked=d&&typeof d!="function"&&typeof d!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.name=""+ft(E):r.removeAttribute("name")}function vl(r,i,a,l,d,m,_,E){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(r.type=m),i!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;a=a!=null?""+ft(a):"",i=i!=null?""+ft(i):a,E||i===r.value||(r.value=i),r.defaultValue=i}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,r.checked=E?r.checked:!!l,r.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(r.name=_)}function wl(r,i,a){i==="number"&&Qr(r.ownerDocument)===r||r.defaultValue===""+a||(r.defaultValue=""+a)}function Fi(r,i,a,l){if(r=r.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<r.length;a++)d=i.hasOwnProperty("$"+r[a].value),r[a].selected!==d&&(r[a].selected=d),d&&l&&(r[a].defaultSelected=!0)}else{for(a=""+ft(a),i=null,d=0;d<r.length;d++){if(r[d].value===a){r[d].selected=!0,l&&(r[d].defaultSelected=!0);return}i!==null||r[d].disabled||(i=r[d])}i!==null&&(i.selected=!0)}}function bu(r,i,a){if(i!=null&&(i=""+ft(i),i!==r.value&&(r.value=i),a==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=a!=null?""+ft(a):""}function _u(r,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ht(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=ft(i),r.defaultValue=a,l=r.textContent,l===a&&l!==""&&l!==null&&(r.value=l)}function Fn(r,i){if(i){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=i;return}}r.textContent=i}var Xr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bl(r,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":l?r.setProperty(i,a):typeof a!="number"||a===0||Xr.has(i)?i==="float"?r.cssFloat=a:r[i]=(""+a).trim():r[i]=a+"px"}function _l(r,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(r=r.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?r.setProperty(l,""):l==="float"?r.cssFloat="":r[l]="");for(var d in i)l=i[d],i.hasOwnProperty(d)&&a[d]!==l&&bl(r,d,l)}else for(var m in i)i.hasOwnProperty(m)&&bl(r,m,i[m])}function Xa(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function or(r){return xu.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var El=null;function xl(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Gi=null,mn=null;function Tu(r){var i=_r(r);if(i&&(r=i.stateNode)){var a=r[Xt]||null;e:switch(r=i.stateNode,i.type){case"input":if(yl(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ht(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==r&&l.form===r.form){var d=l[Xt]||null;if(!d)throw Error(s(90));yl(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===r.form&&et(l)}break e;case"textarea":bu(r,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Fi(r,!!a.multiple,i,!1)}}}var Ks=!1;function Qs(r,i,a){if(Ks)return r(i,a);Ks=!0;try{var l=r(i);return l}finally{if(Ks=!1,(Gi!==null||mn!==null)&&(fh(),Gi&&(i=Gi,r=mn,mn=Gi=null,Tu(i),r)))for(i=0;i<r.length;i++)Tu(r[i])}}function $i(r,i){var a=r.stateNode;if(a===null)return null;var l=a[Xt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(r=r.type,l=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!l;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wr=!1;if(pn)try{var Yi={};Object.defineProperty(Yi,"passive",{get:function(){Wr=!0}}),window.addEventListener("test",Yi,Yi),window.removeEventListener("test",Yi,Yi)}catch{Wr=!1}var Gn=null,st=null,Wa=null;function Au(){if(Wa)return Wa;var r,i=st,a=i.length,l,d="value"in Gn?Gn.value:Gn.textContent,m=d.length;for(r=0;r<a&&i[r]===d[r];r++);var _=a-r;for(l=1;l<=_&&i[a-l]===d[m-l];l++);return Wa=d.slice(r,1<l?1-l:void 0)}function Xs(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Ws(){return!0}function Tl(){return!1}function Vt(r){function i(a,l,d,m,_){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var E in r)r.hasOwnProperty(E)&&(a=r[E],this[E]=a?a(m):m[E]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ws:Tl,this.isPropagationStopped=Tl,this}return w(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ws)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ws)},persist:function(){},isPersistent:Ws}),i}var sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zs=Vt(sn),Js=w({},sn,{view:0,detail:0}),ea=Vt(Js),Za,ta,Ar,na=w({},Js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:to,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ar&&(Ar&&r.type==="mousemove"?(Za=r.screenX-Ar.screenX,ta=r.screenY-Ar.screenY):ta=Za=0,Ar=r),Za)},movementY:function(r){return"movementY"in r?r.movementY:ta}}),ra=Vt(na),xf=w({},na,{dataTransfer:0}),Su=Vt(xf),ia=w({},Js,{relatedTarget:0}),Ja=Vt(ia),Cu=w({},sn,{animationName:0,elapsedTime:0,pseudoElement:0}),Al=Vt(Cu),Sl=w({},sn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ru=Vt(Sl),eo=w({},sn,{data:0}),Cl=Vt(eo),Nu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ku(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Iu[r])?!!i[r]:!1}function to(){return ku}var Du=w({},Js,{key:function(r){if(r.key){var i=Nu[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Xs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Zr[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:to,charCode:function(r){return r.type==="keypress"?Xs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Xs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),no=Vt(Du),gn=w({},na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rl=Vt(gn),ju=w({},Js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:to}),Ki=Vt(ju),u=w({},sn,{propertyName:0,elapsedTime:0,pseudoElement:0}),v=Vt(u),b=w({},na,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),T=Vt(b),H=w({},sn,{newState:0,oldState:0}),$=Vt(H),oe=[9,13,27,32],Ne=pn&&"CompositionEvent"in window,ct=null;pn&&"documentMode"in document&&(ct=document.documentMode);var Qe=pn&&"TextEvent"in window&&!ct,Tt=pn&&(!Ne||ct&&8<ct&&11>=ct),Rn=" ",Sr=!1;function lr(r,i){switch(r){case"keyup":return oe.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cr(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ur=!1;function Nl(r,i){switch(r){case"compositionend":return cr(i);case"keypress":return i.which!==32?null:(Sr=!0,Rn);case"textInput":return r=i.data,r===Rn&&Sr?null:r;default:return null}}function nT(r,i){if(ur)return r==="compositionend"||!Ne&&lr(r,i)?(r=Au(),Wa=st=Gn=null,ur=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Tt&&i.locale!=="ko"?null:i.data;default:return null}}var rT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zy(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!rT[r.type]:i==="textarea"}function Hy(r,i,a,l){Gi?mn?mn.push(l):mn=[l]:Gi=l,i=wh(i,"onChange"),0<i.length&&(a=new Zs("onChange","change",null,a,l),r.push({event:a,listeners:i}))}var Il=null,kl=null;function iT(r){E2(r,0)}function Ou(r){var i=Bi(r);if(et(i))return r}function qy(r,i){if(r==="change")return i}var Fy=!1;if(pn){var Tf;if(pn){var Af="oninput"in document;if(!Af){var Gy=document.createElement("div");Gy.setAttribute("oninput","return;"),Af=typeof Gy.oninput=="function"}Tf=Af}else Tf=!1;Fy=Tf&&(!document.documentMode||9<document.documentMode)}function $y(){Il&&(Il.detachEvent("onpropertychange",Yy),kl=Il=null)}function Yy(r){if(r.propertyName==="value"&&Ou(kl)){var i=[];Hy(i,kl,r,xl(r)),Qs(iT,i)}}function sT(r,i,a){r==="focusin"?($y(),Il=i,kl=a,Il.attachEvent("onpropertychange",Yy)):r==="focusout"&&$y()}function aT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ou(kl)}function oT(r,i){if(r==="click")return Ou(i)}function lT(r,i){if(r==="input"||r==="change")return Ou(i)}function cT(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Nn=typeof Object.is=="function"?Object.is:cT;function Dl(r,i){if(Nn(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var a=Object.keys(r),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!za.call(i,d)||!Nn(r[d],i[d]))return!1}return!0}function Ky(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Qy(r,i){var a=Ky(r);r=0;for(var l;a;){if(a.nodeType===3){if(l=r+a.textContent.length,r<=i&&l>=i)return{node:a,offset:i-r};r=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ky(a)}}function Xy(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Xy(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Wy(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=Qr(r.document);i instanceof r.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)r=i.contentWindow;else break;i=Qr(r.document)}return i}function Sf(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var uT=pn&&"documentMode"in document&&11>=document.documentMode,ro=null,Cf=null,jl=null,Rf=!1;function Zy(r,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Rf||ro==null||ro!==Qr(l)||(l=ro,"selectionStart"in l&&Sf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),jl&&Dl(jl,l)||(jl=l,l=wh(Cf,"onSelect"),0<l.length&&(i=new Zs("onSelect","select",null,i,a),r.push({event:i,listeners:l}),i.target=ro)))}function sa(r,i){var a={};return a[r.toLowerCase()]=i.toLowerCase(),a["Webkit"+r]="webkit"+i,a["Moz"+r]="moz"+i,a}var io={animationend:sa("Animation","AnimationEnd"),animationiteration:sa("Animation","AnimationIteration"),animationstart:sa("Animation","AnimationStart"),transitionrun:sa("Transition","TransitionRun"),transitionstart:sa("Transition","TransitionStart"),transitioncancel:sa("Transition","TransitionCancel"),transitionend:sa("Transition","TransitionEnd")},Nf={},Jy={};pn&&(Jy=document.createElement("div").style,"AnimationEvent"in window||(delete io.animationend.animation,delete io.animationiteration.animation,delete io.animationstart.animation),"TransitionEvent"in window||delete io.transitionend.transition);function aa(r){if(Nf[r])return Nf[r];if(!io[r])return r;var i=io[r],a;for(a in i)if(i.hasOwnProperty(a)&&a in Jy)return Nf[r]=i[a];return r}var e0=aa("animationend"),t0=aa("animationiteration"),n0=aa("animationstart"),hT=aa("transitionrun"),dT=aa("transitionstart"),fT=aa("transitioncancel"),r0=aa("transitionend"),i0=new Map,If="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");If.push("scrollEnd");function hr(r,i){i0.set(r,i),Er(i,[r])}var s0=new WeakMap;function $n(r,i){if(typeof r=="object"&&r!==null){var a=s0.get(r);return a!==void 0?a:(i={value:r,source:i,stack:ar(i)},s0.set(r,i),i)}return{value:r,source:i,stack:ar(i)}}var Yn=[],so=0,kf=0;function Mu(){for(var r=so,i=kf=so=0;i<r;){var a=Yn[i];Yn[i++]=null;var l=Yn[i];Yn[i++]=null;var d=Yn[i];Yn[i++]=null;var m=Yn[i];if(Yn[i++]=null,l!==null&&d!==null){var _=l.pending;_===null?d.next=d:(d.next=_.next,_.next=d),l.pending=d}m!==0&&a0(a,d,m)}}function Pu(r,i,a,l){Yn[so++]=r,Yn[so++]=i,Yn[so++]=a,Yn[so++]=l,kf|=l,r.lanes|=l,r=r.alternate,r!==null&&(r.lanes|=l)}function Df(r,i,a,l){return Pu(r,i,a,l),Vu(r)}function ao(r,i){return Pu(r,null,null,i),Vu(r)}function a0(r,i,a){r.lanes|=a;var l=r.alternate;l!==null&&(l.lanes|=a);for(var d=!1,m=r.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(r=m.stateNode,r===null||r._visibility&1||(d=!0)),r=m,m=m.return;return r.tag===3?(m=r.stateNode,d&&i!==null&&(d=31-fn(a),r=m.hiddenUpdates,l=r[d],l===null?r[d]=[i]:l.push(i),i.lane=a|536870912),m):null}function Vu(r){if(50<ic)throw ic=0,Lm=null,Error(s(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var oo={};function mT(r,i,a,l){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(r,i,a,l){return new mT(r,i,a,l)}function jf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Jr(r,i){var a=r.alternate;return a===null?(a=In(r.tag,i,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=i,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&65011712,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,i=r.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a.refCleanup=r.refCleanup,a}function o0(r,i){r.flags&=65011714;var a=r.alternate;return a===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=a.childLanes,r.lanes=a.lanes,r.child=a.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=a.memoizedProps,r.memoizedState=a.memoizedState,r.updateQueue=a.updateQueue,r.type=a.type,i=a.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function Lu(r,i,a,l,d,m){var _=0;if(l=r,typeof r=="function")jf(r)&&(_=1);else if(typeof r=="string")_=g4(r,a,ye.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case C:return r=In(31,a,i,d),r.elementType=C,r.lanes=m,r;case B:return oa(a.children,d,m,i);case Y:_=8,d|=24;break;case U:return r=In(12,a,i,d|2),r.elementType=U,r.lanes=m,r;case ae:return r=In(13,a,i,d),r.elementType=ae,r.lanes=m,r;case ge:return r=In(19,a,i,d),r.elementType=ge,r.lanes=m,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case ee:case se:_=10;break e;case Q:_=9;break e;case ie:_=11;break e;case k:_=14;break e;case S:_=16,l=null;break e}_=29,a=Error(s(130,r===null?"null":typeof r,"")),l=null}return i=In(_,a,i,d),i.elementType=r,i.type=l,i.lanes=m,i}function oa(r,i,a,l){return r=In(7,r,l,i),r.lanes=a,r}function Of(r,i,a){return r=In(6,r,null,i),r.lanes=a,r}function Mf(r,i,a){return i=In(4,r.children!==null?r.children:[],r.key,i),i.lanes=a,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var lo=[],co=0,Uu=null,Bu=0,Kn=[],Qn=0,la=null,ei=1,ti="";function ca(r,i){lo[co++]=Bu,lo[co++]=Uu,Uu=r,Bu=i}function l0(r,i,a){Kn[Qn++]=ei,Kn[Qn++]=ti,Kn[Qn++]=la,la=r;var l=ei;r=ti;var d=32-fn(l)-1;l&=~(1<<d),a+=1;var m=32-fn(i)+d;if(30<m){var _=d-d%5;m=(l&(1<<_)-1).toString(32),l>>=_,d-=_,ei=1<<32-fn(i)+d|a<<d|l,ti=m+r}else ei=1<<m|a<<d|l,ti=r}function Pf(r){r.return!==null&&(ca(r,1),l0(r,1,0))}function Vf(r){for(;r===Uu;)Uu=lo[--co],lo[co]=null,Bu=lo[--co],lo[co]=null;for(;r===la;)la=Kn[--Qn],Kn[Qn]=null,ti=Kn[--Qn],Kn[Qn]=null,ei=Kn[--Qn],Kn[Qn]=null}var yn=null,vt=null,$e=!1,ua=null,Cr=!1,Lf=Error(s(519));function ha(r){var i=Error(s(418,""));throw Pl($n(i,r)),Lf}function c0(r){var i=r.stateNode,a=r.type,l=r.memoizedProps;switch(i[Et]=r,i[Xt]=l,a){case"dialog":Me("cancel",i),Me("close",i);break;case"iframe":case"object":case"embed":Me("load",i);break;case"video":case"audio":for(a=0;a<ac.length;a++)Me(ac[a],i);break;case"source":Me("error",i);break;case"img":case"image":case"link":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"input":Me("invalid",i),vl(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),qi(i);break;case"select":Me("invalid",i);break;case"textarea":Me("invalid",i),_u(i,l.value,l.defaultValue,l.children),qi(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||S2(i.textContent,a)?(l.popover!=null&&(Me("beforetoggle",i),Me("toggle",i)),l.onScroll!=null&&Me("scroll",i),l.onScrollEnd!=null&&Me("scrollend",i),l.onClick!=null&&(i.onclick=bh),i=!0):i=!1,i||ha(r)}function u0(r){for(yn=r.return;yn;)switch(yn.tag){case 5:case 13:Cr=!1;return;case 27:case 3:Cr=!0;return;default:yn=yn.return}}function Ol(r){if(r!==yn)return!1;if(!$e)return u0(r),$e=!0,!1;var i=r.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=r.type,a=!(a!=="form"&&a!=="button")||ep(r.type,r.memoizedProps)),a=!a),a&&vt&&ha(r),u0(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8)if(a=r.data,a==="/$"){if(i===0){vt=fr(r.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;r=r.nextSibling}vt=null}}else i===27?(i=vt,us(r.type)?(r=ip,ip=null,vt=r):vt=i):vt=yn?fr(r.stateNode.nextSibling):null;return!0}function Ml(){vt=yn=null,$e=!1}function h0(){var r=ua;return r!==null&&(xn===null?xn=r:xn.push.apply(xn,r),ua=null),r}function Pl(r){ua===null?ua=[r]:ua.push(r)}var Uf=re(null),da=null,ni=null;function Qi(r,i,a){le(Uf,i._currentValue),i._currentValue=a}function ri(r){r._currentValue=Uf.current,he(Uf)}function Bf(r,i,a){for(;r!==null;){var l=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),r===a)break;r=r.return}}function zf(r,i,a,l){var d=r.child;for(d!==null&&(d.return=r);d!==null;){var m=d.dependencies;if(m!==null){var _=d.child;m=m.firstContext;e:for(;m!==null;){var E=m;m=d;for(var R=0;R<i.length;R++)if(E.context===i[R]){m.lanes|=a,E=m.alternate,E!==null&&(E.lanes|=a),Bf(m.return,a,r),l||(_=null);break e}m=E.next}}else if(d.tag===18){if(_=d.return,_===null)throw Error(s(341));_.lanes|=a,m=_.alternate,m!==null&&(m.lanes|=a),Bf(_,a,r),_=null}else _=d.child;if(_!==null)_.return=d;else for(_=d;_!==null;){if(_===r){_=null;break}if(d=_.sibling,d!==null){d.return=_.return,_=d;break}_=_.return}d=_}}function Vl(r,i,a,l){r=null;for(var d=i,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var _=d.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var E=d.type;Nn(d.pendingProps.value,_.value)||(r!==null?r.push(E):r=[E])}}else if(d===Qt.current){if(_=d.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(r!==null?r.push(dc):r=[dc])}d=d.return}r!==null&&zf(i,r,a,l),i.flags|=262144}function zu(r){for(r=r.firstContext;r!==null;){if(!Nn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function fa(r){da=r,ni=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function an(r){return d0(da,r)}function Hu(r,i){return da===null&&fa(r),d0(r,i)}function d0(r,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ni===null){if(r===null)throw Error(s(308));ni=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else ni=ni.next=i;return a}var pT=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(a,l){r.push(l)}};this.abort=function(){i.aborted=!0,r.forEach(function(a){return a()})}},gT=n.unstable_scheduleCallback,yT=n.unstable_NormalPriority,Lt={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hf(){return{controller:new pT,data:new Map,refCount:0}}function Ll(r){r.refCount--,r.refCount===0&&gT(yT,function(){r.controller.abort()})}var Ul=null,qf=0,uo=0,ho=null;function vT(r,i){if(Ul===null){var a=Ul=[];qf=0,uo=Gm(),ho={status:"pending",value:void 0,then:function(l){a.push(l)}}}return qf++,i.then(f0,f0),i}function f0(){if(--qf===0&&Ul!==null){ho!==null&&(ho.status="fulfilled");var r=Ul;Ul=null,uo=0,ho=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function wT(r,i){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return r.then(function(){l.status="fulfilled",l.value=i;for(var d=0;d<a.length;d++)(0,a[d])(i)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var m0=X.S;X.S=function(r,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&vT(r,i),m0!==null&&m0(r,i)};var ma=re(null);function Ff(){var r=ma.current;return r!==null?r:at.pooledCache}function qu(r,i){i===null?le(ma,ma.current):le(ma,i.pool)}function p0(){var r=Ff();return r===null?null:{parent:Lt._currentValue,pool:r}}var Bl=Error(s(460)),g0=Error(s(474)),Fu=Error(s(542)),Gf={then:function(){}};function y0(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Gu(){}function v0(r,i,a){switch(a=r[a],a===void 0?r.push(i):a!==i&&(i.then(Gu,Gu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,b0(r),r;default:if(typeof i.status=="string")i.then(Gu,Gu);else{if(r=at,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=i,r.status="pending",r.then(function(l){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=l}},function(l){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,b0(r),r}throw zl=i,Bl}}var zl=null;function w0(){if(zl===null)throw Error(s(459));var r=zl;return zl=null,r}function b0(r){if(r===Bl||r===Fu)throw Error(s(483))}var Xi=!1;function $f(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yf(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Wi(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Zi(r,i,a){var l=r.updateQueue;if(l===null)return null;if(l=l.shared,(Xe&2)!==0){var d=l.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),l.pending=i,i=Vu(r),a0(r,null,a),i}return Pu(r,l,i,a),Vu(r)}function Hl(r,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=r.pendingLanes,a|=l,i.lanes=a,Li(r,a)}}function Kf(r,i){var a=r.updateQueue,l=r.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?d=m=_:m=m.next=_,a=a.next}while(a!==null);m===null?d=m=i:m=m.next=i}else d=m=i;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=i:r.next=i,a.lastBaseUpdate=i}var Qf=!1;function ql(){if(Qf){var r=ho;if(r!==null)throw r}}function Fl(r,i,a,l){Qf=!1;var d=r.updateQueue;Xi=!1;var m=d.firstBaseUpdate,_=d.lastBaseUpdate,E=d.shared.pending;if(E!==null){d.shared.pending=null;var R=E,q=R.next;R.next=null,_===null?m=q:_.next=q,_=R;var W=r.alternate;W!==null&&(W=W.updateQueue,E=W.lastBaseUpdate,E!==_&&(E===null?W.firstBaseUpdate=q:E.next=q,W.lastBaseUpdate=R))}if(m!==null){var te=d.baseState;_=0,W=q=R=null,E=m;do{var F=E.lane&-536870913,G=F!==E.lane;if(G?(Be&F)===F:(l&F)===F){F!==0&&F===uo&&(Qf=!0),W!==null&&(W=W.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var Ce=r,xe=E;F=i;var rt=a;switch(xe.tag){case 1:if(Ce=xe.payload,typeof Ce=="function"){te=Ce.call(rt,te,F);break e}te=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=xe.payload,F=typeof Ce=="function"?Ce.call(rt,te,F):Ce,F==null)break e;te=w({},te,F);break e;case 2:Xi=!0}}F=E.callback,F!==null&&(r.flags|=64,G&&(r.flags|=8192),G=d.callbacks,G===null?d.callbacks=[F]:G.push(F))}else G={lane:F,tag:E.tag,payload:E.payload,callback:E.callback,next:null},W===null?(q=W=G,R=te):W=W.next=G,_|=F;if(E=E.next,E===null){if(E=d.shared.pending,E===null)break;G=E,E=G.next,G.next=null,d.lastBaseUpdate=G,d.shared.pending=null}}while(!0);W===null&&(R=te),d.baseState=R,d.firstBaseUpdate=q,d.lastBaseUpdate=W,m===null&&(d.shared.lanes=0),as|=_,r.lanes=_,r.memoizedState=te}}function _0(r,i){if(typeof r!="function")throw Error(s(191,r));r.call(i)}function E0(r,i){var a=r.callbacks;if(a!==null)for(r.callbacks=null,r=0;r<a.length;r++)_0(a[r],i)}var fo=re(null),$u=re(0);function x0(r,i){r=ui,le($u,r),le(fo,i),ui=r|i.baseLanes}function Xf(){le($u,ui),le(fo,fo.current)}function Wf(){ui=$u.current,he(fo),he($u)}var Ji=0,De=null,tt=null,It=null,Yu=!1,mo=!1,pa=!1,Ku=0,Gl=0,po=null,bT=0;function At(){throw Error(s(321))}function Zf(r,i){if(i===null)return!1;for(var a=0;a<i.length&&a<r.length;a++)if(!Nn(r[a],i[a]))return!1;return!0}function Jf(r,i,a,l,d,m){return Ji=m,De=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=r===null||r.memoizedState===null?av:ov,pa=!1,m=a(l,d),pa=!1,mo&&(m=A0(i,a,l,d)),T0(r),m}function T0(r){X.H=eh;var i=tt!==null&&tt.next!==null;if(Ji=0,It=tt=De=null,Yu=!1,Gl=0,po=null,i)throw Error(s(300));r===null||qt||(r=r.dependencies,r!==null&&zu(r)&&(qt=!0))}function A0(r,i,a,l){De=r;var d=0;do{if(mo&&(po=null),Gl=0,mo=!1,25<=d)throw Error(s(301));if(d+=1,It=tt=null,r.updateQueue!=null){var m=r.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}X.H=CT,m=i(a,l)}while(mo);return m}function _T(){var r=X.H,i=r.useState()[0];return i=typeof i.then=="function"?$l(i):i,r=r.useState()[0],(tt!==null?tt.memoizedState:null)!==r&&(De.flags|=1024),i}function em(){var r=Ku!==0;return Ku=0,r}function tm(r,i,a){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~a}function nm(r){if(Yu){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Yu=!1}Ji=0,It=tt=De=null,mo=!1,Gl=Ku=0,po=null}function _n(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?De.memoizedState=It=r:It=It.next=r,It}function kt(){if(tt===null){var r=De.alternate;r=r!==null?r.memoizedState:null}else r=tt.next;var i=It===null?De.memoizedState:It.next;if(i!==null)It=i,tt=r;else{if(r===null)throw De.alternate===null?Error(s(467)):Error(s(310));tt=r,r={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},It===null?De.memoizedState=It=r:It=It.next=r}return It}function rm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $l(r){var i=Gl;return Gl+=1,po===null&&(po=[]),r=v0(po,r,i),i=De,(It===null?i.memoizedState:It.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?av:ov),r}function Qu(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return $l(r);if(r.$$typeof===se)return an(r)}throw Error(s(438,String(r)))}function im(r){var i=null,a=De.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=rm(),De.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(r),l=0;l<r;l++)a[l]=M;return i.index++,a}function ii(r,i){return typeof i=="function"?i(r):i}function Xu(r){var i=kt();return sm(i,tt,r)}function sm(r,i,a){var l=r.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var d=r.baseQueue,m=l.pending;if(m!==null){if(d!==null){var _=d.next;d.next=m.next,m.next=_}i.baseQueue=d=m,l.pending=null}if(m=r.baseState,d===null)r.memoizedState=m;else{i=d.next;var E=_=null,R=null,q=i,W=!1;do{var te=q.lane&-536870913;if(te!==q.lane?(Be&te)===te:(Ji&te)===te){var F=q.revertLane;if(F===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),te===uo&&(W=!0);else if((Ji&F)===F){q=q.next,F===uo&&(W=!0);continue}else te={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},R===null?(E=R=te,_=m):R=R.next=te,De.lanes|=F,as|=F;te=q.action,pa&&a(m,te),m=q.hasEagerState?q.eagerState:a(m,te)}else F={lane:te,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},R===null?(E=R=F,_=m):R=R.next=F,De.lanes|=te,as|=te;q=q.next}while(q!==null&&q!==i);if(R===null?_=m:R.next=E,!Nn(m,r.memoizedState)&&(qt=!0,W&&(a=ho,a!==null)))throw a;r.memoizedState=m,r.baseState=_,r.baseQueue=R,l.lastRenderedState=m}return d===null&&(l.lanes=0),[r.memoizedState,l.dispatch]}function am(r){var i=kt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=r;var l=a.dispatch,d=a.pending,m=i.memoizedState;if(d!==null){a.pending=null;var _=d=d.next;do m=r(m,_.action),_=_.next;while(_!==d);Nn(m,i.memoizedState)||(qt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,l]}function S0(r,i,a){var l=De,d=kt(),m=$e;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!Nn((tt||d).memoizedState,a);_&&(d.memoizedState=a,qt=!0),d=d.queue;var E=N0.bind(null,l,d,r);if(Yl(2048,8,E,[r]),d.getSnapshot!==i||_||It!==null&&It.memoizedState.tag&1){if(l.flags|=2048,go(9,Wu(),R0.bind(null,l,d,a,i),null),at===null)throw Error(s(349));m||(Ji&124)!==0||C0(l,i,a)}return a}function C0(r,i,a){r.flags|=16384,r={getSnapshot:i,value:a},i=De.updateQueue,i===null?(i=rm(),De.updateQueue=i,i.stores=[r]):(a=i.stores,a===null?i.stores=[r]:a.push(r))}function R0(r,i,a,l){i.value=a,i.getSnapshot=l,I0(i)&&k0(r)}function N0(r,i,a){return a(function(){I0(i)&&k0(r)})}function I0(r){var i=r.getSnapshot;r=r.value;try{var a=i();return!Nn(r,a)}catch{return!0}}function k0(r){var i=ao(r,2);i!==null&&Mn(i,r,2)}function om(r){var i=_n();if(typeof r=="function"){var a=r;if(r=a(),pa){zn(!0);try{a()}finally{zn(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:r},i}function D0(r,i,a,l){return r.baseState=a,sm(r,tt,typeof l=="function"?l:ii)}function ET(r,i,a,l,d){if(Ju(r))throw Error(s(485));if(r=i.action,r!==null){var m={payload:d,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};X.T!==null?a(!0):m.isTransition=!1,l(m),a=i.pending,a===null?(m.next=i.pending=m,j0(i,m)):(m.next=a.next,i.pending=a.next=m)}}function j0(r,i){var a=i.action,l=i.payload,d=r.state;if(i.isTransition){var m=X.T,_={};X.T=_;try{var E=a(d,l),R=X.S;R!==null&&R(_,E),O0(r,i,E)}catch(q){lm(r,i,q)}finally{X.T=m}}else try{m=a(d,l),O0(r,i,m)}catch(q){lm(r,i,q)}}function O0(r,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){M0(r,i,l)},function(l){return lm(r,i,l)}):M0(r,i,a)}function M0(r,i,a){i.status="fulfilled",i.value=a,P0(i),r.state=a,i=r.pending,i!==null&&(a=i.next,a===i?r.pending=null:(a=a.next,i.next=a,j0(r,a)))}function lm(r,i,a){var l=r.pending;if(r.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,P0(i),i=i.next;while(i!==l)}r.action=null}function P0(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function V0(r,i){return i}function L0(r,i){if($e){var a=at.formState;if(a!==null){e:{var l=De;if($e){if(vt){t:{for(var d=vt,m=Cr;d.nodeType!==8;){if(!m){d=null;break t}if(d=fr(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){vt=fr(d.nextSibling),l=d.data==="F!";break e}}ha(l)}l=!1}l&&(i=a[0])}}return a=_n(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:V0,lastRenderedState:i},a.queue=l,a=rv.bind(null,De,l),l.dispatch=a,l=om(!1),m=fm.bind(null,De,!1,l.queue),l=_n(),d={state:i,dispatch:null,action:r,pending:null},l.queue=d,a=ET.bind(null,De,d,m,a),d.dispatch=a,l.memoizedState=r,[i,a,!1]}function U0(r){var i=kt();return B0(i,tt,r)}function B0(r,i,a){if(i=sm(r,i,V0)[0],r=Xu(ii)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=$l(i)}catch(_){throw _===Bl?Fu:_}else l=i;i=kt();var d=i.queue,m=d.dispatch;return a!==i.memoizedState&&(De.flags|=2048,go(9,Wu(),xT.bind(null,d,a),null)),[l,m,r]}function xT(r,i){r.action=i}function z0(r){var i=kt(),a=tt;if(a!==null)return B0(i,a,r);kt(),i=i.memoizedState,a=kt();var l=a.queue.dispatch;return a.memoizedState=r,[i,l,!1]}function go(r,i,a,l){return r={tag:r,create:a,deps:l,inst:i,next:null},i=De.updateQueue,i===null&&(i=rm(),De.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=r.next=r:(l=a.next,a.next=r,r.next=l,i.lastEffect=r),r}function Wu(){return{destroy:void 0,resource:void 0}}function H0(){return kt().memoizedState}function Zu(r,i,a,l){var d=_n();l=l===void 0?null:l,De.flags|=r,d.memoizedState=go(1|i,Wu(),a,l)}function Yl(r,i,a,l){var d=kt();l=l===void 0?null:l;var m=d.memoizedState.inst;tt!==null&&l!==null&&Zf(l,tt.memoizedState.deps)?d.memoizedState=go(i,m,a,l):(De.flags|=r,d.memoizedState=go(1|i,m,a,l))}function q0(r,i){Zu(8390656,8,r,i)}function F0(r,i){Yl(2048,8,r,i)}function G0(r,i){return Yl(4,2,r,i)}function $0(r,i){return Yl(4,4,r,i)}function Y0(r,i){if(typeof i=="function"){r=r();var a=i(r);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function K0(r,i,a){a=a!=null?a.concat([r]):null,Yl(4,4,Y0.bind(null,i,r),a)}function cm(){}function Q0(r,i){var a=kt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Zf(i,l[1])?l[0]:(a.memoizedState=[r,i],r)}function X0(r,i){var a=kt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Zf(i,l[1]))return l[0];if(l=r(),pa){zn(!0);try{r()}finally{zn(!1)}}return a.memoizedState=[l,i],l}function um(r,i,a){return a===void 0||(Ji&1073741824)!==0?r.memoizedState=i:(r.memoizedState=a,r=Jv(),De.lanes|=r,as|=r,a)}function W0(r,i,a,l){return Nn(a,i)?a:fo.current!==null?(r=um(r,a,l),Nn(r,i)||(qt=!0),r):(Ji&42)===0?(qt=!0,r.memoizedState=a):(r=Jv(),De.lanes|=r,as|=r,i)}function Z0(r,i,a,l,d){var m=ce.p;ce.p=m!==0&&8>m?m:8;var _=X.T,E={};X.T=E,fm(r,!1,i,a);try{var R=d(),q=X.S;if(q!==null&&q(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var W=wT(R,l);Kl(r,i,W,On(r))}else Kl(r,i,l,On(r))}catch(te){Kl(r,i,{then:function(){},status:"rejected",reason:te},On())}finally{ce.p=m,X.T=_}}function TT(){}function hm(r,i,a,l){if(r.tag!==5)throw Error(s(476));var d=J0(r).queue;Z0(r,d,i,be,a===null?TT:function(){return ev(r),a(l)})}function J0(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:be,baseState:be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:be},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:a},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function ev(r){var i=J0(r).next.queue;Kl(r,i,{},On())}function dm(){return an(dc)}function tv(){return kt().memoizedState}function nv(){return kt().memoizedState}function AT(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var a=On();r=Wi(a);var l=Zi(i,r,a);l!==null&&(Mn(l,i,a),Hl(l,i,a)),i={cache:Hf()},r.payload=i;return}i=i.return}}function ST(r,i,a){var l=On();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ju(r)?iv(i,a):(a=Df(r,i,a,l),a!==null&&(Mn(a,r,l),sv(a,i,l)))}function rv(r,i,a){var l=On();Kl(r,i,a,l)}function Kl(r,i,a,l){var d={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ju(r))iv(i,d);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var _=i.lastRenderedState,E=m(_,a);if(d.hasEagerState=!0,d.eagerState=E,Nn(E,_))return Pu(r,i,d,0),at===null&&Mu(),!1}catch{}finally{}if(a=Df(r,i,d,l),a!==null)return Mn(a,r,l),sv(a,i,l),!0}return!1}function fm(r,i,a,l){if(l={lane:2,revertLane:Gm(),action:l,hasEagerState:!1,eagerState:null,next:null},Ju(r)){if(i)throw Error(s(479))}else i=Df(r,a,l,2),i!==null&&Mn(i,r,2)}function Ju(r){var i=r.alternate;return r===De||i!==null&&i===De}function iv(r,i){mo=Yu=!0;var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}function sv(r,i,a){if((a&4194048)!==0){var l=i.lanes;l&=r.pendingLanes,a|=l,i.lanes=a,Li(r,a)}}var eh={readContext:an,use:Qu,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At},av={readContext:an,use:Qu,useCallback:function(r,i){return _n().memoizedState=[r,i===void 0?null:i],r},useContext:an,useEffect:q0,useImperativeHandle:function(r,i,a){a=a!=null?a.concat([r]):null,Zu(4194308,4,Y0.bind(null,i,r),a)},useLayoutEffect:function(r,i){return Zu(4194308,4,r,i)},useInsertionEffect:function(r,i){Zu(4,2,r,i)},useMemo:function(r,i){var a=_n();i=i===void 0?null:i;var l=r();if(pa){zn(!0);try{r()}finally{zn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(r,i,a){var l=_n();if(a!==void 0){var d=a(i);if(pa){zn(!0);try{a(i)}finally{zn(!1)}}}else d=i;return l.memoizedState=l.baseState=d,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:d},l.queue=r,r=r.dispatch=ST.bind(null,De,r),[l.memoizedState,r]},useRef:function(r){var i=_n();return r={current:r},i.memoizedState=r},useState:function(r){r=om(r);var i=r.queue,a=rv.bind(null,De,i);return i.dispatch=a,[r.memoizedState,a]},useDebugValue:cm,useDeferredValue:function(r,i){var a=_n();return um(a,r,i)},useTransition:function(){var r=om(!1);return r=Z0.bind(null,De,r.queue,!0,!1),_n().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,a){var l=De,d=_n();if($e){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),at===null)throw Error(s(349));(Be&124)!==0||C0(l,i,a)}d.memoizedState=a;var m={value:a,getSnapshot:i};return d.queue=m,q0(N0.bind(null,l,m,r),[r]),l.flags|=2048,go(9,Wu(),R0.bind(null,l,m,a,i),null),a},useId:function(){var r=_n(),i=at.identifierPrefix;if($e){var a=ti,l=ei;a=(l&~(1<<32-fn(l)-1)).toString(32)+a,i=""+i+"R"+a,a=Ku++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=bT++,i=""+i+"r"+a.toString(32)+"";return r.memoizedState=i},useHostTransitionStatus:dm,useFormState:L0,useActionState:L0,useOptimistic:function(r){var i=_n();i.memoizedState=i.baseState=r;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=fm.bind(null,De,!0,a),a.dispatch=i,[r,i]},useMemoCache:im,useCacheRefresh:function(){return _n().memoizedState=AT.bind(null,De)}},ov={readContext:an,use:Qu,useCallback:Q0,useContext:an,useEffect:F0,useImperativeHandle:K0,useInsertionEffect:G0,useLayoutEffect:$0,useMemo:X0,useReducer:Xu,useRef:H0,useState:function(){return Xu(ii)},useDebugValue:cm,useDeferredValue:function(r,i){var a=kt();return W0(a,tt.memoizedState,r,i)},useTransition:function(){var r=Xu(ii)[0],i=kt().memoizedState;return[typeof r=="boolean"?r:$l(r),i]},useSyncExternalStore:S0,useId:tv,useHostTransitionStatus:dm,useFormState:U0,useActionState:U0,useOptimistic:function(r,i){var a=kt();return D0(a,tt,r,i)},useMemoCache:im,useCacheRefresh:nv},CT={readContext:an,use:Qu,useCallback:Q0,useContext:an,useEffect:F0,useImperativeHandle:K0,useInsertionEffect:G0,useLayoutEffect:$0,useMemo:X0,useReducer:am,useRef:H0,useState:function(){return am(ii)},useDebugValue:cm,useDeferredValue:function(r,i){var a=kt();return tt===null?um(a,r,i):W0(a,tt.memoizedState,r,i)},useTransition:function(){var r=am(ii)[0],i=kt().memoizedState;return[typeof r=="boolean"?r:$l(r),i]},useSyncExternalStore:S0,useId:tv,useHostTransitionStatus:dm,useFormState:z0,useActionState:z0,useOptimistic:function(r,i){var a=kt();return tt!==null?D0(a,tt,r,i):(a.baseState=r,[r,a.queue.dispatch])},useMemoCache:im,useCacheRefresh:nv},yo=null,Ql=0;function th(r){var i=Ql;return Ql+=1,yo===null&&(yo=[]),v0(yo,r,i)}function Xl(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function nh(r,i){throw i.$$typeof===x?Error(s(525)):(r=Object.prototype.toString.call(i),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function lv(r){var i=r._init;return i(r._payload)}function cv(r){function i(V,O){if(r){var z=V.deletions;z===null?(V.deletions=[O],V.flags|=16):z.push(O)}}function a(V,O){if(!r)return null;for(;O!==null;)i(V,O),O=O.sibling;return null}function l(V){for(var O=new Map;V!==null;)V.key!==null?O.set(V.key,V):O.set(V.index,V),V=V.sibling;return O}function d(V,O){return V=Jr(V,O),V.index=0,V.sibling=null,V}function m(V,O,z){return V.index=z,r?(z=V.alternate,z!==null?(z=z.index,z<O?(V.flags|=67108866,O):z):(V.flags|=67108866,O)):(V.flags|=1048576,O)}function _(V){return r&&V.alternate===null&&(V.flags|=67108866),V}function E(V,O,z,Z){return O===null||O.tag!==6?(O=Of(z,V.mode,Z),O.return=V,O):(O=d(O,z),O.return=V,O)}function R(V,O,z,Z){var me=z.type;return me===B?W(V,O,z.props.children,Z,z.key):O!==null&&(O.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===S&&lv(me)===O.type)?(O=d(O,z.props),Xl(O,z),O.return=V,O):(O=Lu(z.type,z.key,z.props,null,V.mode,Z),Xl(O,z),O.return=V,O)}function q(V,O,z,Z){return O===null||O.tag!==4||O.stateNode.containerInfo!==z.containerInfo||O.stateNode.implementation!==z.implementation?(O=Mf(z,V.mode,Z),O.return=V,O):(O=d(O,z.children||[]),O.return=V,O)}function W(V,O,z,Z,me){return O===null||O.tag!==7?(O=oa(z,V.mode,Z,me),O.return=V,O):(O=d(O,z),O.return=V,O)}function te(V,O,z){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Of(""+O,V.mode,z),O.return=V,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case A:return z=Lu(O.type,O.key,O.props,null,V.mode,z),Xl(z,O),z.return=V,z;case I:return O=Mf(O,V.mode,z),O.return=V,O;case S:var Z=O._init;return O=Z(O._payload),te(V,O,z)}if(ht(O)||L(O))return O=oa(O,V.mode,z,null),O.return=V,O;if(typeof O.then=="function")return te(V,th(O),z);if(O.$$typeof===se)return te(V,Hu(V,O),z);nh(V,O)}return null}function F(V,O,z,Z){var me=O!==null?O.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return me!==null?null:E(V,O,""+z,Z);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case A:return z.key===me?R(V,O,z,Z):null;case I:return z.key===me?q(V,O,z,Z):null;case S:return me=z._init,z=me(z._payload),F(V,O,z,Z)}if(ht(z)||L(z))return me!==null?null:W(V,O,z,Z,null);if(typeof z.then=="function")return F(V,O,th(z),Z);if(z.$$typeof===se)return F(V,O,Hu(V,z),Z);nh(V,z)}return null}function G(V,O,z,Z,me){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return V=V.get(z)||null,E(O,V,""+Z,me);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case A:return V=V.get(Z.key===null?z:Z.key)||null,R(O,V,Z,me);case I:return V=V.get(Z.key===null?z:Z.key)||null,q(O,V,Z,me);case S:var je=Z._init;return Z=je(Z._payload),G(V,O,z,Z,me)}if(ht(Z)||L(Z))return V=V.get(z)||null,W(O,V,Z,me,null);if(typeof Z.then=="function")return G(V,O,z,th(Z),me);if(Z.$$typeof===se)return G(V,O,z,Hu(O,Z),me);nh(O,Z)}return null}function Ce(V,O,z,Z){for(var me=null,je=null,pe=O,Te=O=0,Gt=null;pe!==null&&Te<z.length;Te++){pe.index>Te?(Gt=pe,pe=null):Gt=pe.sibling;var qe=F(V,pe,z[Te],Z);if(qe===null){pe===null&&(pe=Gt);break}r&&pe&&qe.alternate===null&&i(V,pe),O=m(qe,O,Te),je===null?me=qe:je.sibling=qe,je=qe,pe=Gt}if(Te===z.length)return a(V,pe),$e&&ca(V,Te),me;if(pe===null){for(;Te<z.length;Te++)pe=te(V,z[Te],Z),pe!==null&&(O=m(pe,O,Te),je===null?me=pe:je.sibling=pe,je=pe);return $e&&ca(V,Te),me}for(pe=l(pe);Te<z.length;Te++)Gt=G(pe,V,Te,z[Te],Z),Gt!==null&&(r&&Gt.alternate!==null&&pe.delete(Gt.key===null?Te:Gt.key),O=m(Gt,O,Te),je===null?me=Gt:je.sibling=Gt,je=Gt);return r&&pe.forEach(function(ps){return i(V,ps)}),$e&&ca(V,Te),me}function xe(V,O,z,Z){if(z==null)throw Error(s(151));for(var me=null,je=null,pe=O,Te=O=0,Gt=null,qe=z.next();pe!==null&&!qe.done;Te++,qe=z.next()){pe.index>Te?(Gt=pe,pe=null):Gt=pe.sibling;var ps=F(V,pe,qe.value,Z);if(ps===null){pe===null&&(pe=Gt);break}r&&pe&&ps.alternate===null&&i(V,pe),O=m(ps,O,Te),je===null?me=ps:je.sibling=ps,je=ps,pe=Gt}if(qe.done)return a(V,pe),$e&&ca(V,Te),me;if(pe===null){for(;!qe.done;Te++,qe=z.next())qe=te(V,qe.value,Z),qe!==null&&(O=m(qe,O,Te),je===null?me=qe:je.sibling=qe,je=qe);return $e&&ca(V,Te),me}for(pe=l(pe);!qe.done;Te++,qe=z.next())qe=G(pe,V,Te,qe.value,Z),qe!==null&&(r&&qe.alternate!==null&&pe.delete(qe.key===null?Te:qe.key),O=m(qe,O,Te),je===null?me=qe:je.sibling=qe,je=qe);return r&&pe.forEach(function(R4){return i(V,R4)}),$e&&ca(V,Te),me}function rt(V,O,z,Z){if(typeof z=="object"&&z!==null&&z.type===B&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case A:e:{for(var me=z.key;O!==null;){if(O.key===me){if(me=z.type,me===B){if(O.tag===7){a(V,O.sibling),Z=d(O,z.props.children),Z.return=V,V=Z;break e}}else if(O.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===S&&lv(me)===O.type){a(V,O.sibling),Z=d(O,z.props),Xl(Z,z),Z.return=V,V=Z;break e}a(V,O);break}else i(V,O);O=O.sibling}z.type===B?(Z=oa(z.props.children,V.mode,Z,z.key),Z.return=V,V=Z):(Z=Lu(z.type,z.key,z.props,null,V.mode,Z),Xl(Z,z),Z.return=V,V=Z)}return _(V);case I:e:{for(me=z.key;O!==null;){if(O.key===me)if(O.tag===4&&O.stateNode.containerInfo===z.containerInfo&&O.stateNode.implementation===z.implementation){a(V,O.sibling),Z=d(O,z.children||[]),Z.return=V,V=Z;break e}else{a(V,O);break}else i(V,O);O=O.sibling}Z=Mf(z,V.mode,Z),Z.return=V,V=Z}return _(V);case S:return me=z._init,z=me(z._payload),rt(V,O,z,Z)}if(ht(z))return Ce(V,O,z,Z);if(L(z)){if(me=L(z),typeof me!="function")throw Error(s(150));return z=me.call(z),xe(V,O,z,Z)}if(typeof z.then=="function")return rt(V,O,th(z),Z);if(z.$$typeof===se)return rt(V,O,Hu(V,z),Z);nh(V,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,O!==null&&O.tag===6?(a(V,O.sibling),Z=d(O,z),Z.return=V,V=Z):(a(V,O),Z=Of(z,V.mode,Z),Z.return=V,V=Z),_(V)):a(V,O)}return function(V,O,z,Z){try{Ql=0;var me=rt(V,O,z,Z);return yo=null,me}catch(pe){if(pe===Bl||pe===Fu)throw pe;var je=In(29,pe,null,V.mode);return je.lanes=Z,je.return=V,je}finally{}}}var vo=cv(!0),uv=cv(!1),Xn=re(null),Rr=null;function es(r){var i=r.alternate;le(Ut,Ut.current&1),le(Xn,r),Rr===null&&(i===null||fo.current!==null||i.memoizedState!==null)&&(Rr=r)}function hv(r){if(r.tag===22){if(le(Ut,Ut.current),le(Xn,r),Rr===null){var i=r.alternate;i!==null&&i.memoizedState!==null&&(Rr=r)}}else ts()}function ts(){le(Ut,Ut.current),le(Xn,Xn.current)}function si(r){he(Xn),Rr===r&&(Rr=null),he(Ut)}var Ut=re(0);function rh(r){for(var i=r;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||rp(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function mm(r,i,a,l){i=r.memoizedState,a=a(l,i),a=a==null?i:w({},i,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var pm={enqueueSetState:function(r,i,a){r=r._reactInternals;var l=On(),d=Wi(l);d.payload=i,a!=null&&(d.callback=a),i=Zi(r,d,l),i!==null&&(Mn(i,r,l),Hl(i,r,l))},enqueueReplaceState:function(r,i,a){r=r._reactInternals;var l=On(),d=Wi(l);d.tag=1,d.payload=i,a!=null&&(d.callback=a),i=Zi(r,d,l),i!==null&&(Mn(i,r,l),Hl(i,r,l))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var a=On(),l=Wi(a);l.tag=2,i!=null&&(l.callback=i),i=Zi(r,l,a),i!==null&&(Mn(i,r,a),Hl(i,r,a))}};function dv(r,i,a,l,d,m,_){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(l,m,_):i.prototype&&i.prototype.isPureReactComponent?!Dl(a,l)||!Dl(d,m):!0}function fv(r,i,a,l){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==r&&pm.enqueueReplaceState(i,i.state,null)}function ga(r,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(r=r.defaultProps){a===i&&(a=w({},a));for(var d in r)a[d]===void 0&&(a[d]=r[d])}return a}var ih=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function mv(r){ih(r)}function pv(r){console.error(r)}function gv(r){ih(r)}function sh(r,i){try{var a=r.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function yv(r,i,a){try{var l=r.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function gm(r,i,a){return a=Wi(a),a.tag=3,a.payload={element:null},a.callback=function(){sh(r,i)},a}function vv(r){return r=Wi(r),r.tag=3,r}function wv(r,i,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var m=l.value;r.payload=function(){return d(m)},r.callback=function(){yv(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(r.callback=function(){yv(i,a,l),typeof d!="function"&&(os===null?os=new Set([this]):os.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function RT(r,i,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Vl(i,a,d,!0),a=Xn.current,a!==null){switch(a.tag){case 13:return Rr===null?Bm():a.alternate===null&&wt===0&&(wt=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===Gf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Hm(r,l,d)),!1;case 22:return a.flags|=65536,l===Gf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Hm(r,l,d)),!1}throw Error(s(435,a.tag))}return Hm(r,l,d),Bm(),!1}if($e)return i=Xn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,l!==Lf&&(r=Error(s(422),{cause:l}),Pl($n(r,a)))):(l!==Lf&&(i=Error(s(423),{cause:l}),Pl($n(i,a))),r=r.current.alternate,r.flags|=65536,d&=-d,r.lanes|=d,l=$n(l,a),d=gm(r.stateNode,l,d),Kf(r,d),wt!==4&&(wt=2)),!1;var m=Error(s(520),{cause:l});if(m=$n(m,a),rc===null?rc=[m]:rc.push(m),wt!==4&&(wt=2),i===null)return!0;l=$n(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,r=d&-d,a.lanes|=r,r=gm(a.stateNode,l,r),Kf(a,r),!1;case 1:if(i=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(os===null||!os.has(m))))return a.flags|=65536,d&=-d,a.lanes|=d,d=vv(d),wv(d,r,a,l),Kf(a,d),!1}a=a.return}while(a!==null);return!1}var bv=Error(s(461)),qt=!1;function Wt(r,i,a,l){i.child=r===null?uv(i,null,a,l):vo(i,r.child,a,l)}function _v(r,i,a,l,d){a=a.render;var m=i.ref;if("ref"in l){var _={};for(var E in l)E!=="ref"&&(_[E]=l[E])}else _=l;return fa(i),l=Jf(r,i,a,_,m,d),E=em(),r!==null&&!qt?(tm(r,i,d),ai(r,i,d)):($e&&E&&Pf(i),i.flags|=1,Wt(r,i,l,d),i.child)}function Ev(r,i,a,l,d){if(r===null){var m=a.type;return typeof m=="function"&&!jf(m)&&m.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=m,xv(r,i,m,l,d)):(r=Lu(a.type,null,l,i,i.mode,d),r.ref=i.ref,r.return=i,i.child=r)}if(m=r.child,!Tm(r,d)){var _=m.memoizedProps;if(a=a.compare,a=a!==null?a:Dl,a(_,l)&&r.ref===i.ref)return ai(r,i,d)}return i.flags|=1,r=Jr(m,l),r.ref=i.ref,r.return=i,i.child=r}function xv(r,i,a,l,d){if(r!==null){var m=r.memoizedProps;if(Dl(m,l)&&r.ref===i.ref)if(qt=!1,i.pendingProps=l=m,Tm(r,d))(r.flags&131072)!==0&&(qt=!0);else return i.lanes=r.lanes,ai(r,i,d)}return ym(r,i,a,l,d)}function Tv(r,i,a){var l=i.pendingProps,d=l.children,m=r!==null?r.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,r!==null){for(d=i.child=r.child,m=0;d!==null;)m=m|d.lanes|d.childLanes,d=d.sibling;i.childLanes=m&~l}else i.childLanes=0,i.child=null;return Av(r,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&qu(i,m!==null?m.cachePool:null),m!==null?x0(i,m):Xf(),hv(i);else return i.lanes=i.childLanes=536870912,Av(r,i,m!==null?m.baseLanes|a:a,a)}else m!==null?(qu(i,m.cachePool),x0(i,m),ts(),i.memoizedState=null):(r!==null&&qu(i,null),Xf(),ts());return Wt(r,i,d,a),i.child}function Av(r,i,a,l){var d=Ff();return d=d===null?null:{parent:Lt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},r!==null&&qu(i,null),Xf(),hv(i),r!==null&&Vl(r,i,l,!0),null}function ah(r,i){var a=i.ref;if(a===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(r===null||r.ref!==a)&&(i.flags|=4194816)}}function ym(r,i,a,l,d){return fa(i),a=Jf(r,i,a,l,void 0,d),l=em(),r!==null&&!qt?(tm(r,i,d),ai(r,i,d)):($e&&l&&Pf(i),i.flags|=1,Wt(r,i,a,d),i.child)}function Sv(r,i,a,l,d,m){return fa(i),i.updateQueue=null,a=A0(i,l,a,d),T0(r),l=em(),r!==null&&!qt?(tm(r,i,m),ai(r,i,m)):($e&&l&&Pf(i),i.flags|=1,Wt(r,i,a,m),i.child)}function Cv(r,i,a,l,d){if(fa(i),i.stateNode===null){var m=oo,_=a.contextType;typeof _=="object"&&_!==null&&(m=an(_)),m=new a(l,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=pm,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=l,m.state=i.memoizedState,m.refs={},$f(i),_=a.contextType,m.context=typeof _=="object"&&_!==null?an(_):oo,m.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(mm(i,a,_,l),m.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&pm.enqueueReplaceState(m,m.state,null),Fl(i,l,m,d),ql(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(r===null){m=i.stateNode;var E=i.memoizedProps,R=ga(a,E);m.props=R;var q=m.context,W=a.contextType;_=oo,typeof W=="object"&&W!==null&&(_=an(W));var te=a.getDerivedStateFromProps;W=typeof te=="function"||typeof m.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,W||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E||q!==_)&&fv(i,m,l,_),Xi=!1;var F=i.memoizedState;m.state=F,Fl(i,l,m,d),ql(),q=i.memoizedState,E||F!==q||Xi?(typeof te=="function"&&(mm(i,a,te,l),q=i.memoizedState),(R=Xi||dv(i,a,R,l,F,q,_))?(W||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=q),m.props=l,m.state=q,m.context=_,l=R):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{m=i.stateNode,Yf(r,i),_=i.memoizedProps,W=ga(a,_),m.props=W,te=i.pendingProps,F=m.context,q=a.contextType,R=oo,typeof q=="object"&&q!==null&&(R=an(q)),E=a.getDerivedStateFromProps,(q=typeof E=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==te||F!==R)&&fv(i,m,l,R),Xi=!1,F=i.memoizedState,m.state=F,Fl(i,l,m,d),ql();var G=i.memoizedState;_!==te||F!==G||Xi||r!==null&&r.dependencies!==null&&zu(r.dependencies)?(typeof E=="function"&&(mm(i,a,E,l),G=i.memoizedState),(W=Xi||dv(i,a,W,l,F,G,R)||r!==null&&r.dependencies!==null&&zu(r.dependencies))?(q||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,G,R),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,G,R)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===r.memoizedProps&&F===r.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===r.memoizedProps&&F===r.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=G),m.props=l,m.state=G,m.context=R,l=W):(typeof m.componentDidUpdate!="function"||_===r.memoizedProps&&F===r.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===r.memoizedProps&&F===r.memoizedState||(i.flags|=1024),l=!1)}return m=l,ah(r,i),l=(i.flags&128)!==0,m||l?(m=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,r!==null&&l?(i.child=vo(i,r.child,null,d),i.child=vo(i,null,a,d)):Wt(r,i,a,d),i.memoizedState=m.state,r=i.child):r=ai(r,i,d),r}function Rv(r,i,a,l){return Ml(),i.flags|=256,Wt(r,i,a,l),i.child}var vm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wm(r){return{baseLanes:r,cachePool:p0()}}function bm(r,i,a){return r=r!==null?r.childLanes&~a:0,i&&(r|=Wn),r}function Nv(r,i,a){var l=i.pendingProps,d=!1,m=(i.flags&128)!==0,_;if((_=m)||(_=r!==null&&r.memoizedState===null?!1:(Ut.current&2)!==0),_&&(d=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,r===null){if($e){if(d?es(i):ts(),$e){var E=vt,R;if(R=E){e:{for(R=E,E=Cr;R.nodeType!==8;){if(!E){E=null;break e}if(R=fr(R.nextSibling),R===null){E=null;break e}}E=R}E!==null?(i.memoizedState={dehydrated:E,treeContext:la!==null?{id:ei,overflow:ti}:null,retryLane:536870912,hydrationErrors:null},R=In(18,null,null,0),R.stateNode=E,R.return=i,i.child=R,yn=i,vt=null,R=!0):R=!1}R||ha(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return rp(E)?i.lanes=32:i.lanes=536870912,null;si(i)}return E=l.children,l=l.fallback,d?(ts(),d=i.mode,E=oh({mode:"hidden",children:E},d),l=oa(l,d,a,null),E.return=i,l.return=i,E.sibling=l,i.child=E,d=i.child,d.memoizedState=wm(a),d.childLanes=bm(r,_,a),i.memoizedState=vm,l):(es(i),_m(i,E))}if(R=r.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(m)i.flags&256?(es(i),i.flags&=-257,i=Em(r,i,a)):i.memoizedState!==null?(ts(),i.child=r.child,i.flags|=128,i=null):(ts(),d=l.fallback,E=i.mode,l=oh({mode:"visible",children:l.children},E),d=oa(d,E,a,null),d.flags|=2,l.return=i,d.return=i,l.sibling=d,i.child=l,vo(i,r.child,null,a),l=i.child,l.memoizedState=wm(a),l.childLanes=bm(r,_,a),i.memoizedState=vm,i=d);else if(es(i),rp(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var q=_.dgst;_=q,l=Error(s(419)),l.stack="",l.digest=_,Pl({value:l,source:null,stack:null}),i=Em(r,i,a)}else if(qt||Vl(r,i,a,!1),_=(a&r.childLanes)!==0,qt||_){if(_=at,_!==null&&(l=a&-a,l=(l&42)!==0?1:pl(l),l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,ao(r,l),Mn(_,r,l),bv;E.data==="$?"||Bm(),i=Em(r,i,a)}else E.data==="$?"?(i.flags|=192,i.child=r.child,i=null):(r=R.treeContext,vt=fr(E.nextSibling),yn=i,$e=!0,ua=null,Cr=!1,r!==null&&(Kn[Qn++]=ei,Kn[Qn++]=ti,Kn[Qn++]=la,ei=r.id,ti=r.overflow,la=i),i=_m(i,l.children),i.flags|=4096);return i}return d?(ts(),d=l.fallback,E=i.mode,R=r.child,q=R.sibling,l=Jr(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,q!==null?d=Jr(q,d):(d=oa(d,E,a,null),d.flags|=2),d.return=i,l.return=i,l.sibling=d,i.child=l,l=d,d=i.child,E=r.child.memoizedState,E===null?E=wm(a):(R=E.cachePool,R!==null?(q=Lt._currentValue,R=R.parent!==q?{parent:q,pool:q}:R):R=p0(),E={baseLanes:E.baseLanes|a,cachePool:R}),d.memoizedState=E,d.childLanes=bm(r,_,a),i.memoizedState=vm,l):(es(i),a=r.child,r=a.sibling,a=Jr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,r!==null&&(_=i.deletions,_===null?(i.deletions=[r],i.flags|=16):_.push(r)),i.child=a,i.memoizedState=null,a)}function _m(r,i){return i=oh({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function oh(r,i){return r=In(22,r,null,i),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Em(r,i,a){return vo(i,r.child,null,a),r=_m(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function Iv(r,i,a){r.lanes|=i;var l=r.alternate;l!==null&&(l.lanes|=i),Bf(r.return,i,a)}function xm(r,i,a,l,d){var m=r.memoizedState;m===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=d)}function kv(r,i,a){var l=i.pendingProps,d=l.revealOrder,m=l.tail;if(Wt(r,i,l.children,a),l=Ut.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Iv(r,a,i);else if(r.tag===19)Iv(r,a,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}l&=1}switch(le(Ut,l),d){case"forwards":for(a=i.child,d=null;a!==null;)r=a.alternate,r!==null&&rh(r)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),xm(i,!1,d,a,m);break;case"backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(r=d.alternate,r!==null&&rh(r)===null){i.child=d;break}r=d.sibling,d.sibling=a,a=d,d=r}xm(i,!0,a,null,m);break;case"together":xm(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ai(r,i,a){if(r!==null&&(i.dependencies=r.dependencies),as|=i.lanes,(a&i.childLanes)===0)if(r!==null){if(Vl(r,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(s(153));if(i.child!==null){for(r=i.child,a=Jr(r,r.pendingProps),i.child=a,a.return=i;r.sibling!==null;)r=r.sibling,a=a.sibling=Jr(r,r.pendingProps),a.return=i;a.sibling=null}return i.child}function Tm(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&zu(r)))}function NT(r,i,a){switch(i.tag){case 3:Je(i,i.stateNode.containerInfo),Qi(i,Lt,r.memoizedState.cache),Ml();break;case 27:case 5:hl(i);break;case 4:Je(i,i.stateNode.containerInfo);break;case 10:Qi(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(es(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Nv(r,i,a):(es(i),r=ai(r,i,a),r!==null?r.sibling:null);es(i);break;case 19:var d=(r.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Vl(r,i,a,!1),l=(a&i.childLanes)!==0),d){if(l)return kv(r,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),le(Ut,Ut.current),l)break;return null;case 22:case 23:return i.lanes=0,Tv(r,i,a);case 24:Qi(i,Lt,r.memoizedState.cache)}return ai(r,i,a)}function Dv(r,i,a){if(r!==null)if(r.memoizedProps!==i.pendingProps)qt=!0;else{if(!Tm(r,a)&&(i.flags&128)===0)return qt=!1,NT(r,i,a);qt=(r.flags&131072)!==0}else qt=!1,$e&&(i.flags&1048576)!==0&&l0(i,Bu,i.index);switch(i.lanes=0,i.tag){case 16:e:{r=i.pendingProps;var l=i.elementType,d=l._init;if(l=d(l._payload),i.type=l,typeof l=="function")jf(l)?(r=ga(l,r),i.tag=1,i=Cv(null,i,l,r,a)):(i.tag=0,i=ym(null,i,l,r,a));else{if(l!=null){if(d=l.$$typeof,d===ie){i.tag=11,i=_v(null,i,l,r,a);break e}else if(d===k){i.tag=14,i=Ev(null,i,l,r,a);break e}}throw i=yt(l)||l,Error(s(306,i,""))}}return i;case 0:return ym(r,i,i.type,i.pendingProps,a);case 1:return l=i.type,d=ga(l,i.pendingProps),Cv(r,i,l,d,a);case 3:e:{if(Je(i,i.stateNode.containerInfo),r===null)throw Error(s(387));l=i.pendingProps;var m=i.memoizedState;d=m.element,Yf(r,i),Fl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Qi(i,Lt,l),l!==m.cache&&zf(i,[Lt],a,!0),ql(),l=_.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=Rv(r,i,l,a);break e}else if(l!==d){d=$n(Error(s(424)),i),Pl(d),i=Rv(r,i,l,a);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(vt=fr(r.firstChild),yn=i,$e=!0,ua=null,Cr=!0,a=uv(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ml(),l===d){i=ai(r,i,a);break e}Wt(r,i,l,a)}i=i.child}return i;case 26:return ah(r,i),r===null?(a=P2(i.type,null,i.pendingProps,null))?i.memoizedState=a:$e||(a=i.type,r=i.pendingProps,l=_h(Se.current).createElement(a),l[Et]=i,l[Xt]=r,Jt(l,a,r),xt(l),i.stateNode=l):i.memoizedState=P2(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return hl(i),r===null&&$e&&(l=i.stateNode=j2(i.type,i.pendingProps,Se.current),yn=i,Cr=!0,d=vt,us(i.type)?(ip=d,vt=fr(l.firstChild)):vt=d),Wt(r,i,i.pendingProps.children,a),ah(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&$e&&((d=l=vt)&&(l=r4(l,i.type,i.pendingProps,Cr),l!==null?(i.stateNode=l,yn=i,vt=fr(l.firstChild),Cr=!1,d=!0):d=!1),d||ha(i)),hl(i),d=i.type,m=i.pendingProps,_=r!==null?r.memoizedProps:null,l=m.children,ep(d,m)?l=null:_!==null&&ep(d,_)&&(i.flags|=32),i.memoizedState!==null&&(d=Jf(r,i,_T,null,null,a),dc._currentValue=d),ah(r,i),Wt(r,i,l,a),i.child;case 6:return r===null&&$e&&((r=a=vt)&&(a=i4(a,i.pendingProps,Cr),a!==null?(i.stateNode=a,yn=i,vt=null,r=!0):r=!1),r||ha(i)),null;case 13:return Nv(r,i,a);case 4:return Je(i,i.stateNode.containerInfo),l=i.pendingProps,r===null?i.child=vo(i,null,l,a):Wt(r,i,l,a),i.child;case 11:return _v(r,i,i.type,i.pendingProps,a);case 7:return Wt(r,i,i.pendingProps,a),i.child;case 8:return Wt(r,i,i.pendingProps.children,a),i.child;case 12:return Wt(r,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Qi(i,i.type,l.value),Wt(r,i,l.children,a),i.child;case 9:return d=i.type._context,l=i.pendingProps.children,fa(i),d=an(d),l=l(d),i.flags|=1,Wt(r,i,l,a),i.child;case 14:return Ev(r,i,i.type,i.pendingProps,a);case 15:return xv(r,i,i.type,i.pendingProps,a);case 19:return kv(r,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},r===null?(a=oh(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Jr(r.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Tv(r,i,a);case 24:return fa(i),l=an(Lt),r===null?(d=Ff(),d===null&&(d=at,m=Hf(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=a),d=m),i.memoizedState={parent:l,cache:d},$f(i),Qi(i,Lt,d)):((r.lanes&a)!==0&&(Yf(r,i),Fl(i,null,null,a),ql()),d=r.memoizedState,m=i.memoizedState,d.parent!==l?(d={parent:l,cache:l},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),Qi(i,Lt,l)):(l=m.cache,Qi(i,Lt,l),l!==d.cache&&zf(i,[Lt],a,!0))),Wt(r,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function oi(r){r.flags|=4}function jv(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!z2(i)){if(i=Xn.current,i!==null&&((Be&4194048)===Be?Rr!==null:(Be&62914560)!==Be&&(Be&536870912)===0||i!==Rr))throw zl=Gf,g0;r.flags|=8192}}function lh(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?Pi():536870912,r.lanes|=i,Eo|=i)}function Wl(r,i){if(!$e)switch(r.tailMode){case"hidden":i=r.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:l.sibling=null}}function mt(r){var i=r.alternate!==null&&r.alternate.child===r.child,a=0,l=0;if(i)for(var d=r.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=l,r.childLanes=a,i}function IT(r,i,a){var l=i.pendingProps;switch(Vf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(i),null;case 1:return mt(i),null;case 3:return a=i.stateNode,l=null,r!==null&&(l=r.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ri(Lt),rr(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(r===null||r.child===null)&&(Ol(i)?oi(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,h0())),mt(i),null;case 26:return a=i.memoizedState,r===null?(oi(i),a!==null?(mt(i),jv(i,a)):(mt(i),i.flags&=-16777217)):a?a!==r.memoizedState?(oi(i),mt(i),jv(i,a)):(mt(i),i.flags&=-16777217):(r.memoizedProps!==l&&oi(i),mt(i),i.flags&=-16777217),null;case 27:Ba(i),a=Se.current;var d=i.type;if(r!==null&&i.stateNode!=null)r.memoizedProps!==l&&oi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return mt(i),null}r=ye.current,Ol(i)?c0(i):(r=j2(d,l,a),i.stateNode=r,oi(i))}return mt(i),null;case 5:if(Ba(i),a=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==l&&oi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return mt(i),null}if(r=ye.current,Ol(i))c0(i);else{switch(d=_h(Se.current),r){case 1:r=d.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:r=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":r=d.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":r=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":r=d.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?r.multiple=!0:l.size&&(r.size=l.size);break;default:r=typeof l.is=="string"?d.createElement(a,{is:l.is}):d.createElement(a)}}r[Et]=i,r[Xt]=l;e:for(d=i.child;d!==null;){if(d.tag===5||d.tag===6)r.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break e;for(;d.sibling===null;){if(d.return===null||d.return===i)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i.stateNode=r;e:switch(Jt(r,a,l),a){case"button":case"input":case"select":case"textarea":r=!!l.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&oi(i)}}return mt(i),i.flags&=-16777217,null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==l&&oi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(r=Se.current,Ol(i)){if(r=i.stateNode,a=i.memoizedProps,l=null,d=yn,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}r[Et]=i,r=!!(r.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||S2(r.nodeValue,a)),r||ha(i)}else r=_h(r).createTextNode(l),r[Et]=i,i.stateNode=r}return mt(i),null;case 13:if(l=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(d=Ol(i),l!==null&&l.dehydrated!==null){if(r===null){if(!d)throw Error(s(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Et]=i}else Ml(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;mt(i),d=!1}else d=h0(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(si(i),i):(si(i),null)}if(si(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,r=r!==null&&r.memoizedState!==null,a){l=i.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==d&&(l.flags|=2048)}return a!==r&&a&&(i.child.flags|=8192),lh(i,i.updateQueue),mt(i),null;case 4:return rr(),r===null&&Qm(i.stateNode.containerInfo),mt(i),null;case 10:return ri(i.type),mt(i),null;case 19:if(he(Ut),d=i.memoizedState,d===null)return mt(i),null;if(l=(i.flags&128)!==0,m=d.rendering,m===null)if(l)Wl(d,!1);else{if(wt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(m=rh(r),m!==null){for(i.flags|=128,Wl(d,!1),r=m.updateQueue,i.updateQueue=r,lh(i,r),i.subtreeFlags=0,r=a,a=i.child;a!==null;)o0(a,r),a=a.sibling;return le(Ut,Ut.current&1|2),i.child}r=r.sibling}d.tail!==null&&bn()>hh&&(i.flags|=128,l=!0,Wl(d,!1),i.lanes=4194304)}else{if(!l)if(r=rh(m),r!==null){if(i.flags|=128,l=!0,r=r.updateQueue,i.updateQueue=r,lh(i,r),Wl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!m.alternate&&!$e)return mt(i),null}else 2*bn()-d.renderingStartTime>hh&&a!==536870912&&(i.flags|=128,l=!0,Wl(d,!1),i.lanes=4194304);d.isBackwards?(m.sibling=i.child,i.child=m):(r=d.last,r!==null?r.sibling=m:i.child=m,d.last=m)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=bn(),i.sibling=null,r=Ut.current,le(Ut,l?r&1|2:r&1),i):(mt(i),null);case 22:case 23:return si(i),Wf(),l=i.memoizedState!==null,r!==null?r.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(mt(i),i.subtreeFlags&6&&(i.flags|=8192)):mt(i),a=i.updateQueue,a!==null&&lh(i,a.retryQueue),a=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),r!==null&&he(ma),null;case 24:return a=null,r!==null&&(a=r.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ri(Lt),mt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function kT(r,i){switch(Vf(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return ri(Lt),rr(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return Ba(i),null;case 13:if(si(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ml()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return he(Ut),null;case 4:return rr(),null;case 10:return ri(i.type),null;case 22:case 23:return si(i),Wf(),r!==null&&he(ma),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return ri(Lt),null;case 25:return null;default:return null}}function Ov(r,i){switch(Vf(i),i.tag){case 3:ri(Lt),rr();break;case 26:case 27:case 5:Ba(i);break;case 4:rr();break;case 13:si(i);break;case 19:he(Ut);break;case 10:ri(i.type);break;case 22:case 23:si(i),Wf(),r!==null&&he(ma);break;case 24:ri(Lt)}}function Zl(r,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&r)===r){l=void 0;var m=a.create,_=a.inst;l=m(),_.destroy=l}a=a.next}while(a!==d)}}catch(E){it(i,i.return,E)}}function ns(r,i,a){try{var l=i.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var m=d.next;l=m;do{if((l.tag&r)===r){var _=l.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,d=i;var R=a,q=E;try{q()}catch(W){it(d,R,W)}}}l=l.next}while(l!==m)}}catch(W){it(i,i.return,W)}}function Mv(r){var i=r.updateQueue;if(i!==null){var a=r.stateNode;try{E0(i,a)}catch(l){it(r,r.return,l)}}}function Pv(r,i,a){a.props=ga(r.type,r.memoizedProps),a.state=r.memoizedState;try{a.componentWillUnmount()}catch(l){it(r,i,l)}}function Jl(r,i){try{var a=r.ref;if(a!==null){switch(r.tag){case 26:case 27:case 5:var l=r.stateNode;break;case 30:l=r.stateNode;break;default:l=r.stateNode}typeof a=="function"?r.refCleanup=a(l):a.current=l}}catch(d){it(r,i,d)}}function Nr(r,i){var a=r.ref,l=r.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){it(r,i,d)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){it(r,i,d)}else a.current=null}function Vv(r){var i=r.type,a=r.memoizedProps,l=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){it(r,r.return,d)}}function Am(r,i,a){try{var l=r.stateNode;ZT(l,r.type,a,i),l[Xt]=i}catch(d){it(r,r.return,d)}}function Lv(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&us(r.type)||r.tag===4}function Sm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Lv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&us(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Cm(r,i,a){var l=r.tag;if(l===5||l===6)r=r.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(r,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(r),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=bh));else if(l!==4&&(l===27&&us(r.type)&&(a=r.stateNode,i=null),r=r.child,r!==null))for(Cm(r,i,a),r=r.sibling;r!==null;)Cm(r,i,a),r=r.sibling}function ch(r,i,a){var l=r.tag;if(l===5||l===6)r=r.stateNode,i?a.insertBefore(r,i):a.appendChild(r);else if(l!==4&&(l===27&&us(r.type)&&(a=r.stateNode),r=r.child,r!==null))for(ch(r,i,a),r=r.sibling;r!==null;)ch(r,i,a),r=r.sibling}function Uv(r){var i=r.stateNode,a=r.memoizedProps;try{for(var l=r.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);Jt(i,l,a),i[Et]=r,i[Xt]=a}catch(m){it(r,r.return,m)}}var li=!1,St=!1,Rm=!1,Bv=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function DT(r,i){if(r=r.containerInfo,Zm=Ch,r=Wy(r),Sf(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var _=0,E=-1,R=-1,q=0,W=0,te=r,F=null;t:for(;;){for(var G;te!==a||d!==0&&te.nodeType!==3||(E=_+d),te!==m||l!==0&&te.nodeType!==3||(R=_+l),te.nodeType===3&&(_+=te.nodeValue.length),(G=te.firstChild)!==null;)F=te,te=G;for(;;){if(te===r)break t;if(F===a&&++q===d&&(E=_),F===m&&++W===l&&(R=_),(G=te.nextSibling)!==null)break;te=F,F=te.parentNode}te=G}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Jm={focusedElem:r,selectionRange:a},Ch=!1,Ft=i;Ft!==null;)if(i=Ft,r=i.child,(i.subtreeFlags&1024)!==0&&r!==null)r.return=i,Ft=r;else for(;Ft!==null;){switch(i=Ft,m=i.alternate,r=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&m!==null){r=void 0,a=i,d=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var Ce=ga(a.type,d,a.elementType===a.type);r=l.getSnapshotBeforeUpdate(Ce,m),l.__reactInternalSnapshotBeforeUpdate=r}catch(xe){it(a,a.return,xe)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,a=r.nodeType,a===9)np(r);else if(a===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":np(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=i.sibling,r!==null){r.return=i.return,Ft=r;break}Ft=i.return}}function zv(r,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:rs(r,a),l&4&&Zl(5,a);break;case 1:if(rs(r,a),l&4)if(r=a.stateNode,i===null)try{r.componentDidMount()}catch(_){it(a,a.return,_)}else{var d=ga(a.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(d,i,r.__reactInternalSnapshotBeforeUpdate)}catch(_){it(a,a.return,_)}}l&64&&Mv(a),l&512&&Jl(a,a.return);break;case 3:if(rs(r,a),l&64&&(r=a.updateQueue,r!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{E0(r,i)}catch(_){it(a,a.return,_)}}break;case 27:i===null&&l&4&&Uv(a);case 26:case 5:rs(r,a),i===null&&l&4&&Vv(a),l&512&&Jl(a,a.return);break;case 12:rs(r,a);break;case 13:rs(r,a),l&4&&Fv(r,a),l&64&&(r=a.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(a=zT.bind(null,a),s4(r,a))));break;case 22:if(l=a.memoizedState!==null||li,!l){i=i!==null&&i.memoizedState!==null||St,d=li;var m=St;li=l,(St=i)&&!m?is(r,a,(a.subtreeFlags&8772)!==0):rs(r,a),li=d,St=m}break;case 30:break;default:rs(r,a)}}function Hv(r){var i=r.alternate;i!==null&&(r.alternate=null,Hv(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&Ga(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var dt=null,En=!1;function ci(r,i,a){for(a=a.child;a!==null;)qv(r,i,a),a=a.sibling}function qv(r,i,a){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(ji,a)}catch{}switch(a.tag){case 26:St||Nr(a,i),ci(r,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:St||Nr(a,i);var l=dt,d=En;us(a.type)&&(dt=a.stateNode,En=!1),ci(r,i,a),lc(a.stateNode),dt=l,En=d;break;case 5:St||Nr(a,i);case 6:if(l=dt,d=En,dt=null,ci(r,i,a),dt=l,En=d,dt!==null)if(En)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(a.stateNode)}catch(m){it(a,i,m)}else try{dt.removeChild(a.stateNode)}catch(m){it(a,i,m)}break;case 18:dt!==null&&(En?(r=dt,k2(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,a.stateNode),gc(r)):k2(dt,a.stateNode));break;case 4:l=dt,d=En,dt=a.stateNode.containerInfo,En=!0,ci(r,i,a),dt=l,En=d;break;case 0:case 11:case 14:case 15:St||ns(2,a,i),St||ns(4,a,i),ci(r,i,a);break;case 1:St||(Nr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Pv(a,i,l)),ci(r,i,a);break;case 21:ci(r,i,a);break;case 22:St=(l=St)||a.memoizedState!==null,ci(r,i,a),St=l;break;default:ci(r,i,a)}}function Fv(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{gc(r)}catch(a){it(i,i.return,a)}}function jT(r){switch(r.tag){case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new Bv),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new Bv),i;default:throw Error(s(435,r.tag))}}function Nm(r,i){var a=jT(r);i.forEach(function(l){var d=HT.bind(null,r,l);a.has(l)||(a.add(l),l.then(d,d))})}function kn(r,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],m=r,_=i,E=_;e:for(;E!==null;){switch(E.tag){case 27:if(us(E.type)){dt=E.stateNode,En=!1;break e}break;case 5:dt=E.stateNode,En=!1;break e;case 3:case 4:dt=E.stateNode.containerInfo,En=!0;break e}E=E.return}if(dt===null)throw Error(s(160));qv(m,_,d),dt=null,En=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Gv(i,r),i=i.sibling}var dr=null;function Gv(r,i){var a=r.alternate,l=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:kn(i,r),Dn(r),l&4&&(ns(3,r,r.return),Zl(3,r),ns(5,r,r.return));break;case 1:kn(i,r),Dn(r),l&512&&(St||a===null||Nr(a,a.return)),l&64&&li&&(r=r.updateQueue,r!==null&&(l=r.callbacks,l!==null&&(a=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=dr;if(kn(i,r),Dn(r),l&512&&(St||a===null||Nr(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=r.memoizedState,a===null)if(l===null)if(r.stateNode===null){e:{l=r.type,a=r.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":m=d.getElementsByTagName("title")[0],(!m||m[Ui]||m[Et]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(l),d.head.insertBefore(m,d.querySelector("head > title"))),Jt(m,l,a),m[Et]=r,xt(m),l=m;break e;case"link":var _=U2("link","href",d).get(l+(a.href||""));if(_){for(var E=0;E<_.length;E++)if(m=_[E],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(E,1);break t}}m=d.createElement(l),Jt(m,l,a),d.head.appendChild(m);break;case"meta":if(_=U2("meta","content",d).get(l+(a.content||""))){for(E=0;E<_.length;E++)if(m=_[E],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(E,1);break t}}m=d.createElement(l),Jt(m,l,a),d.head.appendChild(m);break;default:throw Error(s(468,l))}m[Et]=r,xt(m),l=m}r.stateNode=l}else B2(d,r.type,r.stateNode);else r.stateNode=L2(d,l,r.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?B2(d,r.type,r.stateNode):L2(d,l,r.memoizedProps)):l===null&&r.stateNode!==null&&Am(r,r.memoizedProps,a.memoizedProps)}break;case 27:kn(i,r),Dn(r),l&512&&(St||a===null||Nr(a,a.return)),a!==null&&l&4&&Am(r,r.memoizedProps,a.memoizedProps);break;case 5:if(kn(i,r),Dn(r),l&512&&(St||a===null||Nr(a,a.return)),r.flags&32){d=r.stateNode;try{Fn(d,"")}catch(G){it(r,r.return,G)}}l&4&&r.stateNode!=null&&(d=r.memoizedProps,Am(r,d,a!==null?a.memoizedProps:d)),l&1024&&(Rm=!0);break;case 6:if(kn(i,r),Dn(r),l&4){if(r.stateNode===null)throw Error(s(162));l=r.memoizedProps,a=r.stateNode;try{a.nodeValue=l}catch(G){it(r,r.return,G)}}break;case 3:if(Th=null,d=dr,dr=Eh(i.containerInfo),kn(i,r),dr=d,Dn(r),l&4&&a!==null&&a.memoizedState.isDehydrated)try{gc(i.containerInfo)}catch(G){it(r,r.return,G)}Rm&&(Rm=!1,$v(r));break;case 4:l=dr,dr=Eh(r.stateNode.containerInfo),kn(i,r),Dn(r),dr=l;break;case 12:kn(i,r),Dn(r);break;case 13:kn(i,r),Dn(r),r.child.flags&8192&&r.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Mm=bn()),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,Nm(r,l)));break;case 22:d=r.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,q=li,W=St;if(li=q||d,St=W||R,kn(i,r),St=W,li=q,Dn(r),l&8192)e:for(i=r.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(a===null||R||li||St||ya(r)),a=null,i=r;;){if(i.tag===5||i.tag===26){if(a===null){R=a=i;try{if(m=R.stateNode,d)_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=R.stateNode;var te=R.memoizedProps.style,F=te!=null&&te.hasOwnProperty("display")?te.display:null;E.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(G){it(R,R.return,G)}}}else if(i.tag===6){if(a===null){R=i;try{R.stateNode.nodeValue=d?"":R.memoizedProps}catch(G){it(R,R.return,G)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=r.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Nm(r,a))));break;case 19:kn(i,r),Dn(r),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,Nm(r,l)));break;case 30:break;case 21:break;default:kn(i,r),Dn(r)}}function Dn(r){var i=r.flags;if(i&2){try{for(var a,l=r.return;l!==null;){if(Lv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var d=a.stateNode,m=Sm(r);ch(r,m,d);break;case 5:var _=a.stateNode;a.flags&32&&(Fn(_,""),a.flags&=-33);var E=Sm(r);ch(r,E,_);break;case 3:case 4:var R=a.stateNode.containerInfo,q=Sm(r);Cm(r,q,R);break;default:throw Error(s(161))}}catch(W){it(r,r.return,W)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function $v(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;$v(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function rs(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)zv(r,i.alternate,i),i=i.sibling}function ya(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:ns(4,i,i.return),ya(i);break;case 1:Nr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Pv(i,i.return,a),ya(i);break;case 27:lc(i.stateNode);case 26:case 5:Nr(i,i.return),ya(i);break;case 22:i.memoizedState===null&&ya(i);break;case 30:ya(i);break;default:ya(i)}r=r.sibling}}function is(r,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,d=r,m=i,_=m.flags;switch(m.tag){case 0:case 11:case 15:is(d,m,a),Zl(4,m);break;case 1:if(is(d,m,a),l=m,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(q){it(l,l.return,q)}if(l=m,d=l.updateQueue,d!==null){var E=l.stateNode;try{var R=d.shared.hiddenCallbacks;if(R!==null)for(d.shared.hiddenCallbacks=null,d=0;d<R.length;d++)_0(R[d],E)}catch(q){it(l,l.return,q)}}a&&_&64&&Mv(m),Jl(m,m.return);break;case 27:Uv(m);case 26:case 5:is(d,m,a),a&&l===null&&_&4&&Vv(m),Jl(m,m.return);break;case 12:is(d,m,a);break;case 13:is(d,m,a),a&&_&4&&Fv(d,m);break;case 22:m.memoizedState===null&&is(d,m,a),Jl(m,m.return);break;case 30:break;default:is(d,m,a)}i=i.sibling}}function Im(r,i){var a=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==a&&(r!=null&&r.refCount++,a!=null&&Ll(a))}function km(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Ll(r))}function Ir(r,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Yv(r,i,a,l),i=i.sibling}function Yv(r,i,a,l){var d=i.flags;switch(i.tag){case 0:case 11:case 15:Ir(r,i,a,l),d&2048&&Zl(9,i);break;case 1:Ir(r,i,a,l);break;case 3:Ir(r,i,a,l),d&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Ll(r)));break;case 12:if(d&2048){Ir(r,i,a,l),r=i.stateNode;try{var m=i.memoizedProps,_=m.id,E=m.onPostCommit;typeof E=="function"&&E(_,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(R){it(i,i.return,R)}}else Ir(r,i,a,l);break;case 13:Ir(r,i,a,l);break;case 23:break;case 22:m=i.stateNode,_=i.alternate,i.memoizedState!==null?m._visibility&2?Ir(r,i,a,l):ec(r,i):m._visibility&2?Ir(r,i,a,l):(m._visibility|=2,wo(r,i,a,l,(i.subtreeFlags&10256)!==0)),d&2048&&Im(_,i);break;case 24:Ir(r,i,a,l),d&2048&&km(i.alternate,i);break;default:Ir(r,i,a,l)}}function wo(r,i,a,l,d){for(d=d&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=r,_=i,E=a,R=l,q=_.flags;switch(_.tag){case 0:case 11:case 15:wo(m,_,E,R,d),Zl(8,_);break;case 23:break;case 22:var W=_.stateNode;_.memoizedState!==null?W._visibility&2?wo(m,_,E,R,d):ec(m,_):(W._visibility|=2,wo(m,_,E,R,d)),d&&q&2048&&Im(_.alternate,_);break;case 24:wo(m,_,E,R,d),d&&q&2048&&km(_.alternate,_);break;default:wo(m,_,E,R,d)}i=i.sibling}}function ec(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=r,l=i,d=l.flags;switch(l.tag){case 22:ec(a,l),d&2048&&Im(l.alternate,l);break;case 24:ec(a,l),d&2048&&km(l.alternate,l);break;default:ec(a,l)}i=i.sibling}}var tc=8192;function bo(r){if(r.subtreeFlags&tc)for(r=r.child;r!==null;)Kv(r),r=r.sibling}function Kv(r){switch(r.tag){case 26:bo(r),r.flags&tc&&r.memoizedState!==null&&v4(dr,r.memoizedState,r.memoizedProps);break;case 5:bo(r);break;case 3:case 4:var i=dr;dr=Eh(r.stateNode.containerInfo),bo(r),dr=i;break;case 22:r.memoizedState===null&&(i=r.alternate,i!==null&&i.memoizedState!==null?(i=tc,tc=16777216,bo(r),tc=i):bo(r));break;default:bo(r)}}function Qv(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function nc(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ft=l,Wv(l,r)}Qv(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Xv(r),r=r.sibling}function Xv(r){switch(r.tag){case 0:case 11:case 15:nc(r),r.flags&2048&&ns(9,r,r.return);break;case 3:nc(r);break;case 12:nc(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,uh(r)):nc(r);break;default:nc(r)}}function uh(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ft=l,Wv(l,r)}Qv(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:ns(8,i,i.return),uh(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,uh(i));break;default:uh(i)}r=r.sibling}}function Wv(r,i){for(;Ft!==null;){var a=Ft;switch(a.tag){case 0:case 11:case 15:ns(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ll(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ft=l;else e:for(a=r;Ft!==null;){l=Ft;var d=l.sibling,m=l.return;if(Hv(l),l===a){Ft=null;break e}if(d!==null){d.return=m,Ft=d;break e}Ft=m}}}var OT={getCacheForType:function(r){var i=an(Lt),a=i.data.get(r);return a===void 0&&(a=r(),i.data.set(r,a)),a}},MT=typeof WeakMap=="function"?WeakMap:Map,Xe=0,at=null,Oe=null,Be=0,We=0,jn=null,ss=!1,_o=!1,Dm=!1,ui=0,wt=0,as=0,va=0,jm=0,Wn=0,Eo=0,rc=null,xn=null,Om=!1,Mm=0,hh=1/0,dh=null,os=null,Zt=0,ls=null,xo=null,To=0,Pm=0,Vm=null,Zv=null,ic=0,Lm=null;function On(){if((Xe&2)!==0&&Be!==0)return Be&-Be;if(X.T!==null){var r=uo;return r!==0?r:Gm()}return $r()}function Jv(){Wn===0&&(Wn=(Be&536870912)===0||$e?ml():536870912);var r=Xn.current;return r!==null&&(r.flags|=32),Wn}function Mn(r,i,a){(r===at&&(We===2||We===9)||r.cancelPendingCommit!==null)&&(Ao(r,0),cs(r,Be,Wn,!1)),_t(r,a),((Xe&2)===0||r!==at)&&(r===at&&((Xe&2)===0&&(va|=a),wt===4&&cs(r,Be,Wn,!1)),kr(r))}function e2(r,i,a){if((Xe&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&r.expiredLanes)===0||Mi(r,i),d=l?LT(r,i):zm(r,i,!0),m=l;do{if(d===0){_o&&!l&&cs(r,i,0,!1);break}else{if(a=r.current.alternate,m&&!PT(a)){d=zm(r,i,!1),m=!1;continue}if(d===2){if(m=i,r.errorRecoveryDisabledLanes&m)var _=0;else _=r.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var E=r;d=rc;var R=E.current.memoizedState.isDehydrated;if(R&&(Ao(E,_).flags|=256),_=zm(E,_,!1),_!==2){if(Dm&&!R){E.errorRecoveryDisabledLanes|=m,va|=m,d=4;break e}m=xn,xn=d,m!==null&&(xn===null?xn=m:xn.push.apply(xn,m))}d=_}if(m=!1,d!==2)continue}}if(d===1){Ao(r,0),cs(r,i,0,!0);break}e:{switch(l=r,m=d,m){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:cs(l,i,Wn,!ss);break e;case 2:xn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(d=Mm+300-bn(),10<d)){if(cs(l,i,Wn,!ss),Hn(l,0,!0)!==0)break e;l.timeoutHandle=N2(t2.bind(null,l,a,xn,dh,Om,i,Wn,va,Eo,ss,m,2,-0,0),d);break e}t2(l,a,xn,dh,Om,i,Wn,va,Eo,ss,m,0,-0,0)}}break}while(!0);kr(r)}function t2(r,i,a,l,d,m,_,E,R,q,W,te,F,G){if(r.timeoutHandle=-1,te=i.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(hc={stylesheets:null,count:0,unsuspend:y4},Kv(i),te=w4(),te!==null)){r.cancelPendingCommit=te(l2.bind(null,r,i,m,a,l,d,_,E,R,W,1,F,G)),cs(r,m,_,!q);return}l2(r,i,m,a,l,d,_,E,R)}function PT(r){for(var i=r;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],m=d.getSnapshot;d=d.value;try{if(!Nn(m(),d))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function cs(r,i,a,l){i&=~jm,i&=~va,r.suspendedLanes|=i,r.pingedLanes&=~i,l&&(r.warmLanes|=i),l=r.expirationTimes;for(var d=i;0<d;){var m=31-fn(d),_=1<<m;l[m]=-1,d&=~_}a!==0&&Vi(r,a,i)}function fh(){return(Xe&6)===0?(sc(0),!1):!0}function Um(){if(Oe!==null){if(We===0)var r=Oe.return;else r=Oe,ni=da=null,nm(r),yo=null,Ql=0,r=Oe;for(;r!==null;)Ov(r.alternate,r),r=r.return;Oe=null}}function Ao(r,i){var a=r.timeoutHandle;a!==-1&&(r.timeoutHandle=-1,e4(a)),a=r.cancelPendingCommit,a!==null&&(r.cancelPendingCommit=null,a()),Um(),at=r,Oe=a=Jr(r.current,null),Be=i,We=0,jn=null,ss=!1,_o=Mi(r,i),Dm=!1,Eo=Wn=jm=va=as=wt=0,xn=rc=null,Om=!1,(i&8)!==0&&(i|=i&32);var l=r.entangledLanes;if(l!==0)for(r=r.entanglements,l&=i;0<l;){var d=31-fn(l),m=1<<d;i|=r[d],l&=~m}return ui=i,Mu(),a}function n2(r,i){De=null,X.H=eh,i===Bl||i===Fu?(i=w0(),We=3):i===g0?(i=w0(),We=4):We=i===bv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,jn=i,Oe===null&&(wt=1,sh(r,$n(i,r.current)))}function r2(){var r=X.H;return X.H=eh,r===null?eh:r}function i2(){var r=X.A;return X.A=OT,r}function Bm(){wt=4,ss||(Be&4194048)!==Be&&Xn.current!==null||(_o=!0),(as&134217727)===0&&(va&134217727)===0||at===null||cs(at,Be,Wn,!1)}function zm(r,i,a){var l=Xe;Xe|=2;var d=r2(),m=i2();(at!==r||Be!==i)&&(dh=null,Ao(r,i)),i=!1;var _=wt;e:do try{if(We!==0&&Oe!==null){var E=Oe,R=jn;switch(We){case 8:Um(),_=6;break e;case 3:case 2:case 9:case 6:Xn.current===null&&(i=!0);var q=We;if(We=0,jn=null,So(r,E,R,q),a&&_o){_=0;break e}break;default:q=We,We=0,jn=null,So(r,E,R,q)}}VT(),_=wt;break}catch(W){n2(r,W)}while(!0);return i&&r.shellSuspendCounter++,ni=da=null,Xe=l,X.H=d,X.A=m,Oe===null&&(at=null,Be=0,Mu()),_}function VT(){for(;Oe!==null;)s2(Oe)}function LT(r,i){var a=Xe;Xe|=2;var l=r2(),d=i2();at!==r||Be!==i?(dh=null,hh=bn()+500,Ao(r,i)):_o=Mi(r,i);e:do try{if(We!==0&&Oe!==null){i=Oe;var m=jn;t:switch(We){case 1:We=0,jn=null,So(r,i,m,1);break;case 2:case 9:if(y0(m)){We=0,jn=null,a2(i);break}i=function(){We!==2&&We!==9||at!==r||(We=7),kr(r)},m.then(i,i);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:y0(m)?(We=0,jn=null,a2(i)):(We=0,jn=null,So(r,i,m,7));break;case 5:var _=null;switch(Oe.tag){case 26:_=Oe.memoizedState;case 5:case 27:var E=Oe;if(!_||z2(_)){We=0,jn=null;var R=E.sibling;if(R!==null)Oe=R;else{var q=E.return;q!==null?(Oe=q,mh(q)):Oe=null}break t}}We=0,jn=null,So(r,i,m,5);break;case 6:We=0,jn=null,So(r,i,m,6);break;case 8:Um(),wt=6;break e;default:throw Error(s(462))}}UT();break}catch(W){n2(r,W)}while(!0);return ni=da=null,X.H=l,X.A=d,Xe=a,Oe!==null?0:(at=null,Be=0,Mu(),wt)}function UT(){for(;Oe!==null&&!pf();)s2(Oe)}function s2(r){var i=Dv(r.alternate,r,ui);r.memoizedProps=r.pendingProps,i===null?mh(r):Oe=i}function a2(r){var i=r,a=i.alternate;switch(i.tag){case 15:case 0:i=Sv(a,i,i.pendingProps,i.type,void 0,Be);break;case 11:i=Sv(a,i,i.pendingProps,i.type.render,i.ref,Be);break;case 5:nm(i);default:Ov(a,i),i=Oe=o0(i,ui),i=Dv(a,i,ui)}r.memoizedProps=r.pendingProps,i===null?mh(r):Oe=i}function So(r,i,a,l){ni=da=null,nm(i),yo=null,Ql=0;var d=i.return;try{if(RT(r,d,i,a,Be)){wt=1,sh(r,$n(a,r.current)),Oe=null;return}}catch(m){if(d!==null)throw Oe=d,m;wt=1,sh(r,$n(a,r.current)),Oe=null;return}i.flags&32768?($e||l===1?r=!0:_o||(Be&536870912)!==0?r=!1:(ss=r=!0,(l===2||l===9||l===3||l===6)&&(l=Xn.current,l!==null&&l.tag===13&&(l.flags|=16384))),o2(i,r)):mh(i)}function mh(r){var i=r;do{if((i.flags&32768)!==0){o2(i,ss);return}r=i.return;var a=IT(i.alternate,i,ui);if(a!==null){Oe=a;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=r}while(i!==null);wt===0&&(wt=5)}function o2(r,i){do{var a=kT(r.alternate,r);if(a!==null){a.flags&=32767,Oe=a;return}if(a=r.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(r=r.sibling,r!==null)){Oe=r;return}Oe=r=a}while(r!==null);wt=6,Oe=null}function l2(r,i,a,l,d,m,_,E,R){r.cancelPendingCommit=null;do ph();while(Zt!==0);if((Xe&6)!==0)throw Error(s(327));if(i!==null){if(i===r.current)throw Error(s(177));if(m=i.lanes|i.childLanes,m|=kf,vu(r,a,m,_,E,R),r===at&&(Oe=at=null,Be=0),xo=i,ls=r,To=a,Pm=m,Vm=d,Zv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,qT(Gr,function(){return f2(),null})):(r.callbackNode=null,r.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,d=ce.p,ce.p=2,_=Xe,Xe|=4;try{DT(r,i,a)}finally{Xe=_,ce.p=d,X.T=l}}Zt=1,c2(),u2(),h2()}}function c2(){if(Zt===1){Zt=0;var r=ls,i=xo,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=ce.p;ce.p=2;var d=Xe;Xe|=4;try{Gv(i,r);var m=Jm,_=Wy(r.containerInfo),E=m.focusedElem,R=m.selectionRange;if(_!==E&&E&&E.ownerDocument&&Xy(E.ownerDocument.documentElement,E)){if(R!==null&&Sf(E)){var q=R.start,W=R.end;if(W===void 0&&(W=q),"selectionStart"in E)E.selectionStart=q,E.selectionEnd=Math.min(W,E.value.length);else{var te=E.ownerDocument||document,F=te&&te.defaultView||window;if(F.getSelection){var G=F.getSelection(),Ce=E.textContent.length,xe=Math.min(R.start,Ce),rt=R.end===void 0?xe:Math.min(R.end,Ce);!G.extend&&xe>rt&&(_=rt,rt=xe,xe=_);var V=Qy(E,xe),O=Qy(E,rt);if(V&&O&&(G.rangeCount!==1||G.anchorNode!==V.node||G.anchorOffset!==V.offset||G.focusNode!==O.node||G.focusOffset!==O.offset)){var z=te.createRange();z.setStart(V.node,V.offset),G.removeAllRanges(),xe>rt?(G.addRange(z),G.extend(O.node,O.offset)):(z.setEnd(O.node,O.offset),G.addRange(z))}}}}for(te=[],G=E;G=G.parentNode;)G.nodeType===1&&te.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<te.length;E++){var Z=te[E];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Ch=!!Zm,Jm=Zm=null}finally{Xe=d,ce.p=l,X.T=a}}r.current=i,Zt=2}}function u2(){if(Zt===2){Zt=0;var r=ls,i=xo,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=ce.p;ce.p=2;var d=Xe;Xe|=4;try{zv(r,i.alternate,i)}finally{Xe=d,ce.p=l,X.T=a}}Zt=3}}function h2(){if(Zt===4||Zt===3){Zt=0,dl();var r=ls,i=xo,a=To,l=Zv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Zt=5:(Zt=0,xo=ls=null,d2(r,r.pendingLanes));var d=r.pendingLanes;if(d===0&&(os=null),gl(a),i=i.stateNode,rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(ji,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=X.T,d=ce.p,ce.p=2,X.T=null;try{for(var m=r.onRecoverableError,_=0;_<l.length;_++){var E=l[_];m(E.value,{componentStack:E.stack})}}finally{X.T=i,ce.p=d}}(To&3)!==0&&ph(),kr(r),d=r.pendingLanes,(a&4194090)!==0&&(d&42)!==0?r===Lm?ic++:(ic=0,Lm=r):ic=0,sc(0)}}function d2(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,Ll(i)))}function ph(r){return c2(),u2(),h2(),f2()}function f2(){if(Zt!==5)return!1;var r=ls,i=Pm;Pm=0;var a=gl(To),l=X.T,d=ce.p;try{ce.p=32>a?32:a,X.T=null,a=Vm,Vm=null;var m=ls,_=To;if(Zt=0,xo=ls=null,To=0,(Xe&6)!==0)throw Error(s(331));var E=Xe;if(Xe|=4,Xv(m.current),Yv(m,m.current,_,a),Xe=E,sc(0,!1),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(ji,m)}catch{}return!0}finally{ce.p=d,X.T=l,d2(r,i)}}function m2(r,i,a){i=$n(a,i),i=gm(r.stateNode,i,2),r=Zi(r,i,2),r!==null&&(_t(r,2),kr(r))}function it(r,i,a){if(r.tag===3)m2(r,r,a);else for(;i!==null;){if(i.tag===3){m2(i,r,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(os===null||!os.has(l))){r=$n(a,r),a=vv(2),l=Zi(i,a,2),l!==null&&(wv(a,l,i,r),_t(l,2),kr(l));break}}i=i.return}}function Hm(r,i,a){var l=r.pingCache;if(l===null){l=r.pingCache=new MT;var d=new Set;l.set(i,d)}else d=l.get(i),d===void 0&&(d=new Set,l.set(i,d));d.has(a)||(Dm=!0,d.add(a),r=BT.bind(null,r,i,a),i.then(r,r))}function BT(r,i,a){var l=r.pingCache;l!==null&&l.delete(i),r.pingedLanes|=r.suspendedLanes&a,r.warmLanes&=~a,at===r&&(Be&a)===a&&(wt===4||wt===3&&(Be&62914560)===Be&&300>bn()-Mm?(Xe&2)===0&&Ao(r,0):jm|=a,Eo===Be&&(Eo=0)),kr(r)}function p2(r,i){i===0&&(i=Pi()),r=ao(r,i),r!==null&&(_t(r,i),kr(r))}function zT(r){var i=r.memoizedState,a=0;i!==null&&(a=i.retryLane),p2(r,a)}function HT(r,i){var a=0;switch(r.tag){case 13:var l=r.stateNode,d=r.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=r.stateNode;break;case 22:l=r.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),p2(r,a)}function qT(r,i){return Vs(r,i)}var gh=null,Co=null,qm=!1,yh=!1,Fm=!1,wa=0;function kr(r){r!==Co&&r.next===null&&(Co===null?gh=Co=r:Co=Co.next=r),yh=!0,qm||(qm=!0,GT())}function sc(r,i){if(!Fm&&yh){Fm=!0;do for(var a=!1,l=gh;l!==null;){if(r!==0){var d=l.pendingLanes;if(d===0)var m=0;else{var _=l.suspendedLanes,E=l.pingedLanes;m=(1<<31-fn(42|r)+1)-1,m&=d&~(_&~E),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,w2(l,m))}else m=Be,m=Hn(l,l===at?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Mi(l,m)||(a=!0,w2(l,m));l=l.next}while(a);Fm=!1}}function FT(){g2()}function g2(){yh=qm=!1;var r=0;wa!==0&&(JT()&&(r=wa),wa=0);for(var i=bn(),a=null,l=gh;l!==null;){var d=l.next,m=y2(l,i);m===0?(l.next=null,a===null?gh=d:a.next=d,d===null&&(Co=a)):(a=l,(r!==0||(m&3)!==0)&&(yh=!0)),l=d}sc(r)}function y2(r,i){for(var a=r.suspendedLanes,l=r.pingedLanes,d=r.expirationTimes,m=r.pendingLanes&-62914561;0<m;){var _=31-fn(m),E=1<<_,R=d[_];R===-1?((E&a)===0||(E&l)!==0)&&(d[_]=qa(E,i)):R<=i&&(r.expiredLanes|=E),m&=~E}if(i=at,a=Be,a=Hn(r,r===i?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),l=r.callbackNode,a===0||r===i&&(We===2||We===9)||r.cancelPendingCommit!==null)return l!==null&&l!==null&&Ha(l),r.callbackNode=null,r.callbackPriority=0;if((a&3)===0||Mi(r,a)){if(i=a&-a,i===r.callbackPriority)return i;switch(l!==null&&Ha(l),gl(a)){case 2:case 8:a=zt;break;case 32:a=Gr;break;case 268435456:a=fl;break;default:a=Gr}return l=v2.bind(null,r),a=Vs(a,l),r.callbackPriority=i,r.callbackNode=a,i}return l!==null&&l!==null&&Ha(l),r.callbackPriority=2,r.callbackNode=null,2}function v2(r,i){if(Zt!==0&&Zt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var a=r.callbackNode;if(ph()&&r.callbackNode!==a)return null;var l=Be;return l=Hn(r,r===at?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),l===0?null:(e2(r,l,i),y2(r,bn()),r.callbackNode!=null&&r.callbackNode===a?v2.bind(null,r):null)}function w2(r,i){if(ph())return null;e2(r,i,!0)}function GT(){t4(function(){(Xe&6)!==0?Vs(Pt,FT):g2()})}function Gm(){return wa===0&&(wa=ml()),wa}function b2(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:or(""+r)}function _2(r,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,r.id&&a.setAttribute("form",r.id),i.parentNode.insertBefore(a,i),r=new FormData(r),a.parentNode.removeChild(a),r}function $T(r,i,a,l,d){if(i==="submit"&&a&&a.stateNode===d){var m=b2((d[Xt]||null).action),_=l.submitter;_&&(i=(i=_[Xt]||null)?b2(i.formAction):_.getAttribute("formAction"),i!==null&&(m=i,_=null));var E=new Zs("action","action",null,l,d);r.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(wa!==0){var R=_?_2(d,_):new FormData(d);hm(a,{pending:!0,data:R,method:d.method,action:m},null,R)}}else typeof m=="function"&&(E.preventDefault(),R=_?_2(d,_):new FormData(d),hm(a,{pending:!0,data:R,method:d.method,action:m},m,R))},currentTarget:d}]})}}for(var $m=0;$m<If.length;$m++){var Ym=If[$m],YT=Ym.toLowerCase(),KT=Ym[0].toUpperCase()+Ym.slice(1);hr(YT,"on"+KT)}hr(e0,"onAnimationEnd"),hr(t0,"onAnimationIteration"),hr(n0,"onAnimationStart"),hr("dblclick","onDoubleClick"),hr("focusin","onFocus"),hr("focusout","onBlur"),hr(hT,"onTransitionRun"),hr(dT,"onTransitionStart"),hr(fT,"onTransitionCancel"),hr(r0,"onTransitionEnd"),xr("onMouseEnter",["mouseout","mouseover"]),xr("onMouseLeave",["mouseout","mouseover"]),xr("onPointerEnter",["pointerout","pointerover"]),xr("onPointerLeave",["pointerout","pointerover"]),Er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Er("onBeforeInput",["compositionend","keypress","textInput","paste"]),Er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ac="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ac));function E2(r,i){i=(i&4)!==0;for(var a=0;a<r.length;a++){var l=r[a],d=l.event;l=l.listeners;e:{var m=void 0;if(i)for(var _=l.length-1;0<=_;_--){var E=l[_],R=E.instance,q=E.currentTarget;if(E=E.listener,R!==m&&d.isPropagationStopped())break e;m=E,d.currentTarget=q;try{m(d)}catch(W){ih(W)}d.currentTarget=null,m=R}else for(_=0;_<l.length;_++){if(E=l[_],R=E.instance,q=E.currentTarget,E=E.listener,R!==m&&d.isPropagationStopped())break e;m=E,d.currentTarget=q;try{m(d)}catch(W){ih(W)}d.currentTarget=null,m=R}}}}function Me(r,i){var a=i[Us];a===void 0&&(a=i[Us]=new Set);var l=r+"__bubble";a.has(l)||(x2(i,r,2,!1),a.add(l))}function Km(r,i,a){var l=0;i&&(l|=4),x2(a,r,l,i)}var vh="_reactListening"+Math.random().toString(36).slice(2);function Qm(r){if(!r[vh]){r[vh]=!0,wu.forEach(function(a){a!=="selectionchange"&&(QT.has(a)||Km(a,!1,r),Km(a,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[vh]||(i[vh]=!0,Km("selectionchange",!1,i))}}function x2(r,i,a,l){switch(Y2(i)){case 2:var d=E4;break;case 8:d=x4;break;default:d=cp}a=d.bind(null,i,a,r),d=void 0,!Wr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),l?d!==void 0?r.addEventListener(i,a,{capture:!0,passive:d}):r.addEventListener(i,a,!0):d!==void 0?r.addEventListener(i,a,{passive:d}):r.addEventListener(i,a,!1)}function Xm(r,i,a,l,d){var m=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var E=l.stateNode.containerInfo;if(E===d)break;if(_===4)for(_=l.return;_!==null;){var R=_.tag;if((R===3||R===4)&&_.stateNode.containerInfo===d)return;_=_.return}for(;E!==null;){if(_=br(E),_===null)return;if(R=_.tag,R===5||R===6||R===26||R===27){l=m=_;continue e}E=E.parentNode}}l=l.return}Qs(function(){var q=m,W=xl(a),te=[];e:{var F=i0.get(r);if(F!==void 0){var G=Zs,Ce=r;switch(r){case"keypress":if(Xs(a)===0)break e;case"keydown":case"keyup":G=no;break;case"focusin":Ce="focus",G=Ja;break;case"focusout":Ce="blur",G=Ja;break;case"beforeblur":case"afterblur":G=Ja;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=ra;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Su;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Ki;break;case e0:case t0:case n0:G=Al;break;case r0:G=v;break;case"scroll":case"scrollend":G=ea;break;case"wheel":G=T;break;case"copy":case"cut":case"paste":G=Ru;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Rl;break;case"toggle":case"beforetoggle":G=$}var xe=(i&4)!==0,rt=!xe&&(r==="scroll"||r==="scrollend"),V=xe?F!==null?F+"Capture":null:F;xe=[];for(var O=q,z;O!==null;){var Z=O;if(z=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||z===null||V===null||(Z=$i(O,V),Z!=null&&xe.push(oc(O,Z,z))),rt)break;O=O.return}0<xe.length&&(F=new G(F,Ce,null,a,W),te.push({event:F,listeners:xe}))}}if((i&7)===0){e:{if(F=r==="mouseover"||r==="pointerover",G=r==="mouseout"||r==="pointerout",F&&a!==El&&(Ce=a.relatedTarget||a.fromElement)&&(br(Ce)||Ce[Yr]))break e;if((G||F)&&(F=W.window===W?W:(F=W.ownerDocument)?F.defaultView||F.parentWindow:window,G?(Ce=a.relatedTarget||a.toElement,G=q,Ce=Ce?br(Ce):null,Ce!==null&&(rt=c(Ce),xe=Ce.tag,Ce!==rt||xe!==5&&xe!==27&&xe!==6)&&(Ce=null)):(G=null,Ce=q),G!==Ce)){if(xe=ra,Z="onMouseLeave",V="onMouseEnter",O="mouse",(r==="pointerout"||r==="pointerover")&&(xe=Rl,Z="onPointerLeave",V="onPointerEnter",O="pointer"),rt=G==null?F:Bi(G),z=Ce==null?F:Bi(Ce),F=new xe(Z,O+"leave",G,a,W),F.target=rt,F.relatedTarget=z,Z=null,br(W)===q&&(xe=new xe(V,O+"enter",Ce,a,W),xe.target=z,xe.relatedTarget=rt,Z=xe),rt=Z,G&&Ce)t:{for(xe=G,V=Ce,O=0,z=xe;z;z=Ro(z))O++;for(z=0,Z=V;Z;Z=Ro(Z))z++;for(;0<O-z;)xe=Ro(xe),O--;for(;0<z-O;)V=Ro(V),z--;for(;O--;){if(xe===V||V!==null&&xe===V.alternate)break t;xe=Ro(xe),V=Ro(V)}xe=null}else xe=null;G!==null&&T2(te,F,G,xe,!1),Ce!==null&&rt!==null&&T2(te,rt,Ce,xe,!0)}}e:{if(F=q?Bi(q):window,G=F.nodeName&&F.nodeName.toLowerCase(),G==="select"||G==="input"&&F.type==="file")var me=qy;else if(zy(F))if(Fy)me=lT;else{me=aT;var je=sT}else G=F.nodeName,!G||G.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?q&&Xa(q.elementType)&&(me=qy):me=oT;if(me&&(me=me(r,q))){Hy(te,me,a,W);break e}je&&je(r,F,q),r==="focusout"&&q&&F.type==="number"&&q.memoizedProps.value!=null&&wl(F,"number",F.value)}switch(je=q?Bi(q):window,r){case"focusin":(zy(je)||je.contentEditable==="true")&&(ro=je,Cf=q,jl=null);break;case"focusout":jl=Cf=ro=null;break;case"mousedown":Rf=!0;break;case"contextmenu":case"mouseup":case"dragend":Rf=!1,Zy(te,a,W);break;case"selectionchange":if(uT)break;case"keydown":case"keyup":Zy(te,a,W)}var pe;if(Ne)e:{switch(r){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else ur?lr(r,a)&&(Te="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(Tt&&a.locale!=="ko"&&(ur||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&ur&&(pe=Au()):(Gn=W,st="value"in Gn?Gn.value:Gn.textContent,ur=!0)),je=wh(q,Te),0<je.length&&(Te=new Cl(Te,r,null,a,W),te.push({event:Te,listeners:je}),pe?Te.data=pe:(pe=cr(a),pe!==null&&(Te.data=pe)))),(pe=Qe?Nl(r,a):nT(r,a))&&(Te=wh(q,"onBeforeInput"),0<Te.length&&(je=new Cl("onBeforeInput","beforeinput",null,a,W),te.push({event:je,listeners:Te}),je.data=pe)),$T(te,r,q,a,W)}E2(te,i)})}function oc(r,i,a){return{instance:r,listener:i,currentTarget:a}}function wh(r,i){for(var a=i+"Capture",l=[];r!==null;){var d=r,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=$i(r,a),d!=null&&l.unshift(oc(r,d,m)),d=$i(r,i),d!=null&&l.push(oc(r,d,m))),r.tag===3)return l;r=r.return}return[]}function Ro(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function T2(r,i,a,l,d){for(var m=i._reactName,_=[];a!==null&&a!==l;){var E=a,R=E.alternate,q=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||q===null||(R=q,d?(q=$i(a,m),q!=null&&_.unshift(oc(a,q,R))):d||(q=$i(a,m),q!=null&&_.push(oc(a,q,R)))),a=a.return}_.length!==0&&r.push({event:i,listeners:_})}var XT=/\r\n?/g,WT=/\u0000|\uFFFD/g;function A2(r){return(typeof r=="string"?r:""+r).replace(XT,`
`).replace(WT,"")}function S2(r,i){return i=A2(i),A2(r)===i}function bh(){}function nt(r,i,a,l,d,m){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Fn(r,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Fn(r,""+l);break;case"className":Fs(r,"class",l);break;case"tabIndex":Fs(r,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Fs(r,a,l);break;case"style":_l(r,l,m);break;case"data":if(i!=="object"){Fs(r,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){r.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){r.removeAttribute(a);break}l=or(""+l),r.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){r.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(i!=="input"&&nt(r,i,"name",d.name,d,null),nt(r,i,"formEncType",d.formEncType,d,null),nt(r,i,"formMethod",d.formMethod,d,null),nt(r,i,"formTarget",d.formTarget,d,null)):(nt(r,i,"encType",d.encType,d,null),nt(r,i,"method",d.method,d,null),nt(r,i,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){r.removeAttribute(a);break}l=or(""+l),r.setAttribute(a,l);break;case"onClick":l!=null&&(r.onclick=bh);break;case"onScroll":l!=null&&Me("scroll",r);break;case"onScrollEnd":l!=null&&Me("scrollend",r);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));r.innerHTML=a}}break;case"multiple":r.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":r.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){r.removeAttribute("xlink:href");break}a=or(""+l),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(a,""+l):r.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(a,""):r.removeAttribute(a);break;case"capture":case"download":l===!0?r.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(a,l):r.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?r.setAttribute(a,l):r.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?r.removeAttribute(a):r.setAttribute(a,l);break;case"popover":Me("beforetoggle",r),Me("toggle",r),qs(r,"popover",l);break;case"xlinkActuate":qn(r,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":qn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":qn(r,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":qn(r,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":qn(r,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":qn(r,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":qn(r,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":qn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":qn(r,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":qs(r,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Eu.get(a)||a,qs(r,a,l))}}function Wm(r,i,a,l,d,m){switch(a){case"style":_l(r,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));r.innerHTML=a}}break;case"children":typeof l=="string"?Fn(r,l):(typeof l=="number"||typeof l=="bigint")&&Fn(r,""+l);break;case"onScroll":l!=null&&Me("scroll",r);break;case"onScrollEnd":l!=null&&Me("scrollend",r);break;case"onClick":l!=null&&(r.onclick=bh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zs.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),i=a.slice(2,d?a.length-7:void 0),m=r[Xt]||null,m=m!=null?m[a]:null,typeof m=="function"&&r.removeEventListener(i,m,d),typeof l=="function")){typeof m!="function"&&m!==null&&(a in r?r[a]=null:r.hasAttribute(a)&&r.removeAttribute(a)),r.addEventListener(i,l,d);break e}a in r?r[a]=l:l===!0?r.setAttribute(a,""):qs(r,a,l)}}}function Jt(r,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",r),Me("load",r);var l=!1,d=!1,m;for(m in a)if(a.hasOwnProperty(m)){var _=a[m];if(_!=null)switch(m){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:nt(r,i,m,_,a,null)}}d&&nt(r,i,"srcSet",a.srcSet,a,null),l&&nt(r,i,"src",a.src,a,null);return;case"input":Me("invalid",r);var E=m=_=d=null,R=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":d=W;break;case"type":_=W;break;case"checked":R=W;break;case"defaultChecked":q=W;break;case"value":m=W;break;case"defaultValue":E=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:nt(r,i,l,W,a,null)}}vl(r,m,E,R,q,_,d,!1),qi(r);return;case"select":Me("invalid",r),l=_=m=null;for(d in a)if(a.hasOwnProperty(d)&&(E=a[d],E!=null))switch(d){case"value":m=E;break;case"defaultValue":_=E;break;case"multiple":l=E;default:nt(r,i,d,E,a,null)}i=m,a=_,r.multiple=!!l,i!=null?Fi(r,!!l,i,!1):a!=null&&Fi(r,!!l,a,!0);return;case"textarea":Me("invalid",r),m=d=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(E=a[_],E!=null))switch(_){case"value":l=E;break;case"defaultValue":d=E;break;case"children":m=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:nt(r,i,_,E,a,null)}_u(r,l,d,m),qi(r);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":r.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:nt(r,i,R,l,a,null)}return;case"dialog":Me("beforetoggle",r),Me("toggle",r),Me("cancel",r),Me("close",r);break;case"iframe":case"object":Me("load",r);break;case"video":case"audio":for(l=0;l<ac.length;l++)Me(ac[l],r);break;case"image":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"embed":case"source":case"link":Me("error",r),Me("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:nt(r,i,q,l,a,null)}return;default:if(Xa(i)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&Wm(r,i,W,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&nt(r,i,E,l,a,null))}function ZT(r,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,_=null,E=null,R=null,q=null,W=null;for(G in a){var te=a[G];if(a.hasOwnProperty(G)&&te!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":R=te;default:l.hasOwnProperty(G)||nt(r,i,G,null,l,te)}}for(var F in l){var G=l[F];if(te=a[F],l.hasOwnProperty(F)&&(G!=null||te!=null))switch(F){case"type":m=G;break;case"name":d=G;break;case"checked":q=G;break;case"defaultChecked":W=G;break;case"value":_=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:G!==te&&nt(r,i,F,G,l,te)}}yl(r,_,E,R,q,W,m,d);return;case"select":G=_=E=F=null;for(m in a)if(R=a[m],a.hasOwnProperty(m)&&R!=null)switch(m){case"value":break;case"multiple":G=R;default:l.hasOwnProperty(m)||nt(r,i,m,null,l,R)}for(d in l)if(m=l[d],R=a[d],l.hasOwnProperty(d)&&(m!=null||R!=null))switch(d){case"value":F=m;break;case"defaultValue":E=m;break;case"multiple":_=m;default:m!==R&&nt(r,i,d,m,l,R)}i=E,a=_,l=G,F!=null?Fi(r,!!a,F,!1):!!l!=!!a&&(i!=null?Fi(r,!!a,i,!0):Fi(r,!!a,a?[]:"",!1));return;case"textarea":G=F=null;for(E in a)if(d=a[E],a.hasOwnProperty(E)&&d!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:nt(r,i,E,null,l,d)}for(_ in l)if(d=l[_],m=a[_],l.hasOwnProperty(_)&&(d!=null||m!=null))switch(_){case"value":F=d;break;case"defaultValue":G=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==m&&nt(r,i,_,d,l,m)}bu(r,F,G);return;case"option":for(var Ce in a)if(F=a[Ce],a.hasOwnProperty(Ce)&&F!=null&&!l.hasOwnProperty(Ce))switch(Ce){case"selected":r.selected=!1;break;default:nt(r,i,Ce,null,l,F)}for(R in l)if(F=l[R],G=a[R],l.hasOwnProperty(R)&&F!==G&&(F!=null||G!=null))switch(R){case"selected":r.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:nt(r,i,R,F,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in a)F=a[xe],a.hasOwnProperty(xe)&&F!=null&&!l.hasOwnProperty(xe)&&nt(r,i,xe,null,l,F);for(q in l)if(F=l[q],G=a[q],l.hasOwnProperty(q)&&F!==G&&(F!=null||G!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:nt(r,i,q,F,l,G)}return;default:if(Xa(i)){for(var rt in a)F=a[rt],a.hasOwnProperty(rt)&&F!==void 0&&!l.hasOwnProperty(rt)&&Wm(r,i,rt,void 0,l,F);for(W in l)F=l[W],G=a[W],!l.hasOwnProperty(W)||F===G||F===void 0&&G===void 0||Wm(r,i,W,F,l,G);return}}for(var V in a)F=a[V],a.hasOwnProperty(V)&&F!=null&&!l.hasOwnProperty(V)&&nt(r,i,V,null,l,F);for(te in l)F=l[te],G=a[te],!l.hasOwnProperty(te)||F===G||F==null&&G==null||nt(r,i,te,F,l,G)}var Zm=null,Jm=null;function _h(r){return r.nodeType===9?r:r.ownerDocument}function C2(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function R2(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function ep(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var tp=null;function JT(){var r=window.event;return r&&r.type==="popstate"?r===tp?!1:(tp=r,!0):(tp=null,!1)}var N2=typeof setTimeout=="function"?setTimeout:void 0,e4=typeof clearTimeout=="function"?clearTimeout:void 0,I2=typeof Promise=="function"?Promise:void 0,t4=typeof queueMicrotask=="function"?queueMicrotask:typeof I2<"u"?function(r){return I2.resolve(null).then(r).catch(n4)}:N2;function n4(r){setTimeout(function(){throw r})}function us(r){return r==="head"}function k2(r,i){var a=i,l=0,d=0;do{var m=a.nextSibling;if(r.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var _=r.ownerDocument;if(a&1&&lc(_.documentElement),a&2&&lc(_.body),a&4)for(a=_.head,lc(a),_=a.firstChild;_;){var E=_.nextSibling,R=_.nodeName;_[Ui]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=E}}if(d===0){r.removeChild(m),gc(i);return}d--}else a==="$"||a==="$?"||a==="$!"?d++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);gc(i)}function np(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":np(a),Ga(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}r.removeChild(a)}}function r4(r,i,a,l){for(;r.nodeType===1;){var d=a;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(l){if(!r[Ui])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(m=r.getAttribute("rel"),m==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(m!==d.rel||r.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||r.getAttribute("title")!==(d.title==null?null:d.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(m=r.getAttribute("src"),(m!==(d.src==null?null:d.src)||r.getAttribute("type")!==(d.type==null?null:d.type)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&r.getAttribute("name")===m)return r}else return r;if(r=fr(r.nextSibling),r===null)break}return null}function i4(r,i,a){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=fr(r.nextSibling),r===null))return null;return r}function rp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function s4(r,i){var a=r.ownerDocument;if(r.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),r._reactRetry=l}}function fr(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return r}var ip=null;function D2(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return r;i--}else a==="/$"&&i++}r=r.previousSibling}return null}function j2(r,i,a){switch(i=_h(a),r){case"html":if(r=i.documentElement,!r)throw Error(s(452));return r;case"head":if(r=i.head,!r)throw Error(s(453));return r;case"body":if(r=i.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function lc(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);Ga(r)}var Zn=new Map,O2=new Set;function Eh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var hi=ce.d;ce.d={f:a4,r:o4,D:l4,C:c4,L:u4,m:h4,X:f4,S:d4,M:m4};function a4(){var r=hi.f(),i=fh();return r||i}function o4(r){var i=_r(r);i!==null&&i.tag===5&&i.type==="form"?ev(i):hi.r(r)}var No=typeof document>"u"?null:document;function M2(r,i,a){var l=No;if(l&&typeof i=="string"&&i){var d=Ht(i);d='link[rel="'+r+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),O2.has(d)||(O2.add(d),r={rel:r,crossOrigin:a,href:i},l.querySelector(d)===null&&(i=l.createElement("link"),Jt(i,"link",r),xt(i),l.head.appendChild(i)))}}function l4(r){hi.D(r),M2("dns-prefetch",r,null)}function c4(r,i){hi.C(r,i),M2("preconnect",r,i)}function u4(r,i,a){hi.L(r,i,a);var l=No;if(l&&r&&i){var d='link[rel="preload"][as="'+Ht(i)+'"]';i==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+Ht(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+Ht(a.imageSizes)+'"]')):d+='[href="'+Ht(r)+'"]';var m=d;switch(i){case"style":m=Io(r);break;case"script":m=ko(r)}Zn.has(m)||(r=w({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:r,as:i},a),Zn.set(m,r),l.querySelector(d)!==null||i==="style"&&l.querySelector(cc(m))||i==="script"&&l.querySelector(uc(m))||(i=l.createElement("link"),Jt(i,"link",r),xt(i),l.head.appendChild(i)))}}function h4(r,i){hi.m(r,i);var a=No;if(a&&r){var l=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+Ht(l)+'"][href="'+Ht(r)+'"]',m=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=ko(r)}if(!Zn.has(m)&&(r=w({rel:"modulepreload",href:r},i),Zn.set(m,r),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(uc(m)))return}l=a.createElement("link"),Jt(l,"link",r),xt(l),a.head.appendChild(l)}}}function d4(r,i,a){hi.S(r,i,a);var l=No;if(l&&r){var d=zi(l).hoistableStyles,m=Io(r);i=i||"default";var _=d.get(m);if(!_){var E={loading:0,preload:null};if(_=l.querySelector(cc(m)))E.loading=5;else{r=w({rel:"stylesheet",href:r,"data-precedence":i},a),(a=Zn.get(m))&&sp(r,a);var R=_=l.createElement("link");xt(R),Jt(R,"link",r),R._p=new Promise(function(q,W){R.onload=q,R.onerror=W}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,xh(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:E},d.set(m,_)}}}function f4(r,i){hi.X(r,i);var a=No;if(a&&r){var l=zi(a).hoistableScripts,d=ko(r),m=l.get(d);m||(m=a.querySelector(uc(d)),m||(r=w({src:r,async:!0},i),(i=Zn.get(d))&&ap(r,i),m=a.createElement("script"),xt(m),Jt(m,"link",r),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function m4(r,i){hi.M(r,i);var a=No;if(a&&r){var l=zi(a).hoistableScripts,d=ko(r),m=l.get(d);m||(m=a.querySelector(uc(d)),m||(r=w({src:r,async:!0,type:"module"},i),(i=Zn.get(d))&&ap(r,i),m=a.createElement("script"),xt(m),Jt(m,"link",r),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function P2(r,i,a,l){var d=(d=Se.current)?Eh(d):null;if(!d)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Io(a.href),a=zi(d).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){r=Io(a.href);var m=zi(d).hoistableStyles,_=m.get(r);if(_||(d=d.ownerDocument||d,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(r,_),(m=d.querySelector(cc(r)))&&!m._p&&(_.instance=m,_.state.loading=5),Zn.has(r)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Zn.set(r,a),m||p4(d,r,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ko(a),a=zi(d).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function Io(r){return'href="'+Ht(r)+'"'}function cc(r){return'link[rel="stylesheet"]['+r+"]"}function V2(r){return w({},r,{"data-precedence":r.precedence,precedence:null})}function p4(r,i,a,l){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=r.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Jt(i,"link",a),xt(i),r.head.appendChild(i))}function ko(r){return'[src="'+Ht(r)+'"]'}function uc(r){return"script[async]"+r}function L2(r,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=r.querySelector('style[data-href~="'+Ht(a.href)+'"]');if(l)return i.instance=l,xt(l),l;var d=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(r.ownerDocument||r).createElement("style"),xt(l),Jt(l,"style",d),xh(l,a.precedence,r),i.instance=l;case"stylesheet":d=Io(a.href);var m=r.querySelector(cc(d));if(m)return i.state.loading|=4,i.instance=m,xt(m),m;l=V2(a),(d=Zn.get(d))&&sp(l,d),m=(r.ownerDocument||r).createElement("link"),xt(m);var _=m;return _._p=new Promise(function(E,R){_.onload=E,_.onerror=R}),Jt(m,"link",l),i.state.loading|=4,xh(m,a.precedence,r),i.instance=m;case"script":return m=ko(a.src),(d=r.querySelector(uc(m)))?(i.instance=d,xt(d),d):(l=a,(d=Zn.get(m))&&(l=w({},a),ap(l,d)),r=r.ownerDocument||r,d=r.createElement("script"),xt(d),Jt(d,"link",l),r.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,xh(l,a.precedence,r));return i.instance}function xh(r,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,m=d,_=0;_<l.length;_++){var E=l[_];if(E.dataset.precedence===i)m=E;else if(m!==d)break}m?m.parentNode.insertBefore(r,m.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(r,i.firstChild))}function sp(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function ap(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var Th=null;function U2(r,i,a){if(Th===null){var l=new Map,d=Th=new Map;d.set(a,l)}else d=Th,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(r))return l;for(l.set(r,null),a=a.getElementsByTagName(r),d=0;d<a.length;d++){var m=a[d];if(!(m[Ui]||m[Et]||r==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(i)||"";_=r+_;var E=l.get(_);E?E.push(m):l.set(_,[m])}}return l}function B2(r,i,a){r=r.ownerDocument||r,r.head.insertBefore(a,i==="title"?r.querySelector("head > title"):null)}function g4(r,i,a){if(a===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function z2(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var hc=null;function y4(){}function v4(r,i,a){if(hc===null)throw Error(s(475));var l=hc;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var d=Io(a.href),m=r.querySelector(cc(d));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(l.count++,l=Ah.bind(l),r.then(l,l)),i.state.loading|=4,i.instance=m,xt(m);return}m=r.ownerDocument||r,a=V2(a),(d=Zn.get(d))&&sp(a,d),m=m.createElement("link"),xt(m);var _=m;_._p=new Promise(function(E,R){_.onload=E,_.onerror=R}),Jt(m,"link",a),i.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,r),(r=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Ah.bind(l),r.addEventListener("load",i),r.addEventListener("error",i))}}function w4(){if(hc===null)throw Error(s(475));var r=hc;return r.stylesheets&&r.count===0&&op(r,r.stylesheets),0<r.count?function(i){var a=setTimeout(function(){if(r.stylesheets&&op(r,r.stylesheets),r.unsuspend){var l=r.unsuspend;r.unsuspend=null,l()}},6e4);return r.unsuspend=i,function(){r.unsuspend=null,clearTimeout(a)}}:null}function Ah(){if(this.count--,this.count===0){if(this.stylesheets)op(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Sh=null;function op(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Sh=new Map,i.forEach(b4,r),Sh=null,Ah.call(r))}function b4(r,i){if(!(i.state.loading&4)){var a=Sh.get(r);if(a)var l=a.get(null);else{a=new Map,Sh.set(r,a);for(var d=r.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var _=d[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}d=i.instance,_=d.getAttribute("data-precedence"),m=a.get(_)||l,m===l&&a.set(null,d),a.set(_,d),this.count++,l=Ah.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),m?m.parentNode.insertBefore(d,m.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(d,r.firstChild)),i.state.loading|=4}}var dc={$$typeof:se,Provider:null,Consumer:null,_currentValue:be,_currentValue2:be,_threadCount:0};function _4(r,i,a,l,d,m,_,E){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fa(0),this.hiddenUpdates=Fa(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function H2(r,i,a,l,d,m,_,E,R,q,W,te){return r=new _4(r,i,a,_,E,R,q,te),i=1,m===!0&&(i|=24),m=In(3,null,null,i),r.current=m,m.stateNode=r,i=Hf(),i.refCount++,r.pooledCache=i,i.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:i},$f(m),r}function q2(r){return r?(r=oo,r):oo}function F2(r,i,a,l,d,m){d=q2(d),l.context===null?l.context=d:l.pendingContext=d,l=Wi(i),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Zi(r,l,i),a!==null&&(Mn(a,r,i),Hl(a,r,i))}function G2(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<i?a:i}}function lp(r,i){G2(r,i),(r=r.alternate)&&G2(r,i)}function $2(r){if(r.tag===13){var i=ao(r,67108864);i!==null&&Mn(i,r,67108864),lp(r,67108864)}}var Ch=!0;function E4(r,i,a,l){var d=X.T;X.T=null;var m=ce.p;try{ce.p=2,cp(r,i,a,l)}finally{ce.p=m,X.T=d}}function x4(r,i,a,l){var d=X.T;X.T=null;var m=ce.p;try{ce.p=8,cp(r,i,a,l)}finally{ce.p=m,X.T=d}}function cp(r,i,a,l){if(Ch){var d=up(l);if(d===null)Xm(r,i,l,Rh,a),K2(r,l);else if(A4(d,r,i,a,l))l.stopPropagation();else if(K2(r,l),i&4&&-1<T4.indexOf(r)){for(;d!==null;){var m=_r(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=ir(m.pendingLanes);if(_!==0){var E=m;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var R=1<<31-fn(_);E.entanglements[1]|=R,_&=~R}kr(m),(Xe&6)===0&&(hh=bn()+500,sc(0))}}break;case 13:E=ao(m,2),E!==null&&Mn(E,m,2),fh(),lp(m,2)}if(m=up(l),m===null&&Xm(r,i,l,Rh,a),m===d)break;d=m}d!==null&&l.stopPropagation()}else Xm(r,i,l,null,a)}}function up(r){return r=xl(r),hp(r)}var Rh=null;function hp(r){if(Rh=null,r=br(r),r!==null){var i=c(r);if(i===null)r=null;else{var a=i.tag;if(a===13){if(r=h(i),r!==null)return r;r=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return Rh=r,null}function Y2(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pu()){case Pt:return 2;case zt:return 8;case Gr:case gf:return 32;case fl:return 268435456;default:return 32}default:return 32}}var dp=!1,hs=null,ds=null,fs=null,fc=new Map,mc=new Map,ms=[],T4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function K2(r,i){switch(r){case"focusin":case"focusout":hs=null;break;case"dragenter":case"dragleave":ds=null;break;case"mouseover":case"mouseout":fs=null;break;case"pointerover":case"pointerout":fc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":mc.delete(i.pointerId)}}function pc(r,i,a,l,d,m){return r===null||r.nativeEvent!==m?(r={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[d]},i!==null&&(i=_r(i),i!==null&&$2(i)),r):(r.eventSystemFlags|=l,i=r.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),r)}function A4(r,i,a,l,d){switch(i){case"focusin":return hs=pc(hs,r,i,a,l,d),!0;case"dragenter":return ds=pc(ds,r,i,a,l,d),!0;case"mouseover":return fs=pc(fs,r,i,a,l,d),!0;case"pointerover":var m=d.pointerId;return fc.set(m,pc(fc.get(m)||null,r,i,a,l,d)),!0;case"gotpointercapture":return m=d.pointerId,mc.set(m,pc(mc.get(m)||null,r,i,a,l,d)),!0}return!1}function Q2(r){var i=br(r.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){r.blockedOn=i,wf(r.priority,function(){if(a.tag===13){var l=On();l=pl(l);var d=ao(a,l);d!==null&&Mn(d,a,l),lp(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Nh(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var a=up(r.nativeEvent);if(a===null){a=r.nativeEvent;var l=new a.constructor(a.type,a);El=l,a.target.dispatchEvent(l),El=null}else return i=_r(a),i!==null&&$2(i),r.blockedOn=a,!1;i.shift()}return!0}function X2(r,i,a){Nh(r)&&a.delete(i)}function S4(){dp=!1,hs!==null&&Nh(hs)&&(hs=null),ds!==null&&Nh(ds)&&(ds=null),fs!==null&&Nh(fs)&&(fs=null),fc.forEach(X2),mc.forEach(X2)}function Ih(r,i){r.blockedOn===i&&(r.blockedOn=null,dp||(dp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,S4)))}var kh=null;function W2(r){kh!==r&&(kh=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){kh===r&&(kh=null);for(var i=0;i<r.length;i+=3){var a=r[i],l=r[i+1],d=r[i+2];if(typeof l!="function"){if(hp(l||a)===null)continue;break}var m=_r(a);m!==null&&(r.splice(i,3),i-=3,hm(m,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function gc(r){function i(R){return Ih(R,r)}hs!==null&&Ih(hs,r),ds!==null&&Ih(ds,r),fs!==null&&Ih(fs,r),fc.forEach(i),mc.forEach(i);for(var a=0;a<ms.length;a++){var l=ms[a];l.blockedOn===r&&(l.blockedOn=null)}for(;0<ms.length&&(a=ms[0],a.blockedOn===null);)Q2(a),a.blockedOn===null&&ms.shift();if(a=(r.ownerDocument||r).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],m=a[l+1],_=d[Xt]||null;if(typeof m=="function")_||W2(a);else if(_){var E=null;if(m&&m.hasAttribute("formAction")){if(d=m,_=m[Xt]||null)E=_.formAction;else if(hp(d)!==null)continue}else E=_.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),W2(a)}}}function fp(r){this._internalRoot=r}Dh.prototype.render=fp.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=On();F2(a,l,r,i,null,null)},Dh.prototype.unmount=fp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;F2(r.current,2,null,r,null,null),fh(),i[Yr]=null}};function Dh(r){this._internalRoot=r}Dh.prototype.unstable_scheduleHydration=function(r){if(r){var i=$r();r={blockedOn:null,target:r,priority:i};for(var a=0;a<ms.length&&i!==0&&i<ms[a].priority;a++);ms.splice(a,0,r),a===0&&Q2(r)}};var Z2=e.version;if(Z2!=="19.1.1")throw Error(s(527,Z2,"19.1.1"));ce.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=g(i),r=r!==null?y(r):null,r=r===null?null:r.stateNode,r};var C4={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jh.isDisabled&&jh.supportsFiber)try{ji=jh.inject(C4),rn=jh}catch{}}return vc.createRoot=function(r,i){if(!o(r))throw Error(s(299));var a=!1,l="",d=mv,m=pv,_=gv,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=H2(r,1,!1,null,null,a,l,d,m,_,E,null),r[Yr]=i.current,Qm(r),new fp(i)},vc.hydrateRoot=function(r,i,a){if(!o(r))throw Error(s(299));var l=!1,d="",m=mv,_=pv,E=gv,R=null,q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(q=a.formState)),i=H2(r,1,!0,i,a??null,l,d,m,_,E,R,q),i.context=q2(null),a=i.current,l=On(),l=pl(l),d=Wi(l),d.callback=null,Zi(a,d,l),a=l,i.current.lanes=a,_t(i,a),kr(i),r[Yr]=i.current,Qm(r),new Dh(i)},vc.version="19.1.1",vc}var lw;function L4(){if(lw)return gp.exports;lw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),gp.exports=V4(),gp.exports}var U4=L4();const B4=()=>{};var cw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},z4=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const o=n[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=n[t++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=n[t++],h=n[t++],p=n[t++],g=((o&7)<<18|(c&63)<<12|(h&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const c=n[t++],h=n[t++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|h&63)}}return e.join("")},l1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<n.length;o+=3){const c=n[o],h=o+1<n.length,p=h?n[o+1]:0,g=o+2<n.length,y=g?n[o+2]:0,w=c>>2,x=(c&3)<<4|p>>4;let A=(p&15)<<2|y>>6,I=y&63;g||(I=64,h||(A=64)),s.push(t[w],t[x],t[A],t[I])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(o1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):z4(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<n.length;){const c=t[n.charAt(o++)],p=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const x=o<n.length?t[n.charAt(o)]:64;if(++o,c==null||p==null||y==null||x==null)throw new H4;const A=c<<2|p>>4;if(s.push(A),y!==64){const I=p<<4&240|y>>2;if(s.push(I),x!==64){const B=y<<6&192|x;s.push(B)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class H4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const q4=function(n){const e=o1(n);return l1.encodeByteArray(e,!0)},ed=function(n){return q4(n).replace(/\./g,"")},c1=function(n){try{return l1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4=()=>F4().__FIREBASE_DEFAULTS__,$4=()=>{if(typeof process>"u"||typeof cw>"u")return;const n=cw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Y4=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&c1(n[1]);return e&&JSON.parse(e)},jd=()=>{try{return B4()||G4()||$4()||Y4()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},u1=n=>jd()?.emulatorHosts?.[n],K4=n=>{const e=u1(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},h1=()=>jd()?.config,d1=n=>jd()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function f1(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X4(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=n.iat||0,c=n.sub||n.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...n};return[ed(JSON.stringify(t)),ed(JSON.stringify(h)),""].join(".")}const Sc={};function W4(){const n={prod:[],emulator:[]};for(const e of Object.keys(Sc))Sc[e]?n.emulator.push(e):n.prod.push(e);return n}function Z4(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let uw=!1;function m1(n,e){if(typeof window>"u"||typeof document>"u"||!Wo(window.location.host)||Sc[n]===e||Sc[n]||uw)return;Sc[n]=e;function t(A){return`__firebase__banner__${A}`}const s="__firebase__banner",c=W4().prod.length>0;function h(){const A=document.getElementById(s);A&&A.remove()}function p(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function g(A,I){A.setAttribute("width","24"),A.setAttribute("id",I),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function y(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{uw=!0,h()},A}function w(A,I){A.setAttribute("id",I),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function x(){const A=Z4(s),I=t("text"),B=document.getElementById(I)||document.createElement("span"),Y=t("learnmore"),U=document.getElementById(Y)||document.createElement("a"),ee=t("preprendIcon"),Q=document.getElementById(ee)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const se=A.element;p(se),w(U,Y);const ie=y();g(Q,ee),se.append(Q,B,U,ie),document.body.appendChild(se)}c?(B.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function J4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function eA(){const n=jd()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nA(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function rA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iA(){const n=hn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function sA(){return!eA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aA(){try{return typeof indexedDB=="object"}catch{return!1}}function oA(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="FirebaseError";class Ni extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=lA,Object.setPrototypeOf(this,Ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qc.prototype.create)}}class Qc{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,c=this.errors[e],h=c?cA(c,s):"Error",p=`${this.serviceName}: ${h} (${o}).`;return new Ni(o,p,s)}}function cA(n,e){return n.replace(uA,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const uA=/\{\$([^}]+)}/g;function hA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ra(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const c=n[o],h=e[o];if(hw(c)&&hw(h)){if(!Ra(c,h))return!1}else if(c!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function hw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function bc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,c]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function _c(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function dA(n,e){const t=new fA(n,e);return t.subscribe.bind(t)}class fA{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");mA(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=bp),o.error===void 0&&(o.error=bp),o.complete===void 0&&(o.complete=bp);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mA(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function bp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(n){return n&&n._delegate?n._delegate:n}class Na{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new Q4;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yA(e))try{this.getOrInitializeService({instanceIdentifier:_a})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=_a){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_a){return this.instances.has(e)}getOptions(e=_a){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[c,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&h.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:gA(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=_a){return this.component?this.component.multipleInstances?e:_a:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gA(n){return n===_a?void 0:n}function yA(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new pA(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ve||(Ve={}));const wA={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},bA=Ve.INFO,_A={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},EA=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),o=_A[e];if(o)console[o](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vg{constructor(e){this.name=e,this._logLevel=bA,this._logHandler=EA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const xA=(n,e)=>e.some(t=>n instanceof t);let dw,fw;function TA(){return dw||(dw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AA(){return fw||(fw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const p1=new WeakMap,Vp=new WeakMap,g1=new WeakMap,_p=new WeakMap,wg=new WeakMap;function SA(n){const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("success",c),n.removeEventListener("error",h)},c=()=>{t(_s(n.result)),o()},h=()=>{s(n.error),o()};n.addEventListener("success",c),n.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&p1.set(t,n)}).catch(()=>{}),wg.set(e,n),e}function CA(n){if(Vp.has(n))return;const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("complete",c),n.removeEventListener("error",h),n.removeEventListener("abort",h)},c=()=>{t(),o()},h=()=>{s(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",c),n.addEventListener("error",h),n.addEventListener("abort",h)});Vp.set(n,e)}let Lp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Vp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||g1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return _s(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function RA(n){Lp=n(Lp)}function NA(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(Ep(this),e,...t);return g1.set(s,e.sort?e.sort():[e]),_s(s)}:AA().includes(n)?function(...e){return n.apply(Ep(this),e),_s(p1.get(this))}:function(...e){return _s(n.apply(Ep(this),e))}}function IA(n){return typeof n=="function"?NA(n):(n instanceof IDBTransaction&&CA(n),xA(n,TA())?new Proxy(n,Lp):n)}function _s(n){if(n instanceof IDBRequest)return SA(n);if(_p.has(n))return _p.get(n);const e=IA(n);return e!==n&&(_p.set(n,e),wg.set(e,n)),e}const Ep=n=>wg.get(n);function kA(n,e,{blocked:t,upgrade:s,blocking:o,terminated:c}={}){const h=indexedDB.open(n,e),p=_s(h);return s&&h.addEventListener("upgradeneeded",g=>{s(_s(h.result),g.oldVersion,g.newVersion,_s(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const DA=["get","getKey","getAll","getAllKeys","count"],jA=["put","add","delete","clear"],xp=new Map;function mw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(xp.get(e))return xp.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=jA.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||DA.includes(t)))return;const c=async function(h,...p){const g=this.transaction(h,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[t](...p),o&&g.done]))[0]};return xp.set(e,c),c}RA(n=>({...n,get:(e,t,s)=>mw(e,t)||n.get(e,t,s),has:(e,t)=>!!mw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(MA(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function MA(n){return n.getComponent()?.type==="VERSION"}const Up="@firebase/app",pw="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei=new vg("@firebase/app"),PA="@firebase/app-compat",VA="@firebase/analytics-compat",LA="@firebase/analytics",UA="@firebase/app-check-compat",BA="@firebase/app-check",zA="@firebase/auth",HA="@firebase/auth-compat",qA="@firebase/database",FA="@firebase/data-connect",GA="@firebase/database-compat",$A="@firebase/functions",YA="@firebase/functions-compat",KA="@firebase/installations",QA="@firebase/installations-compat",XA="@firebase/messaging",WA="@firebase/messaging-compat",ZA="@firebase/performance",JA="@firebase/performance-compat",eS="@firebase/remote-config",tS="@firebase/remote-config-compat",nS="@firebase/storage",rS="@firebase/storage-compat",iS="@firebase/firestore",sS="@firebase/ai",aS="@firebase/firestore-compat",oS="firebase",lS="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp="[DEFAULT]",cS={[Up]:"fire-core",[PA]:"fire-core-compat",[LA]:"fire-analytics",[VA]:"fire-analytics-compat",[BA]:"fire-app-check",[UA]:"fire-app-check-compat",[zA]:"fire-auth",[HA]:"fire-auth-compat",[qA]:"fire-rtdb",[FA]:"fire-data-connect",[GA]:"fire-rtdb-compat",[$A]:"fire-fn",[YA]:"fire-fn-compat",[KA]:"fire-iid",[QA]:"fire-iid-compat",[XA]:"fire-fcm",[WA]:"fire-fcm-compat",[ZA]:"fire-perf",[JA]:"fire-perf-compat",[eS]:"fire-rc",[tS]:"fire-rc-compat",[nS]:"fire-gcs",[rS]:"fire-gcs-compat",[iS]:"fire-fst",[aS]:"fire-fst-compat",[sS]:"fire-vertex","fire-js":"fire-js",[oS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td=new Map,uS=new Map,zp=new Map;function gw(n,e){try{n.container.addComponent(e)}catch(t){Ei.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ho(n){const e=n.name;if(zp.has(e))return Ei.debug(`There were multiple attempts to register component ${e}.`),!1;zp.set(e,n);for(const t of td.values())gw(t,n);for(const t of uS.values())gw(t,n);return!0}function bg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Pn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Es=new Qc("app","Firebase",hS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Na("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo=lS;function y1(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s={name:Bp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Es.create("bad-app-name",{appName:String(o)});if(t||(t=h1()),!t)throw Es.create("no-options");const c=td.get(o);if(c){if(Ra(t,c.options)&&Ra(s,c.config))return c;throw Es.create("duplicate-app",{appName:o})}const h=new vA(o);for(const g of zp.values())h.addComponent(g);const p=new dS(t,s,h);return td.set(o,p),p}function v1(n=Bp){const e=td.get(n);if(!e&&n===Bp&&h1())return y1();if(!e)throw Es.create("no-app",{appName:n});return e}function xs(n,e,t){let s=cS[n]??n;t&&(s+=`-${t}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ei.warn(h.join(" "));return}Ho(new Na(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS="firebase-heartbeat-database",mS=1,Pc="firebase-heartbeat-store";let Tp=null;function w1(){return Tp||(Tp=kA(fS,mS,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Pc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Es.create("idb-open",{originalErrorMessage:n.message})})),Tp}async function pS(n){try{const t=(await w1()).transaction(Pc),s=await t.objectStore(Pc).get(b1(n));return await t.done,s}catch(e){if(e instanceof Ni)Ei.warn(e.message);else{const t=Es.create("idb-get",{originalErrorMessage:e?.message});Ei.warn(t.message)}}}async function yw(n,e){try{const s=(await w1()).transaction(Pc,"readwrite");await s.objectStore(Pc).put(e,b1(n)),await s.done}catch(t){if(t instanceof Ni)Ei.warn(t.message);else{const s=Es.create("idb-set",{originalErrorMessage:t?.message});Ei.warn(s.message)}}}function b1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS=1024,yS=30;class vS{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new bS(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=vw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>yS){const o=_S(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ei.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=vw(),{heartbeatsToSend:t,unsentEntries:s}=wS(this._heartbeatsCache.heartbeats),o=ed(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ei.warn(e),""}}}function vw(){return new Date().toISOString().substring(0,10)}function wS(n,e=gS){const t=[];let s=n.slice();for(const o of n){const c=t.find(h=>h.agent===o.agent);if(c){if(c.dates.push(o.date),ww(t)>e){c.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),ww(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class bS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aA()?oA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await pS(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return yw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return yw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function ww(n){return ed(JSON.stringify({version:2,heartbeats:n})).length}function _S(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(n){Ho(new Na("platform-logger",e=>new OA(e),"PRIVATE")),Ho(new Na("heartbeat",e=>new vS(e),"PRIVATE")),xs(Up,pw,n),xs(Up,pw,"esm2020"),xs("fire-js","")}ES("");var xS="firebase",TS="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xs(xS,TS,"app");function _1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AS=_1,E1=new Qc("auth","Firebase",_1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd=new vg("@firebase/auth");function SS(n,...e){nd.logLevel<=Ve.WARN&&nd.warn(`Auth (${Zo}): ${n}`,...e)}function Hh(n,...e){nd.logLevel<=Ve.ERROR&&nd.error(`Auth (${Zo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(n,...e){throw Eg(n,...e)}function pr(n,...e){return Eg(n,...e)}function _g(n,e,t){const s={...AS(),[e]:t};return new Qc("auth","Firebase",s).create(e,{appName:n.name})}function yi(n){return _g(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function CS(n,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&tr(n,"argument-error"),_g(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Eg(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return E1.create(n,...e)}function Ee(n,e,...t){if(!n)throw Eg(e,...t)}function pi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Hh(e),new Error(e)}function xi(n,e){n||pi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rd(){return typeof self<"u"&&self.location?.href||""}function x1(){return bw()==="http:"||bw()==="https:"}function bw(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(x1()||nA()||"connection"in navigator)?navigator.onLine:!0}function NS(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,t){this.shortDelay=e,this.longDelay=t,xi(t>e,"Short delay should be less than long delay!"),this.isMobile=J4()||rA()}get(){return RS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(n,e){xi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],DS=new Wc(3e4,6e4);function Ii(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function ki(n,e,t,s,o={}){return A1(n,o,async()=>{let c={},h={};s&&(e==="GET"?h=s:c={body:JSON.stringify(s)});const p=Xc({key:n.config.apiKey,...h}).slice(1),g=await n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);const y={method:e,headers:g,...c};return tA()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&Wo(n.emulatorConfig.host)&&(y.credentials="include"),T1.fetch()(await S1(n,n.config.apiHost,t,p),y)})}async function A1(n,e,t){n._canInitEmulator=!1;const s={...IS,...e};try{const o=new OS(n),c=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw Oh(n,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const p=c.ok?h.errorMessage:h.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Oh(n,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw Oh(n,"email-already-in-use",h);if(g==="USER_DISABLED")throw Oh(n,"user-disabled",h);const w=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw _g(n,w,y);tr(n,w)}}catch(o){if(o instanceof Ni)throw o;tr(n,"network-request-failed",{message:String(o)})}}async function Zc(n,e,t,s,o={}){const c=await ki(n,e,t,s,o);return"mfaPendingCredential"in c&&tr(n,"multi-factor-auth-required",{_serverResponse:c}),c}async function S1(n,e,t,s){const o=`${e}${t}?${s}`,c=n,h=c.config.emulator?xg(n.config,o):`${n.config.apiScheme}://${o}`;return kS.includes(t)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}function jS(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class OS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(pr(this.auth,"network-request-failed")),DS.get())})}}function Oh(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=pr(n,e,s);return o.customData._tokenResponse=t,o}function _w(n){return n!==void 0&&n.enterprise!==void 0}class MS{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return jS(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function PS(n,e){return ki(n,"GET","/v2/recaptchaConfig",Ii(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VS(n,e){return ki(n,"POST","/v1/accounts:delete",e)}async function id(n,e){return ki(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function LS(n,e=!1){const t=Mt(n),s=await t.getIdToken(e),o=Tg(s);Ee(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,h=c?.sign_in_provider;return{claims:o,token:s,authTime:Cc(Ap(o.auth_time)),issuedAtTime:Cc(Ap(o.iat)),expirationTime:Cc(Ap(o.exp)),signInProvider:h||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Ap(n){return Number(n)*1e3}function Tg(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return Hh("JWT malformed, contained fewer than 3 sections"),null;try{const o=c1(t);return o?JSON.parse(o):(Hh("Failed to decode base64 JWT payload"),null)}catch(o){return Hh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Ew(n){const e=Tg(n);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vc(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Ni&&US(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function US({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cc(this.lastLoginAt),this.creationTime=Cc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lc(n){const e=n.auth,t=await n.getIdToken(),s=await Vc(n,id(e,{idToken:t}));Ee(s?.users.length,e,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const c=o.providerUserInfo?.length?C1(o.providerUserInfo):[],h=HS(n.providerData,c),p=n.isAnonymous,g=!(n.email&&o.passwordHash)&&!h?.length,y=p?g:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Hp(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(n,w)}async function zS(n){const e=Mt(n);await Lc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function HS(n,e){return[...n.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function C1(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qS(n,e){const t=await A1(n,{},async()=>{const s=Xc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=n.config,h=await S1(n,o,"/v1/token",`key=${c}`),p=await n._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:s};return n.emulatorConfig&&Wo(n.emulatorConfig.host)&&(g.credentials="include"),T1.fetch()(h,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function FS(n,e){return ki(n,"POST","/v2/accounts:revokeToken",Ii(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ew(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=Ew(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:c}=await qS(e,t);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:c}=t,h=new Po;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),c&&(Ee(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Po,this.toJSON())}_performRefresh(){return pi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(n,e){Ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class mr{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new BS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Hp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Vc(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return LS(this,e)}reload(){return zS(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new mr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Lc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject(yi(this.auth));const e=await this.getIdToken();return await Vc(this,VS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,c=t.phoneNumber??void 0,h=t.photoURL??void 0,p=t.tenantId??void 0,g=t._redirectEventId??void 0,y=t.createdAt??void 0,w=t.lastLoginAt??void 0,{uid:x,emailVerified:A,isAnonymous:I,providerData:B,stsTokenManager:Y}=t;Ee(x&&Y,e,"internal-error");const U=Po.fromJSON(this.name,Y);Ee(typeof x=="string",e,"internal-error"),gs(s,e.name),gs(o,e.name),Ee(typeof A=="boolean",e,"internal-error"),Ee(typeof I=="boolean",e,"internal-error"),gs(c,e.name),gs(h,e.name),gs(p,e.name),gs(g,e.name),gs(y,e.name),gs(w,e.name);const ee=new mr({uid:x,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:I,photoURL:h,phoneNumber:c,tenantId:p,stsTokenManager:U,createdAt:y,lastLoginAt:w});return B&&Array.isArray(B)&&(ee.providerData=B.map(Q=>({...Q}))),g&&(ee._redirectEventId=g),ee}static async _fromIdTokenResponse(e,t,s=!1){const o=new Po;o.updateFromServerResponse(t);const c=new mr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Lc(c),c}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ee(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?C1(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!c?.length,p=new Po;p.updateFromIdToken(s);const g=new mr({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Hp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw=new Map;function gi(n){xi(n instanceof Function,"Expected a class definition");let e=xw.get(n);return e?(xi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,xw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}R1.type="NONE";const Tw=R1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(n,e,t){return`firebase:${n}:${e}:${t}`}class Vo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=qh(this.userKey,o.apiKey,c),this.fullPersistenceKey=qh("persistence",o.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await id(this.auth,{idToken:e}).catch(()=>{});return t?mr._fromGetAccountInfoResponse(this.auth,t,e):null}return mr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Vo(gi(Tw),e,s);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||gi(Tw);const h=qh(s,e.config.apiKey,e.name);let p=null;for(const y of t)try{const w=await y._get(h);if(w){let x;if(typeof w=="string"){const A=await id(e,{idToken:w}).catch(()=>{});if(!A)break;x=await mr._fromGetAccountInfoResponse(e,A,w)}else x=mr._fromJSON(e,w);y!==c&&(p=x),c=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new Vo(c,e,s):(c=g[0],p&&await c._set(h,p.toJSON()),await Promise.all(t.map(async y=>{if(y!==c)try{await y._remove(h)}catch{}})),new Vo(c,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(D1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(N1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(O1(e))return"Blackberry";if(M1(e))return"Webos";if(I1(e))return"Safari";if((e.includes("chrome/")||k1(e))&&!e.includes("edge/"))return"Chrome";if(j1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if(s?.length===2)return s[1]}return"Other"}function N1(n=hn()){return/firefox\//i.test(n)}function I1(n=hn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function k1(n=hn()){return/crios\//i.test(n)}function D1(n=hn()){return/iemobile/i.test(n)}function j1(n=hn()){return/android/i.test(n)}function O1(n=hn()){return/blackberry/i.test(n)}function M1(n=hn()){return/webos/i.test(n)}function Ag(n=hn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function GS(n=hn()){return Ag(n)&&!!window.navigator?.standalone}function $S(){return iA()&&document.documentMode===10}function P1(n=hn()){return Ag(n)||j1(n)||M1(n)||O1(n)||/windows phone/i.test(n)||D1(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(n,e=[]){let t;switch(n){case"Browser":t=Aw(hn());break;case"Worker":t=`${Aw(hn())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Zo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=c=>new Promise((h,p)=>{try{const g=e(c);h(g)}catch(g){p(g)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KS(n,e={}){return ki(n,"GET","/v2/passwordPolicy",Ii(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS=6;class XS{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??QS,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sw(this),this.idTokenSubscription=new Sw(this),this.beforeStateQueue=new YS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=E1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=gi(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Vo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await id(this,{idToken:e}),s=await mr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Pn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,h=s?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===h)&&p?.user&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Lc(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=NS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pn(this.app))return Promise.reject(yi(this));const t=e?Mt(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject(yi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pn(this.app)?Promise.reject(yi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await KS(this),t=new XS(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qc("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await FS(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&gi(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await Vo.create(this,[gi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const c=typeof t=="function"?t:t.next.bind(t);let h=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(p,this,"internal-error"),p.then(()=>{h||c(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(t);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=V1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&SS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function js(n){return Mt(n)}class Sw{constructor(e){this.auth=e,this.observer=null,this.addObserver=dA(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Od={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZS(n){Od=n}function L1(n){return Od.loadJS(n)}function JS(){return Od.recaptchaEnterpriseScript}function e3(){return Od.gapiScript}function t3(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class n3{constructor(){this.enterprise=new r3}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class r3{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const i3="recaptcha-enterprise",U1="NO_RECAPTCHA";class s3{constructor(e){this.type=i3,this.auth=js(e)}async verify(e="verify",t=!1){async function s(c){if(!t){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(h,p)=>{PS(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new MS(g);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,h(y.siteKey)}}).catch(g=>{p(g)})})}function o(c,h,p){const g=window.grecaptcha;_w(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(y=>{h(y)}).catch(()=>{h(U1)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new n3().execute("siteKey",{action:"verify"}):new Promise((c,h)=>{s(this.auth).then(p=>{if(!t&&_w(window.grecaptcha))o(p,c,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=JS();g.length!==0&&(g+=p),L1(g).then(()=>{o(p,c,h)}).catch(y=>{h(y)})}}).catch(p=>{h(p)})})}}async function Cw(n,e,t,s=!1,o=!1){const c=new s3(n);let h;if(o)h=U1;else try{h=await c.verify(t)}catch{h=await c.verify(t,!0)}const p={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:h}):Object.assign(p,{captchaResponse:h}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function qp(n,e,t,s,o){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Cw(n,e,t,t==="getOobCode");return s(n,c)}else return s(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await Cw(n,e,t,t==="getOobCode");return s(n,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a3(n,e){const t=bg(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),c=t.getOptions();if(Ra(c,e??{}))return o;tr(o,"already-initialized")}return t.initialize({options:e})}function o3(n,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(gi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e?.popupRedirectResolver)}function l3(n,e,t){const s=js(n);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=B1(e),{host:h,port:p}=c3(e),g=p===null?"":`:${p}`,y={url:`${c}//${h}${g}/`},w=Object.freeze({host:h,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(Ra(y,s.config.emulator)&&Ra(w,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=w,s.settings.appVerificationDisabledForTesting=!0,Wo(h)?(f1(`${c}//${h}${g}`),m1("Auth",!0)):u3()}function B1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function c3(n){const e=B1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:Rw(s.substr(c.length+1))}}else{const[c,h]=s.split(":");return{host:c,port:Rw(h)}}}function Rw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function u3(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return pi("not implemented")}_getIdTokenResponse(e){return pi("not implemented")}_linkToIdToken(e,t){return pi("not implemented")}_getReauthenticationResolver(e){return pi("not implemented")}}async function h3(n,e){return ki(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d3(n,e){return Zc(n,"POST","/v1/accounts:signInWithPassword",Ii(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f3(n,e){return Zc(n,"POST","/v1/accounts:signInWithEmailLink",Ii(n,e))}async function m3(n,e){return Zc(n,"POST","/v1/accounts:signInWithEmailLink",Ii(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc extends Sg{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Uc(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Uc(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qp(e,t,"signInWithPassword",d3);case"emailLink":return f3(e,{email:this._email,oobCode:this._password});default:tr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qp(e,s,"signUpPassword",h3);case"emailLink":return m3(e,{idToken:t,email:this._email,oobCode:this._password});default:tr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lo(n,e){return Zc(n,"POST","/v1/accounts:signInWithIdp",Ii(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3="http://localhost";class Ti extends Sg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ti(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):tr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=t;if(!s||!o)return null;const h=new Ti(s,o);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Lo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Lo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Lo(e,t)}buildRequest(){const e={requestUri:p3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Xc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g3(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function y3(n){const e=bc(_c(n)).link,t=e?bc(_c(e)).deep_link_id:null,s=bc(_c(n)).deep_link_id;return(s?bc(_c(s)).link:null)||s||t||e||n}class Cg{constructor(e){const t=bc(_c(e)),s=t.apiKey??null,o=t.oobCode??null,c=g3(t.mode??null);Ee(s&&o&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=y3(e);try{return new Cg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(){this.providerId=Oa.PROVIDER_ID}static credential(e,t){return Uc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Cg.parseLink(t);return Ee(s,"argument-error"),Uc._fromEmailAndCode(e,s.code,s.tenantId)}}Oa.PROVIDER_ID="password";Oa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Oa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo extends Rg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Rc extends Jo{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return Ee("providerId"in t&&"signInMethod"in t,"argument-error"),Ti._fromParams(t)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return Ee(e.idToken||e.accessToken,"argument-error"),Ti._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return Rc.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Rc.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:c,nonce:h,providerId:p}=e;if(!s&&!o&&!t&&!c||!p)return null;try{return new Rc(p)._credential({idToken:t,accessToken:s,nonce:h,pendingToken:c})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends Jo{constructor(){super("facebook.com")}static credential(e){return Ti._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return di.credential(e.oauthAccessToken)}catch{return null}}}di.FACEBOOK_SIGN_IN_METHOD="facebook.com";di.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends Jo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ti._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return fi.credential(t,s)}catch{return null}}}fi.GOOGLE_SIGN_IN_METHOD="google.com";fi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends Jo{constructor(){super("github.com")}static credential(e){return Ti._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mi.credential(e.oauthAccessToken)}catch{return null}}}mi.GITHUB_SIGN_IN_METHOD="github.com";mi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends Jo{constructor(){super("twitter.com")}static credential(e,t){return Ti._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return ys.credential(t,s)}catch{return null}}}ys.TWITTER_SIGN_IN_METHOD="twitter.com";ys.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v3(n,e){return Zc(n,"POST","/v1/accounts:signUp",Ii(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const c=await mr._fromIdTokenResponse(e,s,o),h=Nw(s);return new Ia({user:c,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=Nw(s);return new Ia({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function Nw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd extends Ni{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,sd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new sd(e,t,s,o)}}function z1(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?sd._fromErrorAndOperation(n,c,e,s):c})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}async function H1(n,e,t=!1){const s=await Vc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ia._forOperation(n,"link",s)}async function b3(n,e,t){await Lc(e);const s=w3(e.providerData);Ee(s.has(t)===n,e.auth,"provider-already-linked")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _3(n,e,t=!1){const{auth:s}=n;if(Pn(s.app))return Promise.reject(yi(s));const o="reauthenticate";try{const c=await Vc(n,z1(s,o,e,n),t);Ee(c.idToken,s,"internal-error");const h=Tg(c.idToken);Ee(h,s,"internal-error");const{sub:p}=h;return Ee(n.uid===p,s,"user-mismatch"),Ia._forOperation(n,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&tr(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q1(n,e,t=!1){if(Pn(n.app))return Promise.reject(yi(n));const s="signIn",o=await z1(n,s,e),c=await Ia._fromIdTokenResponse(n,s,o);return t||await n._updateCurrentUser(c.user),c}async function E3(n,e){return q1(js(n),e)}async function F1(n,e){const t=Mt(n);return await b3(!1,t,e.providerId),H1(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G1(n){const e=js(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function x3(n,e,t){if(Pn(n.app))return Promise.reject(yi(n));const s=js(n),h=await qp(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",v3).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&G1(n),g}),p=await Ia._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(p.user),p}function T3(n,e,t){return Pn(n.app)?Promise.reject(yi(n)):E3(Mt(n),Oa.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&G1(n),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A3(n,e){return ki(n,"POST","/v1/accounts:createAuthUri",Ii(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $1(n,e){const t=x1()?rd():"http://localhost",s={identifier:e,continueUri:t},{signinMethods:o}=await A3(Mt(n),s);return o||[]}function S3(n,e,t,s){return Mt(n).onIdTokenChanged(e,t,s)}function C3(n,e,t){return Mt(n).beforeAuthStateChanged(e,t)}function R3(n){return Mt(n).signOut()}const ad="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ad,"1"),this.storage.removeItem(ad),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3=1e3,I3=10;class K1 extends Y1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=P1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,p,g)=>{this.notifyListeners(h,g)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},c=this.storage.getItem(s);$S()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,I3):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},N3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}K1.type="LOCAL";const k3=K1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1 extends Y1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Q1.type="SESSION";const X1=Q1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D3(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Md(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:c}=t.data,h=this.handlersMap[o];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(h).map(async y=>y(t.origin,c)),g=await D3(p);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Md.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,h;return new Promise((p,g)=>{const y=Ng("",20);o.port1.start();const w=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(x){const A=x;if(A.data.eventId===y)switch(A.data.status){case"ack":clearTimeout(w),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(A.data.response);break;default:clearTimeout(w),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(){return window}function O3(n){Or().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(){return typeof Or().WorkerGlobalScope<"u"&&typeof Or().importScripts=="function"}async function M3(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function P3(){return navigator?.serviceWorker?.controller||null}function V3(){return W1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1="firebaseLocalStorageDb",L3=1,od="firebaseLocalStorage",J1="fbase_key";class Jc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Pd(n,e){return n.transaction([od],e?"readwrite":"readonly").objectStore(od)}function U3(){const n=indexedDB.deleteDatabase(Z1);return new Jc(n).toPromise()}function Fp(){const n=indexedDB.open(Z1,L3);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(od,{keyPath:J1})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(od)?e(s):(s.close(),await U3(),e(await Fp()))})})}async function Iw(n,e,t){const s=Pd(n,!0).put({[J1]:e,value:t});return new Jc(s).toPromise()}async function B3(n,e){const t=Pd(n,!1).get(e),s=await new Jc(t).toPromise();return s===void 0?null:s.value}function kw(n,e){const t=Pd(n,!0).delete(e);return new Jc(t).toPromise()}const z3=800,H3=3;class e_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>H3)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return W1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Md._getInstance(V3()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await M3(),!this.activeServiceWorker)return;this.sender=new j3(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||P3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fp();return await Iw(e,ad,"1"),await kw(e,ad),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Iw(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>B3(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>kw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Pd(o,!1).getAll();return new Jc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),z3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}e_.type="LOCAL";const q3=e_;new Wc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(n,e){return e?gi(e):(Ee(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig extends Sg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Lo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Lo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function F3(n){return q1(n.auth,new Ig(n),n.bypassAuthState)}function G3(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),_3(t,new Ig(n),n.bypassAuthState)}async function $3(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),H1(t,new Ig(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(e,t,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:c,error:h,type:p}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:t,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return F3;case"linkViaPopup":case"linkViaRedirect":return $3;case"reauthViaPopup":case"reauthViaRedirect":return G3;default:tr(this.auth,"internal-error")}}resolve(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3=new Wc(2e3,1e4);async function kg(n,e,t){if(Pn(n.app))return Promise.reject(pr(n,"operation-not-supported-in-this-environment"));const s=js(n);CS(n,e,Rg);const o=t_(s,t);return new Ea(s,"signInViaPopup",e,o).executeNotNull()}class Ea extends n_{constructor(e,t,s,o,c){super(e,t,o,c),this.provider=s,this.authWindow=null,this.pollId=null,Ea.currentPopupAction&&Ea.currentPopupAction.cancel(),Ea.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){xi(this.filter.length===1,"Popup operations only handle one event");const e=Ng();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(pr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(pr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ea.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Y3.get())};e()}}Ea.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3="pendingRedirect",Fh=new Map;class Q3 extends n_{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Fh.get(this.auth._key());if(!e){try{const s=await X3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Fh.set(this.auth._key(),e)}return this.bypassAuthState||Fh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function X3(n,e){const t=J3(e),s=Z3(n);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function W3(n,e){Fh.set(n._key(),e)}function Z3(n){return gi(n._redirectPersistence)}function J3(n){return qh(K3,n.config.apiKey,n.name)}async function eC(n,e,t=!1){if(Pn(n.app))return Promise.reject(yi(n));const s=js(n),o=t_(s,e),h=await new Q3(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=600*1e3;class nC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!r_(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(pr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Dw(e))}saveEventToCache(e){this.cachedEventUids.add(Dw(e)),this.lastProcessedEventTime=Date.now()}}function Dw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function r_({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function rC(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return r_(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iC(n,e={}){return ki(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aC=/^https?/;async function oC(n){if(n.config.emulator)return;const{authorizedDomains:e}=await iC(n);for(const t of e)try{if(lC(t))return}catch{}tr(n,"unauthorized-domain")}function lC(n){const e=rd(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const h=new URL(n);return h.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!aC.test(t))return!1;if(sC.test(n))return s===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=new Wc(3e4,6e4);function jw(){const n=Or().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function uC(n){return new Promise((e,t)=>{function s(){jw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jw(),t(pr(n,"network-request-failed"))},timeout:cC.get()})}if(Or().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Or().gapi?.load)s();else{const o=t3("iframefcb");return Or()[o]=()=>{gapi.load?s():t(pr(n,"network-request-failed"))},L1(`${e3()}?onload=${o}`).catch(c=>t(c))}}).catch(e=>{throw Gh=null,e})}let Gh=null;function hC(n){return Gh=Gh||uC(n),Gh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=new Wc(5e3,15e3),fC="__/auth/iframe",mC="emulator/auth/iframe",pC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yC(n){const e=n.config;Ee(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?xg(e,mC):`https://${n.config.authDomain}/${fC}`,s={apiKey:e.apiKey,appName:n.name,v:Zo},o=gC.get(n.config.apiHost);o&&(s.eid=o);const c=n._getFrameworks();return c.length&&(s.fw=c.join(",")),`${t}?${Xc(s).slice(1)}`}async function vC(n){const e=await hC(n),t=Or().gapi;return Ee(t,n,"internal-error"),e.open({where:document.body,url:yC(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pC,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const h=pr(n,"network-request-failed"),p=Or().setTimeout(()=>{c(h)},dC.get());function g(){Or().clearTimeout(p),o(s)}s.ping(g).then(g,()=>{c(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bC=500,_C=600,EC="_blank",xC="http://localhost";class Ow{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TC(n,e,t,s=bC,o=_C){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const g={...wC,width:s.toString(),height:o.toString(),top:c,left:h},y=hn().toLowerCase();t&&(p=k1(y)?EC:t),N1(y)&&(e=e||xC,g.scrollbars="yes");const w=Object.entries(g).reduce((A,[I,B])=>`${A}${I}=${B},`,"");if(GS(y)&&p!=="_self")return AC(e||"",p),new Ow(null);const x=window.open(e||"",p,w);Ee(x,n,"popup-blocked");try{x.focus()}catch{}return new Ow(x)}function AC(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC="__/auth/handler",CC="emulator/auth/handler",RC=encodeURIComponent("fac");async function Mw(n,e,t,s,o,c){Ee(n.config.authDomain,n,"auth-domain-config-required"),Ee(n.config.apiKey,n,"invalid-api-key");const h={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:Zo,eventId:o};if(e instanceof Rg){e.setDefaultLanguage(n.languageCode),h.providerId=e.providerId||"",hA(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,x]of Object.entries({}))h[w]=x}if(e instanceof Jo){const w=e.getScopes().filter(x=>x!=="");w.length>0&&(h.scopes=w.join(","))}n.tenantId&&(h.tid=n.tenantId);const p=h;for(const w of Object.keys(p))p[w]===void 0&&delete p[w];const g=await n._getAppCheckToken(),y=g?`#${RC}=${encodeURIComponent(g)}`:"";return`${NC(n)}?${Xc(p).slice(1)}${y}`}function NC({config:n}){return n.emulator?xg(n,CC):`https://${n.authDomain}/${SC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp="webStorageSupport";class IC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=X1,this._completeRedirectFn=eC,this._overrideRedirectResult=W3}async _openPopup(e,t,s,o){xi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Mw(e,t,s,rd(),o);return TC(e,c,Ng())}async _openRedirect(e,t,s,o){await this._originValidation(e);const c=await Mw(e,t,s,rd(),o);return O3(c),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:c}=this.eventManagers[t];return o?Promise.resolve(o):(xi(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await vC(e),s=new nC(e);return t.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Sp,{type:Sp},o=>{const c=o?.[0]?.[Sp];c!==void 0&&t(!!c),tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=oC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return P1()||I1()||Ag()}}const kC=IC;var Pw="@firebase/auth",Vw="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OC(n){Ho(new Na("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:p}=s.options;Ee(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:p,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:V1(n)},y=new WS(s,o,c,g);return o3(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Ho(new Na("auth-internal",e=>{const t=js(e.getProvider("auth").getImmediate());return(s=>new DC(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),xs(Pw,Vw,jC(n)),xs(Pw,Vw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=300,PC=d1("authIdTokenMaxAge")||MC;let Lw=null;const VC=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>PC)return;const o=t?.token;Lw!==o&&(Lw=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function LC(n=v1()){const e=bg(n,"auth");if(e.isInitialized())return e.getImmediate();const t=a3(n,{popupRedirectResolver:kC,persistence:[q3,k3,X1]}),s=d1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const h=VC(c.toString());C3(t,h,()=>h(t.currentUser)),S3(t,p=>h(p))}}const o=u1("auth");return o&&l3(t,`http://${o}`),t}function UC(){return document.getElementsByTagName("head")?.[0]??document}ZS({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=o=>{const c=pr("internal-error");c.customData=o,t(c)},s.type="text/javascript",s.charset="UTF-8",UC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OC("Browser");var Uw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ts,i_;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,S){function C(){}C.prototype=S.prototype,k.F=S.prototype,k.prototype=new C,k.prototype.constructor=k,k.D=function(M,j,L){for(var N=Array(arguments.length-2),yt=2;yt<arguments.length;yt++)N[yt-2]=arguments[yt];return S.prototype[j].apply(M,N)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,S,C){C||(C=0);const M=Array(16);if(typeof S=="string")for(var j=0;j<16;++j)M[j]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(j=0;j<16;++j)M[j]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=k.g[0],C=k.g[1],j=k.g[2];let L=k.g[3],N;N=S+(L^C&(j^L))+M[0]+3614090360&4294967295,S=C+(N<<7&4294967295|N>>>25),N=L+(j^S&(C^j))+M[1]+3905402710&4294967295,L=S+(N<<12&4294967295|N>>>20),N=j+(C^L&(S^C))+M[2]+606105819&4294967295,j=L+(N<<17&4294967295|N>>>15),N=C+(S^j&(L^S))+M[3]+3250441966&4294967295,C=j+(N<<22&4294967295|N>>>10),N=S+(L^C&(j^L))+M[4]+4118548399&4294967295,S=C+(N<<7&4294967295|N>>>25),N=L+(j^S&(C^j))+M[5]+1200080426&4294967295,L=S+(N<<12&4294967295|N>>>20),N=j+(C^L&(S^C))+M[6]+2821735955&4294967295,j=L+(N<<17&4294967295|N>>>15),N=C+(S^j&(L^S))+M[7]+4249261313&4294967295,C=j+(N<<22&4294967295|N>>>10),N=S+(L^C&(j^L))+M[8]+1770035416&4294967295,S=C+(N<<7&4294967295|N>>>25),N=L+(j^S&(C^j))+M[9]+2336552879&4294967295,L=S+(N<<12&4294967295|N>>>20),N=j+(C^L&(S^C))+M[10]+4294925233&4294967295,j=L+(N<<17&4294967295|N>>>15),N=C+(S^j&(L^S))+M[11]+2304563134&4294967295,C=j+(N<<22&4294967295|N>>>10),N=S+(L^C&(j^L))+M[12]+1804603682&4294967295,S=C+(N<<7&4294967295|N>>>25),N=L+(j^S&(C^j))+M[13]+4254626195&4294967295,L=S+(N<<12&4294967295|N>>>20),N=j+(C^L&(S^C))+M[14]+2792965006&4294967295,j=L+(N<<17&4294967295|N>>>15),N=C+(S^j&(L^S))+M[15]+1236535329&4294967295,C=j+(N<<22&4294967295|N>>>10),N=S+(j^L&(C^j))+M[1]+4129170786&4294967295,S=C+(N<<5&4294967295|N>>>27),N=L+(C^j&(S^C))+M[6]+3225465664&4294967295,L=S+(N<<9&4294967295|N>>>23),N=j+(S^C&(L^S))+M[11]+643717713&4294967295,j=L+(N<<14&4294967295|N>>>18),N=C+(L^S&(j^L))+M[0]+3921069994&4294967295,C=j+(N<<20&4294967295|N>>>12),N=S+(j^L&(C^j))+M[5]+3593408605&4294967295,S=C+(N<<5&4294967295|N>>>27),N=L+(C^j&(S^C))+M[10]+38016083&4294967295,L=S+(N<<9&4294967295|N>>>23),N=j+(S^C&(L^S))+M[15]+3634488961&4294967295,j=L+(N<<14&4294967295|N>>>18),N=C+(L^S&(j^L))+M[4]+3889429448&4294967295,C=j+(N<<20&4294967295|N>>>12),N=S+(j^L&(C^j))+M[9]+568446438&4294967295,S=C+(N<<5&4294967295|N>>>27),N=L+(C^j&(S^C))+M[14]+3275163606&4294967295,L=S+(N<<9&4294967295|N>>>23),N=j+(S^C&(L^S))+M[3]+4107603335&4294967295,j=L+(N<<14&4294967295|N>>>18),N=C+(L^S&(j^L))+M[8]+1163531501&4294967295,C=j+(N<<20&4294967295|N>>>12),N=S+(j^L&(C^j))+M[13]+2850285829&4294967295,S=C+(N<<5&4294967295|N>>>27),N=L+(C^j&(S^C))+M[2]+4243563512&4294967295,L=S+(N<<9&4294967295|N>>>23),N=j+(S^C&(L^S))+M[7]+1735328473&4294967295,j=L+(N<<14&4294967295|N>>>18),N=C+(L^S&(j^L))+M[12]+2368359562&4294967295,C=j+(N<<20&4294967295|N>>>12),N=S+(C^j^L)+M[5]+4294588738&4294967295,S=C+(N<<4&4294967295|N>>>28),N=L+(S^C^j)+M[8]+2272392833&4294967295,L=S+(N<<11&4294967295|N>>>21),N=j+(L^S^C)+M[11]+1839030562&4294967295,j=L+(N<<16&4294967295|N>>>16),N=C+(j^L^S)+M[14]+4259657740&4294967295,C=j+(N<<23&4294967295|N>>>9),N=S+(C^j^L)+M[1]+2763975236&4294967295,S=C+(N<<4&4294967295|N>>>28),N=L+(S^C^j)+M[4]+1272893353&4294967295,L=S+(N<<11&4294967295|N>>>21),N=j+(L^S^C)+M[7]+4139469664&4294967295,j=L+(N<<16&4294967295|N>>>16),N=C+(j^L^S)+M[10]+3200236656&4294967295,C=j+(N<<23&4294967295|N>>>9),N=S+(C^j^L)+M[13]+681279174&4294967295,S=C+(N<<4&4294967295|N>>>28),N=L+(S^C^j)+M[0]+3936430074&4294967295,L=S+(N<<11&4294967295|N>>>21),N=j+(L^S^C)+M[3]+3572445317&4294967295,j=L+(N<<16&4294967295|N>>>16),N=C+(j^L^S)+M[6]+76029189&4294967295,C=j+(N<<23&4294967295|N>>>9),N=S+(C^j^L)+M[9]+3654602809&4294967295,S=C+(N<<4&4294967295|N>>>28),N=L+(S^C^j)+M[12]+3873151461&4294967295,L=S+(N<<11&4294967295|N>>>21),N=j+(L^S^C)+M[15]+530742520&4294967295,j=L+(N<<16&4294967295|N>>>16),N=C+(j^L^S)+M[2]+3299628645&4294967295,C=j+(N<<23&4294967295|N>>>9),N=S+(j^(C|~L))+M[0]+4096336452&4294967295,S=C+(N<<6&4294967295|N>>>26),N=L+(C^(S|~j))+M[7]+1126891415&4294967295,L=S+(N<<10&4294967295|N>>>22),N=j+(S^(L|~C))+M[14]+2878612391&4294967295,j=L+(N<<15&4294967295|N>>>17),N=C+(L^(j|~S))+M[5]+4237533241&4294967295,C=j+(N<<21&4294967295|N>>>11),N=S+(j^(C|~L))+M[12]+1700485571&4294967295,S=C+(N<<6&4294967295|N>>>26),N=L+(C^(S|~j))+M[3]+2399980690&4294967295,L=S+(N<<10&4294967295|N>>>22),N=j+(S^(L|~C))+M[10]+4293915773&4294967295,j=L+(N<<15&4294967295|N>>>17),N=C+(L^(j|~S))+M[1]+2240044497&4294967295,C=j+(N<<21&4294967295|N>>>11),N=S+(j^(C|~L))+M[8]+1873313359&4294967295,S=C+(N<<6&4294967295|N>>>26),N=L+(C^(S|~j))+M[15]+4264355552&4294967295,L=S+(N<<10&4294967295|N>>>22),N=j+(S^(L|~C))+M[6]+2734768916&4294967295,j=L+(N<<15&4294967295|N>>>17),N=C+(L^(j|~S))+M[13]+1309151649&4294967295,C=j+(N<<21&4294967295|N>>>11),N=S+(j^(C|~L))+M[4]+4149444226&4294967295,S=C+(N<<6&4294967295|N>>>26),N=L+(C^(S|~j))+M[11]+3174756917&4294967295,L=S+(N<<10&4294967295|N>>>22),N=j+(S^(L|~C))+M[2]+718787259&4294967295,j=L+(N<<15&4294967295|N>>>17),N=C+(L^(j|~S))+M[9]+3951481745&4294967295,k.g[0]=k.g[0]+S&4294967295,k.g[1]=k.g[1]+(j+(N<<21&4294967295|N>>>11))&4294967295,k.g[2]=k.g[2]+j&4294967295,k.g[3]=k.g[3]+L&4294967295}s.prototype.v=function(k,S){S===void 0&&(S=k.length);const C=S-this.blockSize,M=this.C;let j=this.h,L=0;for(;L<S;){if(j==0)for(;L<=C;)o(this,k,L),L+=this.blockSize;if(typeof k=="string"){for(;L<S;)if(M[j++]=k.charCodeAt(L++),j==this.blockSize){o(this,M),j=0;break}}else for(;L<S;)if(M[j++]=k[L++],j==this.blockSize){o(this,M),j=0;break}}this.h=j,this.o+=S},s.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var S=1;S<k.length-8;++S)k[S]=0;S=this.o*8;for(var C=k.length-8;C<k.length;++C)k[C]=S&255,S/=256;for(this.v(k),k=Array(16),S=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)k[S++]=this.g[C]>>>M&255;return k};function c(k,S){var C=p;return Object.prototype.hasOwnProperty.call(C,k)?C[k]:C[k]=S(k)}function h(k,S){this.h=S;const C=[];let M=!0;for(let j=k.length-1;j>=0;j--){const L=k[j]|0;M&&L==S||(C[j]=L,M=!1)}this.g=C}var p={};function g(k){return-128<=k&&k<128?c(k,function(S){return new h([S|0],S<0?-1:0)}):new h([k|0],k<0?-1:0)}function y(k){if(isNaN(k)||!isFinite(k))return x;if(k<0)return U(y(-k));const S=[];let C=1;for(let M=0;k>=C;M++)S[M]=k/C|0,C*=4294967296;return new h(S,0)}function w(k,S){if(k.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(k.charAt(0)=="-")return U(w(k.substring(1),S));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(S,8));let M=x;for(let L=0;L<k.length;L+=8){var j=Math.min(8,k.length-L);const N=parseInt(k.substring(L,L+j),S);j<8?(j=y(Math.pow(S,j)),M=M.j(j).add(y(N))):(M=M.j(C),M=M.add(y(N)))}return M}var x=g(0),A=g(1),I=g(16777216);n=h.prototype,n.m=function(){if(Y(this))return-U(this).m();let k=0,S=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);k+=(M>=0?M:4294967296+M)*S,S*=4294967296}return k},n.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(B(this))return"0";if(Y(this))return"-"+U(this).toString(k);const S=y(Math.pow(k,6));var C=this;let M="";for(;;){const j=ie(C,S).g;C=ee(C,j.j(S));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(k);if(C=j,B(C))return L+M;for(;L.length<6;)L="0"+L;M=L+M}},n.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function B(k){if(k.h!=0)return!1;for(let S=0;S<k.g.length;S++)if(k.g[S]!=0)return!1;return!0}function Y(k){return k.h==-1}n.l=function(k){return k=ee(this,k),Y(k)?-1:B(k)?0:1};function U(k){const S=k.g.length,C=[];for(let M=0;M<S;M++)C[M]=~k.g[M];return new h(C,~k.h).add(A)}n.abs=function(){return Y(this)?U(this):this},n.add=function(k){const S=Math.max(this.g.length,k.g.length),C=[];let M=0;for(let j=0;j<=S;j++){let L=M+(this.i(j)&65535)+(k.i(j)&65535),N=(L>>>16)+(this.i(j)>>>16)+(k.i(j)>>>16);M=N>>>16,L&=65535,N&=65535,C[j]=N<<16|L}return new h(C,C[C.length-1]&-2147483648?-1:0)};function ee(k,S){return k.add(U(S))}n.j=function(k){if(B(this)||B(k))return x;if(Y(this))return Y(k)?U(this).j(U(k)):U(U(this).j(k));if(Y(k))return U(this.j(U(k)));if(this.l(I)<0&&k.l(I)<0)return y(this.m()*k.m());const S=this.g.length+k.g.length,C=[];for(var M=0;M<2*S;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let j=0;j<k.g.length;j++){const L=this.i(M)>>>16,N=this.i(M)&65535,yt=k.i(j)>>>16,ht=k.i(j)&65535;C[2*M+2*j]+=N*ht,Q(C,2*M+2*j),C[2*M+2*j+1]+=L*ht,Q(C,2*M+2*j+1),C[2*M+2*j+1]+=N*yt,Q(C,2*M+2*j+1),C[2*M+2*j+2]+=L*yt,Q(C,2*M+2*j+2)}for(k=0;k<S;k++)C[k]=C[2*k+1]<<16|C[2*k];for(k=S;k<2*S;k++)C[k]=0;return new h(C,0)};function Q(k,S){for(;(k[S]&65535)!=k[S];)k[S+1]+=k[S]>>>16,k[S]&=65535,S++}function se(k,S){this.g=k,this.h=S}function ie(k,S){if(B(S))throw Error("division by zero");if(B(k))return new se(x,x);if(Y(k))return S=ie(U(k),S),new se(U(S.g),U(S.h));if(Y(S))return S=ie(k,U(S)),new se(U(S.g),S.h);if(k.g.length>30){if(Y(k)||Y(S))throw Error("slowDivide_ only works with positive integers.");for(var C=A,M=S;M.l(k)<=0;)C=ae(C),M=ae(M);var j=ge(C,1),L=ge(M,1);for(M=ge(M,2),C=ge(C,2);!B(M);){var N=L.add(M);N.l(k)<=0&&(j=j.add(C),L=N),M=ge(M,1),C=ge(C,1)}return S=ee(k,j.j(S)),new se(j,S)}for(j=x;k.l(S)>=0;){for(C=Math.max(1,Math.floor(k.m()/S.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),L=y(C),N=L.j(S);Y(N)||N.l(k)>0;)C-=M,L=y(C),N=L.j(S);B(L)&&(L=A),j=j.add(L),k=ee(k,N)}return new se(j,k)}n.B=function(k){return ie(this,k).h},n.and=function(k){const S=Math.max(this.g.length,k.g.length),C=[];for(let M=0;M<S;M++)C[M]=this.i(M)&k.i(M);return new h(C,this.h&k.h)},n.or=function(k){const S=Math.max(this.g.length,k.g.length),C=[];for(let M=0;M<S;M++)C[M]=this.i(M)|k.i(M);return new h(C,this.h|k.h)},n.xor=function(k){const S=Math.max(this.g.length,k.g.length),C=[];for(let M=0;M<S;M++)C[M]=this.i(M)^k.i(M);return new h(C,this.h^k.h)};function ae(k){const S=k.g.length+1,C=[];for(let M=0;M<S;M++)C[M]=k.i(M)<<1|k.i(M-1)>>>31;return new h(C,k.h)}function ge(k,S){const C=S>>5;S%=32;const M=k.g.length-C,j=[];for(let L=0;L<M;L++)j[L]=S>0?k.i(L+C)>>>S|k.i(L+C+1)<<32-S:k.i(L+C);return new h(j,k.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,i_=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=w,Ts=h}).apply(typeof Uw<"u"?Uw:typeof self<"u"?self:typeof window<"u"?window:{});var Mh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var s_,Ec,a_,$h,Gp,o_,l_,c_;(function(){var n,e=Object.defineProperty;function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mh=="object"&&Mh];for(var v=0;v<u.length;++v){var b=u[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=t(this);function o(u,v){if(v)e:{var b=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var H=u[T];if(!(H in b))break e;b=b[H]}u=u[u.length-1],T=b[u],v=v(T),v!=T&&v!=null&&e(b,u,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(v){var b=[],T;for(T in v)Object.prototype.hasOwnProperty.call(v,T)&&b.push([T,v[T]]);return b}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function p(u){var v=typeof u;return v=="object"&&u!=null||v=="function"}function g(u,v,b){return u.call.apply(u.bind,arguments)}function y(u,v,b){return y=g,y.apply(null,arguments)}function w(u,v){var b=Array.prototype.slice.call(arguments,1);return function(){var T=b.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function x(u,v){function b(){}b.prototype=v.prototype,u.Z=v.prototype,u.prototype=new b,u.prototype.constructor=u,u.Ob=function(T,H,$){for(var oe=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)oe[Ne-2]=arguments[Ne];return v.prototype[H].apply(T,oe)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function I(u){const v=u.length;if(v>0){const b=Array(v);for(let T=0;T<v;T++)b[T]=u[T];return b}return[]}function B(u,v){for(let T=1;T<arguments.length;T++){const H=arguments[T];var b=typeof H;if(b=b!="object"?b:H?Array.isArray(H)?"array":b:"null",b=="array"||b=="object"&&typeof H.length=="number"){b=u.length||0;const $=H.length||0;u.length=b+$;for(let oe=0;oe<$;oe++)u[b+oe]=H[oe]}else u.push(H)}}class Y{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function U(u){h.setTimeout(()=>{throw u},0)}function ee(){var u=k;let v=null;return u.g&&(v=u.g,u.g=u.g.next,u.g||(u.h=null),v.next=null),v}class Q{constructor(){this.h=this.g=null}add(v,b){const T=se.get();T.set(v,b),this.h?this.h.next=T:this.g=T,this.h=T}}var se=new Y(()=>new ie,u=>u.reset());class ie{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,ge=!1,k=new Q,S=()=>{const u=Promise.resolve(void 0);ae=()=>{u.then(C)}};function C(){for(var u;u=ee();){try{u.h.call(u.g)}catch(b){U(b)}var v=se;v.j(u),v.h<100&&(v.h++,u.next=v.g,v.g=u)}ge=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(u,v){this.type=u,this.g=this.target=v,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,v=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};h.addEventListener("test",b,v),h.removeEventListener("test",b,v)}catch{}return u})();function N(u){return/^[\s\xa0]*$/.test(u)}function yt(u,v){j.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,v)}x(yt,j),yt.prototype.init=function(u,v){const b=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=v,v=u.relatedTarget,v||(b=="mouseover"?v=u.fromElement:b=="mouseout"&&(v=u.toElement)),this.relatedTarget=v,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&yt.Z.h.call(this)},yt.prototype.h=function(){yt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ht="closure_listenable_"+(Math.random()*1e6|0),X=0;function ce(u,v,b,T,H){this.listener=u,this.proxy=null,this.src=v,this.type=b,this.capture=!!T,this.ha=H,this.key=++X,this.da=this.fa=!1}function be(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function He(u,v,b){for(const T in u)v.call(b,u[T],T,u)}function D(u,v){for(const b in u)v.call(void 0,u[b],b,u)}function re(u){const v={};for(const b in u)v[b]=u[b];return v}const he="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(u,v){let b,T;for(let H=1;H<arguments.length;H++){T=arguments[H];for(b in T)u[b]=T[b];for(let $=0;$<he.length;$++)b=he[$],Object.prototype.hasOwnProperty.call(T,b)&&(u[b]=T[b])}}function ye(u){this.src=u,this.g={},this.h=0}ye.prototype.add=function(u,v,b,T,H){const $=u.toString();u=this.g[$],u||(u=this.g[$]=[],this.h++);const oe=Se(u,v,T,H);return oe>-1?(v=u[oe],b||(v.fa=!1)):(v=new ce(v,this.src,$,!!T,H),v.fa=b,u.push(v)),v};function Pe(u,v){const b=v.type;if(b in u.g){var T=u.g[b],H=Array.prototype.indexOf.call(T,v,void 0),$;($=H>=0)&&Array.prototype.splice.call(T,H,1),$&&(be(v),u.g[b].length==0&&(delete u.g[b],u.h--))}}function Se(u,v,b,T){for(let H=0;H<u.length;++H){const $=u[H];if(!$.da&&$.listener==v&&$.capture==!!b&&$.ha==T)return H}return-1}var Qt="closure_lm_"+(Math.random()*1e6|0),Je={};function rr(u,v,b,T,H){if(Array.isArray(v)){for(let $=0;$<v.length;$++)rr(u,v[$],b,T,H);return null}return b=pu(b),u&&u[ht]?u.J(v,b,p(T)?!!T.capture:!1,H):hl(u,v,b,!1,T,H)}function hl(u,v,b,T,H,$){if(!v)throw Error("Invalid event type");const oe=p(H)?!!H.capture:!!H;let Ne=dl(u);if(Ne||(u[Qt]=Ne=new ye(u)),b=Ne.add(v,b,T,oe,$),b.proxy)return b;if(T=Ba(),b.proxy=T,T.src=u,T.listener=b,u.addEventListener)L||(H=oe),H===void 0&&(H=!1),u.addEventListener(v.toString(),T,H);else if(u.attachEvent)u.attachEvent(Ha(v.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Ba(){function u(b){return v.call(u.src,u.listener,b)}const v=pf;return u}function za(u,v,b,T,H){if(Array.isArray(v))for(var $=0;$<v.length;$++)za(u,v[$],b,T,H);else T=p(T)?!!T.capture:!!T,b=pu(b),u&&u[ht]?(u=u.i,$=String(v).toString(),$ in u.g&&(v=u.g[$],b=Se(v,b,T,H),b>-1&&(be(v[b]),Array.prototype.splice.call(v,b,1),v.length==0&&(delete u.g[$],u.h--)))):u&&(u=dl(u))&&(v=u.g[v.toString()],u=-1,v&&(u=Se(v,b,T,H)),(b=u>-1?v[u]:null)&&Vs(b))}function Vs(u){if(typeof u!="number"&&u&&!u.da){var v=u.src;if(v&&v[ht])Pe(v.i,u);else{var b=u.type,T=u.proxy;v.removeEventListener?v.removeEventListener(b,T,u.capture):v.detachEvent?v.detachEvent(Ha(b),T):v.addListener&&v.removeListener&&v.removeListener(T),(b=dl(v))?(Pe(b,u),b.h==0&&(b.src=null,v[Qt]=null)):be(u)}}}function Ha(u){return u in Je?Je[u]:Je[u]="on"+u}function pf(u,v){if(u.da)u=!0;else{v=new yt(v,this);const b=u.listener,T=u.ha||u.src;u.fa&&Vs(u),u=b.call(T,v)}return u}function dl(u){return u=u[Qt],u instanceof ye?u:null}var bn="__closure_events_fn_"+(Math.random()*1e9>>>0);function pu(u){return typeof u=="function"?u:(u[bn]||(u[bn]=function(v){return u.handleEvent(v)}),u[bn])}function Pt(){M.call(this),this.i=new ye(this),this.M=this,this.G=null}x(Pt,M),Pt.prototype[ht]=!0,Pt.prototype.removeEventListener=function(u,v,b,T){za(this,u,v,b,T)};function zt(u,v){var b,T=u.G;if(T)for(b=[];T;T=T.G)b.push(T);if(u=u.M,T=v.type||v,typeof v=="string")v=new j(v,u);else if(v instanceof j)v.target=v.target||u;else{var H=v;v=new j(T,u),le(v,H)}H=!0;let $,oe;if(b)for(oe=b.length-1;oe>=0;oe--)$=v.g=b[oe],H=Gr($,T,!0,v)&&H;if($=v.g=u,H=Gr($,T,!0,v)&&H,H=Gr($,T,!1,v)&&H,b)for(oe=0;oe<b.length;oe++)$=v.g=b[oe],H=Gr($,T,!1,v)&&H}Pt.prototype.N=function(){if(Pt.Z.N.call(this),this.i){var u=this.i;for(const v in u.g){const b=u.g[v];for(let T=0;T<b.length;T++)be(b[T]);delete u.g[v],u.h--}}this.G=null},Pt.prototype.J=function(u,v,b,T){return this.i.add(String(u),v,!1,b,T)},Pt.prototype.K=function(u,v,b,T){return this.i.add(String(u),v,!0,b,T)};function Gr(u,v,b,T){if(v=u.i.g[String(v)],!v)return!0;v=v.concat();let H=!0;for(let $=0;$<v.length;++$){const oe=v[$];if(oe&&!oe.da&&oe.capture==b){const Ne=oe.listener,ct=oe.ha||oe.src;oe.fa&&Pe(u.i,oe),H=Ne.call(ct,T)!==!1&&H}}return H&&!T.defaultPrevented}function gf(u,v){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:h.setTimeout(u,v||0)}function fl(u){u.g=gf(()=>{u.g=null,u.i&&(u.i=!1,fl(u))},u.l);const v=u.h;u.h=null,u.m.apply(null,v)}class yf extends M{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:fl(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ls(u){M.call(this),this.h=u,this.g={}}x(Ls,M);var ji=[];function rn(u){He(u.g,function(v,b){this.g.hasOwnProperty(b)&&Vs(v)},u),u.g={}}Ls.prototype.N=function(){Ls.Z.N.call(this),rn(this)},Ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zn=h.JSON.stringify,fn=h.JSON.parse,vf=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function gu(){}function yu(){}var vr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Oi(){j.call(this,"d")}x(Oi,j);function ir(){j.call(this,"c")}x(ir,j);var Hn={},Mi=null;function qa(){return Mi=Mi||new Pt}Hn.Ia="serverreachability";function ml(u){j.call(this,Hn.Ia,u)}x(ml,j);function Pi(u){const v=qa();zt(v,new ml(v))}Hn.STAT_EVENT="statevent";function Fa(u,v){j.call(this,Hn.STAT_EVENT,u),this.stat=v}x(Fa,j);function _t(u){const v=qa();zt(v,new Fa(v,u))}Hn.Ja="timingevent";function vu(u,v){j.call(this,Hn.Ja,u),this.size=v}x(vu,j);function Vi(u,v){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},v)}function Li(){this.g=!0}Li.prototype.ua=function(){this.g=!1};function pl(u,v,b,T,H,$){u.info(function(){if(u.g)if($){var oe="",Ne=$.split("&");for(let Qe=0;Qe<Ne.length;Qe++){var ct=Ne[Qe].split("=");if(ct.length>1){const Tt=ct[0];ct=ct[1];const Rn=Tt.split("_");oe=Rn.length>=2&&Rn[1]=="type"?oe+(Tt+"="+ct+"&"):oe+(Tt+"=redacted&")}}}else oe=null;else oe=$;return"XMLHTTP REQ ("+T+") [attempt "+H+"]: "+v+`
`+b+`
`+oe})}function gl(u,v,b,T,H,$,oe){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+H+"]: "+v+`
`+b+`
`+$+" "+oe})}function $r(u,v,b,T){u.info(function(){return"XMLHTTP TEXT ("+v+"): "+wr(u,b)+(T?" "+T:"")})}function wf(u,v){u.info(function(){return"TIMEOUT: "+v})}Li.prototype.info=function(){};function wr(u,v){if(!u.g)return v;if(!v)return null;try{const $=JSON.parse(v);if($){for(u=0;u<$.length;u++)if(Array.isArray($[u])){var b=$[u];if(!(b.length<2)){var T=b[1];if(Array.isArray(T)&&!(T.length<1)){var H=T[0];if(H!="noop"&&H!="stop"&&H!="close")for(let oe=1;oe<T.length;oe++)T[oe]=""}}}}return zn($)}catch{return v}}var Et={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Xt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Yr;function Us(){}x(Us,gu),Us.prototype.g=function(){return new XMLHttpRequest},Yr=new Us;function Bs(u){return encodeURIComponent(String(u))}function bf(u){var v=1;u=u.split(":");const b=[];for(;v>0&&u.length;)b.push(u.shift()),v--;return u.length&&b.push(u.join(":")),b}function sr(u,v,b,T){this.j=u,this.i=v,this.l=b,this.S=T||1,this.V=new Ls(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ui}function Ui(){this.i=null,this.g="",this.h=!1}var Ga={},br={};function _r(u,v,b){u.M=1,u.A=Qr(ft(v)),u.u=b,u.R=!0,Bi(u,null)}function Bi(u,v){u.F=Date.now(),zs(u),u.B=ft(u.A);var b=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Eu(b.i,"t",T),u.C=0,b=u.j.L,u.h=new Ui,u.g=to(u.j,b?v:null,!u.u),u.P>0&&(u.O=new yf(y(u.Y,u,u.g),u.P)),v=u.V,b=u.g,T=u.ba;var H="readystatechange";Array.isArray(H)||(H&&(ji[0]=H.toString()),H=ji);for(let $=0;$<H.length;$++){const oe=rr(b,H[$],T||v.handleEvent,!1,v.h||v);if(!oe)break;v.g[oe.key]=oe}v=u.J?re(u.J):{},u.u?(u.v||(u.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,v)):(u.v="GET",u.g.ea(u.B,u.v,null,v)),Pi(),pl(u.i,u.v,u.B,u.l,u.S,u.u)}sr.prototype.ba=function(u){u=u.target;const v=this.O;v&&sn(u)==3?v.j():this.Y(u)},sr.prototype.Y=function(u){try{if(u==this.g)e:{const Ne=sn(this.g),ct=this.g.ya(),Qe=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||Zs(this.g)))){this.K||Ne!=4||ct==7||(ct==8||Qe<=0?Pi(3):Pi(2)),xr(this);var v=this.g.ca();this.X=v;var b=zi(this);if(this.o=v==200,gl(this.i,this.v,this.B,this.l,this.S,Ne,v),this.o){if(this.U&&!this.L){t:{if(this.g){var T,H=this.g;if((T=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(T)){var $=T;break t}}$=null}if(u=$)$r(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,$a(this,u);else{this.o=!1,this.m=3,_t(12),Tr(this),Hs(this);break e}}if(this.R){u=!0;let Tt;for(;!this.K&&this.C<b.length;)if(Tt=wu(this,b),Tt==br){Ne==4&&(this.m=4,_t(14),u=!1),$r(this.i,this.l,null,"[Incomplete Response]");break}else if(Tt==Ga){this.m=4,_t(15),$r(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else $r(this.i,this.l,Tt,null),$a(this,Tt);if(xt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||b.length!=0||this.h.h||(this.m=1,_t(16),u=!1),this.o=this.o&&u,!u)$r(this.i,this.l,b,"[Invalid Chunked Response]"),Tr(this),Hs(this);else if(b.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Sl(oe),oe.P=!0,_t(11))}}else $r(this.i,this.l,b,null),$a(this,b);Ne==4&&Tr(this),this.o&&!this.K&&(Ne==4?Cl(this.j,this):(this.o=!1,zs(this)))}else Js(this.g),v==400&&b.indexOf("Unknown SID")>0?(this.m=3,_t(12)):(this.m=0,_t(13)),Tr(this),Hs(this)}}}catch{}finally{}};function zi(u){if(!xt(u))return u.g.la();const v=Zs(u.g);if(v==="")return"";let b="";const T=v.length,H=sn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Tr(u),Hs(u),"";u.h.i=new h.TextDecoder}for(let $=0;$<T;$++)u.h.h=!0,b+=u.h.i.decode(v[$],{stream:!(H&&$==T-1)});return v.length=0,u.h.g+=b,u.C=0,u.h.g}function xt(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function wu(u,v){var b=u.C,T=v.indexOf(`
`,b);return T==-1?br:(b=Number(v.substring(b,T)),isNaN(b)?Ga:(T+=1,T+b>v.length?br:(v=v.slice(T,T+b),u.C=T+b,v)))}sr.prototype.cancel=function(){this.K=!0,Tr(this)};function zs(u){u.T=Date.now()+u.H,Er(u,u.H)}function Er(u,v){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Vi(y(u.aa,u),v)}function xr(u){u.D&&(h.clearTimeout(u.D),u.D=null)}sr.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(wf(this.i,this.B),this.M!=2&&(Pi(),_t(17)),Tr(this),this.m=2,Hs(this)):Er(this,this.T-u)};function Hs(u){u.j.I==0||u.K||Cl(u.j,u)}function Tr(u){xr(u);var v=u.O;v&&typeof v.dispose=="function"&&v.dispose(),u.O=null,rn(u.V),u.g&&(v=u.g,u.g=null,v.abort(),v.dispose())}function $a(u,v){try{var b=u.j;if(b.I!=0&&(b.g==u||Gs(b.h,u))){if(!u.L&&Gs(b.h,u)&&b.I==3){try{var T=b.Ba.g.parse(v)}catch{T=null}if(Array.isArray(T)&&T.length==3){var H=T;if(H[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<u.F)eo(b),Ar(b);else break e;Al(b),_t(18)}}else b.xa=H[1],0<b.xa-b.K&&H[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Vi(y(b.Va,b),6e3));qn(b.h)<=1&&b.ta&&(b.ta=void 0)}else Zr(b,11)}else if((u.L||b.g==u)&&eo(b),!N(v))for(H=b.Ba.g.parse(v),v=0;v<H.length;v++){let Qe=H[v];const Tt=Qe[0];if(!(Tt<=b.K))if(b.K=Tt,Qe=Qe[1],b.I==2)if(Qe[0]=="c"){b.M=Qe[1],b.ba=Qe[2];const Rn=Qe[3];Rn!=null&&(b.ka=Rn,b.j.info("VER="+b.ka));const Sr=Qe[4];Sr!=null&&(b.za=Sr,b.j.info("SVER="+b.za));const lr=Qe[5];lr!=null&&typeof lr=="number"&&lr>0&&(T=1.5*lr,b.O=T,b.j.info("backChannelRequestTimeoutMs_="+T)),T=b;const cr=u.g;if(cr){const ur=cr.g?cr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ur){var $=T.h;$.g||ur.indexOf("spdy")==-1&&ur.indexOf("quic")==-1&&ur.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Ya($,$.h),$.h=null))}if(T.G){const Nl=cr.g?cr.g.getResponseHeader("X-HTTP-Session-Id"):null;Nl&&(T.wa=Nl,et(T.J,T.G,Nl))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-u.F,b.j.info("Handshake RTT: "+b.T+"ms")),T=b;var oe=u;if(T.na=ku(T,T.L?T.ba:null,T.W),oe.L){Kr(T.h,oe);var Ne=oe,ct=T.O;ct&&(Ne.H=ct),Ne.D&&(xr(Ne),zs(Ne)),T.g=oe}else Cu(T);b.i.length>0&&ra(b)}else Qe[0]!="stop"&&Qe[0]!="close"||Zr(b,7);else b.I==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?Zr(b,7):ta(b):Qe[0]!="noop"&&b.l&&b.l.qa(Qe),b.A=0)}}Pi(4)}catch{}}var _f=class{constructor(u,v){this.g=u,this.map=v}};function qs(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Fs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function qn(u){return u.h?1:u.g?u.g.size:0}function Gs(u,v){return u.h?u.h==v:u.g?u.g.has(v):!1}function Ya(u,v){u.g?u.g.add(v):u.h=v}function Kr(u,v){u.h&&u.h==v?u.h=null:u.g&&u.g.has(v)&&u.g.delete(v)}qs.prototype.cancel=function(){if(this.i=Ka(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ka(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let v=u.i;for(const b of u.g.values())v=v.concat(b.G);return v}return I(u.i)}var Qa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ef(u,v){if(u){u=u.split("&");for(let b=0;b<u.length;b++){const T=u[b].indexOf("=");let H,$=null;T>=0?(H=u[b].substring(0,T),$=u[b].substring(T+1)):H=u[b],v(H,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function ar(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;u instanceof ar?(this.l=u.l,Hi(this,u.j),this.o=u.o,this.g=u.g,$s(this,u.u),this.h=u.h,qi(this,xu(u.i)),this.m=u.m):u&&(v=String(u).match(Qa))?(this.l=!1,Hi(this,v[1]||"",!0),this.o=Ys(v[2]||""),this.g=Ys(v[3]||"",!0),$s(this,v[4]),this.h=Ys(v[5]||"",!0),qi(this,v[6]||"",!0),this.m=Ys(v[7]||"")):(this.l=!1,this.i=new Fn(null,this.l))}ar.prototype.toString=function(){const u=[];var v=this.j;v&&u.push(Ht(v,vl,!0),":");var b=this.g;return(b||v=="file")&&(u.push("//"),(v=this.o)&&u.push(Ht(v,vl,!0),"@"),u.push(Bs(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&u.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(Ht(b,b.charAt(0)=="/"?Fi:wl,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",Ht(b,_u)),u.join("")},ar.prototype.resolve=function(u){const v=ft(this);let b=!!u.j;b?Hi(v,u.j):b=!!u.o,b?v.o=u.o:b=!!u.g,b?v.g=u.g:b=u.u!=null;var T=u.h;if(b)$s(v,u.u);else if(b=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var H=v.h.lastIndexOf("/");H!=-1&&(T=v.h.slice(0,H+1)+T)}if(H=T,H==".."||H==".")T="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){T=H.lastIndexOf("/",0)==0,H=H.split("/");const $=[];for(let oe=0;oe<H.length;){const Ne=H[oe++];Ne=="."?T&&oe==H.length&&$.push(""):Ne==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),T&&oe==H.length&&$.push("")):($.push(Ne),T=!0)}T=$.join("/")}else T=H}return b?v.h=T:b=u.i.toString()!=="",b?qi(v,xu(u.i)):b=!!u.m,b&&(v.m=u.m),v};function ft(u){return new ar(u)}function Hi(u,v,b){u.j=b?Ys(v,!0):v,u.j&&(u.j=u.j.replace(/:$/,""))}function $s(u,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);u.u=v}else u.u=null}function qi(u,v,b){v instanceof Fn?(u.i=v,El(u.i,u.l)):(b||(v=Ht(v,bu)),u.i=new Fn(v,u.l))}function et(u,v,b){u.i.set(v,b)}function Qr(u){return et(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ys(u,v){return u?v?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ht(u,v,b){return typeof u=="string"?(u=encodeURI(u).replace(v,yl),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function yl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var vl=/[#\/\?@]/g,wl=/[#\?:]/g,Fi=/[#\?]/g,bu=/[#\?@]/g,_u=/#/g;function Fn(u,v){this.h=this.g=null,this.i=u||null,this.j=!!v}function Xr(u){u.g||(u.g=new Map,u.h=0,u.i&&Ef(u.i,function(v,b){u.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}n=Fn.prototype,n.add=function(u,v){Xr(this),this.i=null,u=or(this,u);let b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(v),this.h+=1,this};function bl(u,v){Xr(u),v=or(u,v),u.g.has(v)&&(u.i=null,u.h-=u.g.get(v).length,u.g.delete(v))}function _l(u,v){return Xr(u),v=or(u,v),u.g.has(v)}n.forEach=function(u,v){Xr(this),this.g.forEach(function(b,T){b.forEach(function(H){u.call(v,H,T,this)},this)},this)};function Xa(u,v){Xr(u);let b=[];if(typeof v=="string")_l(u,v)&&(b=b.concat(u.g.get(or(u,v))));else for(u=Array.from(u.g.values()),v=0;v<u.length;v++)b=b.concat(u[v]);return b}n.set=function(u,v){return Xr(this),this.i=null,u=or(this,u),_l(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[v]),this.h+=1,this},n.get=function(u,v){return u?(u=Xa(this,u),u.length>0?String(u[0]):v):v};function Eu(u,v,b){bl(u,v),b.length>0&&(u.i=null,u.g.set(or(u,v),I(b)),u.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],v=Array.from(this.g.keys());for(let T=0;T<v.length;T++){var b=v[T];const H=Bs(b);b=Xa(this,b);for(let $=0;$<b.length;$++){let oe=H;b[$]!==""&&(oe+="="+Bs(b[$])),u.push(oe)}}return this.i=u.join("&")};function xu(u){const v=new Fn;return v.i=u.i,u.g&&(v.g=new Map(u.g),v.h=u.h),v}function or(u,v){return v=String(v),u.j&&(v=v.toLowerCase()),v}function El(u,v){v&&!u.j&&(Xr(u),u.i=null,u.g.forEach(function(b,T){const H=T.toLowerCase();T!=H&&(bl(this,T),Eu(this,H,b))},u)),u.j=v}function xl(u,v){const b=new Li;if(h.Image){const T=new Image;T.onload=w(mn,b,"TestLoadImage: loaded",!0,v,T),T.onerror=w(mn,b,"TestLoadImage: error",!1,v,T),T.onabort=w(mn,b,"TestLoadImage: abort",!1,v,T),T.ontimeout=w(mn,b,"TestLoadImage: timeout",!1,v,T),h.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else v(!1)}function Gi(u,v){const b=new Li,T=new AbortController,H=setTimeout(()=>{T.abort(),mn(b,"TestPingServer: timeout",!1,v)},1e4);fetch(u,{signal:T.signal}).then($=>{clearTimeout(H),$.ok?mn(b,"TestPingServer: ok",!0,v):mn(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),mn(b,"TestPingServer: error",!1,v)})}function mn(u,v,b,T,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),T(b)}catch{}}function Tu(){this.g=new vf}function Ks(u){this.i=u.Sb||null,this.h=u.ab||!1}x(Ks,gu),Ks.prototype.g=function(){return new Qs(this.i,this.h)};function Qs(u,v){Pt.call(this),this.H=u,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(Qs,Pt),n=Qs.prototype,n.open=function(u,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=v,this.readyState=1,Wr(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(v.body=u),(this.H||h).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,pn(this)),this.readyState=0},n.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Wr(this)),this.g&&(this.readyState=3,Wr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;$i(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function $i(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}n.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var v=u.value?u.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!u.done}))&&(this.response=this.responseText+=v)}u.done?pn(this):Wr(this),this.readyState==3&&$i(this)}},n.Oa=function(u){this.g&&(this.response=this.responseText=u,pn(this))},n.Na=function(u){this.g&&(this.response=u,pn(this))},n.ga=function(){this.g&&pn(this)};function pn(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Wr(u)}n.setRequestHeader=function(u,v){this.A.append(u,v)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=v.next();return u.join(`\r
`)};function Wr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Qs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Yi(u){let v="";return He(u,function(b,T){v+=T,v+=":",v+=b,v+=`\r
`}),v}function Gn(u,v,b){e:{for(T in b){var T=!1;break e}T=!0}T||(b=Yi(b),typeof u=="string"?b!=null&&Bs(b):et(u,v,b))}function st(u){Pt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(st,Pt);var Wa=/^https?$/i,Au=["POST","PUT"];n=st.prototype,n.Fa=function(u){this.H=u},n.ea=function(u,v,b,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);v=v?v.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Yr.g(),this.g.onreadystatechange=A(y(this.Ca,this));try{this.B=!0,this.g.open(v,String(u),!0),this.B=!1}catch($){Xs(this,$);return}if(u=b||"",b=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var H in T)b.set(H,T[H]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const $ of T.keys())b.set($,T.get($));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(b.keys()).find($=>$.toLowerCase()=="content-type"),H=h.FormData&&u instanceof h.FormData,!(Array.prototype.indexOf.call(Au,v,void 0)>=0)||T||H||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,oe]of b)this.g.setRequestHeader($,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch($){Xs(this,$)}};function Xs(u,v){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=v,u.o=5,Ws(u),Vt(u)}function Ws(u){u.A||(u.A=!0,zt(u,"complete"),zt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,zt(this,"complete"),zt(this,"abort"),Vt(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vt(this,!0)),st.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Tl(this):this.Xa())},n.Xa=function(){Tl(this)};function Tl(u){if(u.h&&typeof c<"u"){if(u.v&&sn(u)==4)setTimeout(u.Ca.bind(u),0);else if(zt(u,"readystatechange"),sn(u)==4){u.h=!1;try{const $=u.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var T;if(T=$===0){let oe=String(u.D).match(Qa)[1]||null;!oe&&h.self&&h.self.location&&(oe=h.self.location.protocol.slice(0,-1)),T=!Wa.test(oe?oe.toLowerCase():"")}b=T}if(b)zt(u,"complete"),zt(u,"success");else{u.o=6;try{var H=sn(u)>2?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.ca()+"]",Ws(u)}}finally{Vt(u)}}}}function Vt(u,v){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const b=u.g;u.g=null,v||zt(u,"ready");try{b.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function sn(u){return u.g?u.g.readyState:0}n.ca=function(){try{return sn(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(u){if(this.g){var v=this.g.responseText;return u&&v.indexOf(u)==0&&(v=v.substring(u.length)),fn(v)}};function Zs(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Js(u){const v={};u=(u.g&&sn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(N(u[T]))continue;var b=bf(u[T]);const H=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const $=v[H]||[];v[H]=$,$.push(b)}D(v,function(T){return T.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ea(u,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||v}function Za(u){this.za=0,this.i=[],this.j=new Li,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ea("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ea("baseRetryDelayMs",5e3,u),this.Za=ea("retryDelaySeedMs",1e4,u),this.Ta=ea("forwardChannelMaxRetries",2,u),this.va=ea("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new qs(u&&u.concurrentRequestLimit),this.Ba=new Tu,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Za.prototype,n.ka=8,n.I=1,n.connect=function(u,v,b,T){_t(0),this.W=u,this.H=v||{},b&&T!==void 0&&(this.H.OSID=b,this.H.OAID=T),this.F=this.X,this.J=ku(this,null,this.W),ra(this)};function ta(u){if(na(u),u.I==3){var v=u.V++,b=ft(u.J);if(et(b,"SID",u.M),et(b,"RID",v),et(b,"TYPE","terminate"),ia(u,b),v=new sr(u,u.j,v),v.M=2,v.A=Qr(ft(b)),b=!1,h.navigator&&h.navigator.sendBeacon)try{b=h.navigator.sendBeacon(v.A.toString(),"")}catch{}!b&&h.Image&&(new Image().src=v.A,b=!0),b||(v.g=to(v.j,null),v.g.ea(v.A)),v.F=Date.now(),zs(v)}Iu(u)}function Ar(u){u.g&&(Sl(u),u.g.cancel(),u.g=null)}function na(u){Ar(u),u.v&&(h.clearTimeout(u.v),u.v=null),eo(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&h.clearTimeout(u.m),u.m=null)}function ra(u){if(!Fs(u.h)&&!u.m){u.m=!0;var v=u.Ea;ae||S(),ge||(ae(),ge=!0),k.add(v,u),u.D=0}}function xf(u,v){return qn(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=v.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Vi(y(u.Ea,u,v),Nu(u,u.D)),u.D++,!0)}n.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const H=new sr(this,this.j,u);let $=this.o;if(this.U&&($?($=re($),le($,this.U)):$=this.U),this.u!==null||this.R||(H.J=$,$=null),this.S)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var T=this.i[b];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(v+=T,v>4096){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=Ja(this,H,v),b=ft(this.J),et(b,"RID",u),et(b,"CVER",22),this.G&&et(b,"X-HTTP-Session-Id",this.G),ia(this,b),$&&(this.R?v="headers="+Bs(Yi($))+"&"+v:this.u&&Gn(b,this.u,$)),Ya(this.h,H),this.Ra&&et(b,"TYPE","init"),this.S?(et(b,"$req",v),et(b,"SID","null"),H.U=!0,_r(H,b,null)):_r(H,b,v),this.I=2}}else this.I==3&&(u?Su(this,u):this.i.length==0||Fs(this.h)||Su(this))};function Su(u,v){var b;v?b=v.l:b=u.V++;const T=ft(u.J);et(T,"SID",u.M),et(T,"RID",b),et(T,"AID",u.K),ia(u,T),u.u&&u.o&&Gn(T,u.u,u.o),b=new sr(u,u.j,b,u.D+1),u.u===null&&(b.J=u.o),v&&(u.i=v.G.concat(u.i)),v=Ja(u,b,1e3),b.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ya(u.h,b),_r(b,T,v)}function ia(u,v){u.H&&He(u.H,function(b,T){et(v,T,b)}),u.l&&He({},function(b,T){et(v,T,b)})}function Ja(u,v,b){b=Math.min(u.i.length,b);const T=u.l?y(u.l.Ka,u.l,u):null;e:{var H=u.i;let Ne=-1;for(;;){const ct=["count="+b];Ne==-1?b>0?(Ne=H[0].g,ct.push("ofs="+Ne)):Ne=0:ct.push("ofs="+Ne);let Qe=!0;for(let Tt=0;Tt<b;Tt++){var $=H[Tt].g;const Rn=H[Tt].map;if($-=Ne,$<0)Ne=Math.max(0,H[Tt].g-100),Qe=!1;else try{$="req"+$+"_"||"";try{var oe=Rn instanceof Map?Rn:Object.entries(Rn);for(const[Sr,lr]of oe){let cr=lr;p(lr)&&(cr=zn(lr)),ct.push($+Sr+"="+encodeURIComponent(cr))}}catch(Sr){throw ct.push($+"type="+encodeURIComponent("_badmap")),Sr}}catch{T&&T(Rn)}}if(Qe){oe=ct.join("&");break e}}oe=void 0}return u=u.i.splice(0,b),v.G=u,oe}function Cu(u){if(!u.g&&!u.v){u.Y=1;var v=u.Da;ae||S(),ge||(ae(),ge=!0),k.add(v,u),u.A=0}}function Al(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Vi(y(u.Da,u),Nu(u,u.A)),u.A++,!0)}n.Da=function(){if(this.v=null,Ru(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Vi(y(this.Wa,this),u)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_t(10),Ar(this),Ru(this))};function Sl(u){u.B!=null&&(h.clearTimeout(u.B),u.B=null)}function Ru(u){u.g=new sr(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var v=ft(u.na);et(v,"RID","rpc"),et(v,"SID",u.M),et(v,"AID",u.K),et(v,"CI",u.F?"0":"1"),!u.F&&u.ia&&et(v,"TO",u.ia),et(v,"TYPE","xmlhttp"),ia(u,v),u.u&&u.o&&Gn(v,u.u,u.o),u.O&&(u.g.H=u.O);var b=u.g;u=u.ba,b.M=1,b.A=Qr(ft(v)),b.u=null,b.R=!0,Bi(b,u)}n.Va=function(){this.C!=null&&(this.C=null,Ar(this),Al(this),_t(19))};function eo(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function Cl(u,v){var b=null;if(u.g==v){eo(u),Sl(u),u.g=null;var T=2}else if(Gs(u.h,v))b=v.G,Kr(u.h,v),T=1;else return;if(u.I!=0){if(v.o)if(T==1){b=v.u?v.u.length:0,v=Date.now()-v.F;var H=u.D;T=qa(),zt(T,new vu(T,b)),ra(u)}else Cu(u);else if(H=v.m,H==3||H==0&&v.X>0||!(T==1&&xf(u,v)||T==2&&Al(u)))switch(b&&b.length>0&&(v=u.h,v.i=v.i.concat(b)),H){case 1:Zr(u,5);break;case 4:Zr(u,10);break;case 3:Zr(u,6);break;default:Zr(u,2)}}}function Nu(u,v){let b=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(b*=2),b*v}function Zr(u,v){if(u.j.info("Error code "+v),v==2){var b=y(u.bb,u),T=u.Ua;const H=!T;T=new ar(T||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Hi(T,"https"),Qr(T),H?xl(T.toString(),b):Gi(T.toString(),b)}else _t(2);u.I=0,u.l&&u.l.pa(v),Iu(u),na(u)}n.bb=function(u){u?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function Iu(u){if(u.I=0,u.ja=[],u.l){const v=Ka(u.h);(v.length!=0||u.i.length!=0)&&(B(u.ja,v),B(u.ja,u.i),u.h.i.length=0,I(u.i),u.i.length=0),u.l.oa()}}function ku(u,v,b){var T=b instanceof ar?ft(b):new ar(b);if(T.g!="")v&&(T.g=v+"."+T.g),$s(T,T.u);else{var H=h.location;T=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;const $=new ar(null);T&&Hi($,T),v&&($.g=v),H&&$s($,H),b&&($.h=b),T=$}return b=u.G,v=u.wa,b&&v&&et(T,b,v),et(T,"VER",u.ka),ia(u,T),T}function to(u,v,b){if(v&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=u.Aa&&!u.ma?new st(new Ks({ab:b})):new st(u.ma),v.Fa(u.L),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Du(){}n=Du.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function no(){}no.prototype.g=function(u,v){return new gn(u,v)};function gn(u,v){Pt.call(this),this.g=new Za(v),this.l=u,this.h=v&&v.messageUrlParams||null,u=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(u?u["X-WebChannel-Content-Type"]=v.messageContentType:u={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(u?u["X-WebChannel-Client-Profile"]=v.sa:u={"X-WebChannel-Client-Profile":v.sa}),this.g.U=u,(u=v&&v.Qb)&&!N(u)&&(this.g.u=u),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!N(v)&&(this.g.G=v,u=this.h,u!==null&&v in u&&(u=this.h,v in u&&delete u[v])),this.j=new Ki(this)}x(gn,Pt),gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){ta(this.g)},gn.prototype.o=function(u){var v=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.v&&(b={},b.__data__=zn(u),u=b);v.i.push(new _f(v.Ya++,u)),v.I==3&&ra(v)},gn.prototype.N=function(){this.g.l=null,delete this.j,ta(this.g),delete this.g,gn.Z.N.call(this)};function Rl(u){Oi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var v=u.__sm__;if(v){e:{for(const b in v){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,v=v!==null&&u in v?v[u]:void 0),this.data=v}else this.data=u}x(Rl,Oi);function ju(){ir.call(this),this.status=1}x(ju,ir);function Ki(u){this.g=u}x(Ki,Du),Ki.prototype.ra=function(){zt(this.g,"a")},Ki.prototype.qa=function(u){zt(this.g,new Rl(u))},Ki.prototype.pa=function(u){zt(this.g,new ju)},Ki.prototype.oa=function(){zt(this.g,"b")},no.prototype.createWebChannel=no.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,c_=function(){return new no},l_=function(){return qa()},o_=Hn,Gp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Et.NO_ERROR=0,Et.TIMEOUT=8,Et.HTTP_ERROR=6,$h=Et,Xt.COMPLETE="complete",a_=Xt,yu.EventType=vr,vr.OPEN="a",vr.CLOSE="b",vr.ERROR="c",vr.MESSAGE="d",Pt.prototype.listen=Pt.prototype.J,Ec=yu,st.prototype.listenOnce=st.prototype.K,st.prototype.getLastError=st.prototype.Ha,st.prototype.getLastErrorCode=st.prototype.ya,st.prototype.getStatus=st.prototype.ca,st.prototype.getResponseJson=st.prototype.La,st.prototype.getResponseText=st.prototype.la,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Fa,s_=st}).apply(typeof Mh<"u"?Mh:typeof self<"u"?self:typeof window<"u"?window:{});const Bw="@firebase/firestore",zw="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let el="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka=new vg("@firebase/firestore");function Do(){return ka.logLevel}function de(n,...e){if(ka.logLevel<=Ve.DEBUG){const t=e.map(Dg);ka.debug(`Firestore (${el}): ${n}`,...t)}}function Ai(n,...e){if(ka.logLevel<=Ve.ERROR){const t=e.map(Dg);ka.error(`Firestore (${el}): ${n}`,...t)}}function qo(n,...e){if(ka.logLevel<=Ve.WARN){const t=e.map(Dg);ka.warn(`Firestore (${el}): ${n}`,...t)}}function Dg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,u_(n,s,t)}function u_(n,e,t){let s=`FIRESTORE (${el}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Ai(s),new Error(s)}function Ke(n,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,n||u_(e,o,s)}function Ie(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Ni{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(cn.UNAUTHENTICATED)))}shutdown(){}}class zC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class HC{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ke(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,t(g)):Promise.resolve();let c=new vi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new vi,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new vi)}}),0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string",31837,{l:s}),new h_(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new cn(e)}}class qC{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class FC{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new qC(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Hw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GC{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ke(this.o===void 0,3512);const s=c=>{c.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.m;return this.m=c.token,de("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Hw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ke(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Hw(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=$C(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<t&&(s+=e.charAt(o[c]%62))}return s}}function Le(n,e){return n<e?-1:n>e?1:0}function $p(n,e){const t=Math.min(n.length,e.length);for(let s=0;s<t;s++){const o=n.charAt(s),c=e.charAt(s);if(o!==c)return Cp(o)===Cp(c)?Le(o,c):Cp(o)?1:-1}return Le(n.length,e.length)}const YC=55296,KC=57343;function Cp(n){const e=n.charCodeAt(0);return e>=YC&&e<=KC}function Fo(n,e,t){return n.length===e.length&&n.every(((s,o)=>t(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw="__name__";class Dr{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ae(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ae(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Dr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Dr?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const c=Dr.compareSegments(e.get(o),t.get(o));if(c!==0)return c}return Le(e.length,t.length)}static compareSegments(e,t){const s=Dr.isNumericId(e),o=Dr.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Dr.extractNumericId(e).compare(Dr.extractNumericId(t)):$p(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ts.fromString(e.substring(4,e.length-2))}}class ot extends Dr{construct(e,t,s){return new ot(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new ot(t)}static emptyPath(){return new ot([])}}const QC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Dr{construct(e,t,s){return new tn(e,t,s)}static isValidIdentifier(e){return QC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qw}static keyField(){return new tn([qw])}static fromServerFormat(e){const t=[];let s="",o=0;const c=()=>{if(s.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ue(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ue(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else p==="`"?(h=!h,o++):p!=="."||h?(s+=p,o++):(c(),o++)}if(c(),h)throw new ue(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(t)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(ot.fromString(e))}static fromName(e){return new we(ot.fromString(e).popFirst(5))}static empty(){return new we(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ot.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new ot(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d_(n,e,t){if(!t)throw new ue(J.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function XC(n,e,t,s){if(e===!0&&s===!0)throw new ue(J.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Fw(n){if(!we.isDocumentKey(n))throw new ue(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Gw(n){if(we.isDocumentKey(n))throw new ue(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function f_(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Vd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ae(12329,{type:typeof n})}function Sn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ue(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Vd(n);throw new ue(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(n,e){const t={typeString:n};return e&&(t.value=e),t}function eu(n,e){if(!f_(n))throw new ue(J.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){t=`JSON missing required field: '${s}'`;break}const h=n[s];if(o&&typeof h!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&h!==c.value){t=`Expected '${s}' field to equal '${c.value}'`;break}}if(t)throw new ue(J.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w=-62135596800,Yw=1e6;class ut{static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*Yw);return new ut(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<$w)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Yw}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ut._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(eu(e,ut._jsonSchema))return new ut(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-$w;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ut._jsonSchemaVersion="firestore/timestamp/1.0",ut._jsonSchema={type:Ot("string",ut._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new ut(0,0))}static max(){return new Re(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc=-1;function WC(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(s===1e9?new ut(t+1,0):new ut(t,s));return new Cs(o,we.empty(),e)}function ZC(n){return new Cs(n.readTime,n.key,Bc)}class Cs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Cs(Re.min(),we.empty(),Bc)}static max(){return new Cs(Re.max(),we.empty(),Bc)}}function JC(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=we.comparator(n.documentKey,e.documentKey),t!==0?t:Le(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tl(n){if(n.code!==J.FAILED_PRECONDITION||n.message!==eR)throw n;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ne.reject(t)}static resolve(e){return new ne(((t,s)=>{t(e)}))}static reject(e){return new ne(((t,s)=>{s(e)}))}static waitFor(e){return new ne(((t,s)=>{let o=0,c=0,h=!1;e.forEach((p=>{++o,p.next((()=>{++c,h&&c===o&&t()}),(g=>s(g)))})),h=!0,c===o&&t()}))}static or(e){let t=ne.resolve(!1);for(const s of e)t=t.next((o=>o?ne.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,c)=>{s.push(t.call(this,o,c))})),this.waitFor(s)}static mapArray(e,t){return new ne(((s,o)=>{const c=e.length,h=new Array(c);let p=0;for(let g=0;g<c;g++){const y=g;t(e[y]).next((w=>{h[y]=w,++p,p===c&&s(h)}),(w=>o(w)))}}))}static doWhile(e,t){return new ne(((s,o)=>{const c=()=>{e()===!0?t().next((()=>{c()}),o):s()};c()}))}}function nR(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function nl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ld.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og=-1;function Ud(n){return n==null}function ld(n){return n===0&&1/n==-1/0}function rR(n){return typeof n=="number"&&Number.isInteger(n)&&!ld(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="";function iR(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Kw(e)),e=sR(n.get(t),e);return Kw(e)}function sR(n,e){let t=e;const s=n.length;for(let o=0;o<s;o++){const c=n.charAt(o);switch(c){case"\0":t+="";break;case m_:t+="";break;default:t+=c}}return t}function Kw(n){return n+m_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Os(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function p_(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,t){this.comparator=e,this.root=t||en.EMPTY}insert(e,t){return new gt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ph(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ph(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ph(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ph(this.root,e,this.comparator,!0)}}class Ph{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,t,s,o,c){this.key=e,this.value=t,this.color=s??en.RED,this.left=o??en.EMPTY,this.right=c??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,c){return new en(e??this.key,t??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,t,s),null):c===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return en.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,t,s,o,c){return this}insert(e,t,s){return new en(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Xw(this.data.getIterator())}getIteratorFrom(e){return new Xw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Bt(this.comparator);return t.data=e,t}}class Xw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new Vn([])}unionWith(e){let t=new Bt(tn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Vn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Fo(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new g_("Invalid base64 string: "+c):c}})(e);return new nn(t)}static fromUint8Array(e){const t=(function(o){let c="";for(let h=0;h<o.length;++h)c+=String.fromCharCode(o[h]);return c})(e);return new nn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const aR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rs(n){if(Ke(!!n,39018),typeof n=="string"){let e=0;const t=aR.exec(n);if(Ke(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Rt(n.seconds),nanos:Rt(n.nanos)}}function Rt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ns(n){return typeof n=="string"?nn.fromBase64String(n):nn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="server_timestamp",v_="__type__",w_="__previous_value__",b_="__local_write_time__";function Mg(n){return(n?.mapValue?.fields||{})[v_]?.stringValue===y_}function Bd(n){const e=n.mapValue.fields[w_];return Mg(e)?Bd(e):e}function zc(n){const e=Rs(n.mapValue.fields[b_].timestampValue);return new ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,t,s,o,c,h,p,g,y,w){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=w}}const cd="(default)";class Hc{constructor(e,t){this.projectId=e,this.database=t||cd}static empty(){return new Hc("","")}get isDefaultDatabase(){return this.database===cd}isEqual(e){return e instanceof Hc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="__type__",lR="__max__",Vh={mapValue:{}},E_="__vector__",ud="value";function Is(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Mg(n)?4:uR(n)?9007199254740991:cR(n)?10:11:Ae(28295,{value:n})}function Br(n,e){if(n===e)return!0;const t=Is(n);if(t!==Is(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return zc(n).isEqual(zc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const h=Rs(o.timestampValue),p=Rs(c.timestampValue);return h.seconds===p.seconds&&h.nanos===p.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,c){return Ns(o.bytesValue).isEqual(Ns(c.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,c){return Rt(o.geoPointValue.latitude)===Rt(c.geoPointValue.latitude)&&Rt(o.geoPointValue.longitude)===Rt(c.geoPointValue.longitude)})(n,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Rt(o.integerValue)===Rt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const h=Rt(o.doubleValue),p=Rt(c.doubleValue);return h===p?ld(h)===ld(p):isNaN(h)&&isNaN(p)}return!1})(n,e);case 9:return Fo(n.arrayValue.values||[],e.arrayValue.values||[],Br);case 10:case 11:return(function(o,c){const h=o.mapValue.fields||{},p=c.mapValue.fields||{};if(Qw(h)!==Qw(p))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(p[g]===void 0||!Br(h[g],p[g])))return!1;return!0})(n,e);default:return Ae(52216,{left:n})}}function qc(n,e){return(n.values||[]).find((t=>Br(t,e)))!==void 0}function Go(n,e){if(n===e)return 0;const t=Is(n),s=Is(e);if(t!==s)return Le(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Le(n.booleanValue,e.booleanValue);case 2:return(function(c,h){const p=Rt(c.integerValue||c.doubleValue),g=Rt(h.integerValue||h.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(n,e);case 3:return Ww(n.timestampValue,e.timestampValue);case 4:return Ww(zc(n),zc(e));case 5:return $p(n.stringValue,e.stringValue);case 6:return(function(c,h){const p=Ns(c),g=Ns(h);return p.compareTo(g)})(n.bytesValue,e.bytesValue);case 7:return(function(c,h){const p=c.split("/"),g=h.split("/");for(let y=0;y<p.length&&y<g.length;y++){const w=Le(p[y],g[y]);if(w!==0)return w}return Le(p.length,g.length)})(n.referenceValue,e.referenceValue);case 8:return(function(c,h){const p=Le(Rt(c.latitude),Rt(h.latitude));return p!==0?p:Le(Rt(c.longitude),Rt(h.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Zw(n.arrayValue,e.arrayValue);case 10:return(function(c,h){const p=c.fields||{},g=h.fields||{},y=p[ud]?.arrayValue,w=g[ud]?.arrayValue,x=Le(y?.values?.length||0,w?.values?.length||0);return x!==0?x:Zw(y,w)})(n.mapValue,e.mapValue);case 11:return(function(c,h){if(c===Vh.mapValue&&h===Vh.mapValue)return 0;if(c===Vh.mapValue)return 1;if(h===Vh.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),y=h.fields||{},w=Object.keys(y);g.sort(),w.sort();for(let x=0;x<g.length&&x<w.length;++x){const A=$p(g[x],w[x]);if(A!==0)return A;const I=Go(p[g[x]],y[w[x]]);if(I!==0)return I}return Le(g.length,w.length)})(n.mapValue,e.mapValue);default:throw Ae(23264,{he:t})}}function Ww(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Le(n,e);const t=Rs(n),s=Rs(e),o=Le(t.seconds,s.seconds);return o!==0?o:Le(t.nanos,s.nanos)}function Zw(n,e){const t=n.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const c=Go(t[o],s[o]);if(c)return c}return Le(t.length,s.length)}function $o(n){return Yp(n)}function Yp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const s=Rs(t);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Ns(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return we.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let s="[",o=!0;for(const c of t.values||[])o?o=!1:s+=",",s+=Yp(c);return s+"]"})(n.arrayValue):"mapValue"in n?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",c=!0;for(const h of s)c?c=!1:o+=",",o+=`${h}:${Yp(t.fields[h])}`;return o+"}"})(n.mapValue):Ae(61005,{value:n})}function Yh(n){switch(Is(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bd(n);return e?16+Yh(e):16;case 5:return 2*n.stringValue.length;case 6:return Ns(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+Yh(c)),0)})(n.arrayValue);case 10:case 11:return(function(s){let o=0;return Os(s.fields,((c,h)=>{o+=c.length+Yh(h)})),o})(n.mapValue);default:throw Ae(13486,{value:n})}}function Jw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Kp(n){return!!n&&"integerValue"in n}function Pg(n){return!!n&&"arrayValue"in n}function eb(n){return!!n&&"nullValue"in n}function tb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Kh(n){return!!n&&"mapValue"in n}function cR(n){return(n?.mapValue?.fields||{})[__]?.stringValue===E_}function Nc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Os(n.mapValue.fields,((t,s)=>e.mapValue.fields[t]=Nc(s))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Nc(n.arrayValue.values[t]);return e}return{...n}}function uR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===lR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.value=e}static empty(){return new An({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Kh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nc(t)}setAll(e){let t=tn.emptyPath(),s={},o=[];e.forEach(((h,p)=>{if(!t.isImmediateParentOf(p)){const g=this.getFieldsMap(t);this.applyChanges(g,s,o),s={},o=[],t=p.popLast()}h?s[p.lastSegment()]=Nc(h):o.push(p.lastSegment())}));const c=this.getFieldsMap(t);this.applyChanges(c,s,o)}delete(e){const t=this.field(e.popLast());Kh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Br(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Kh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Os(t,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new An(Nc(this.value))}}function x_(n){const e=[];return Os(n.fields,((t,s)=>{const o=new tn([t]);if(Kh(s)){const c=x_(s.mapValue).fields;if(c.length===0)e.push(o);else for(const h of c)e.push(o.child(h))}else e.push(o)})),new Vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,t,s,o,c,h,p){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=c,this.data=h,this.documentState=p}static newInvalidDocument(e){return new un(e,0,Re.min(),Re.min(),Re.min(),An.empty(),0)}static newFoundDocument(e,t,s,o){return new un(e,1,t,Re.min(),s,o,0)}static newNoDocument(e,t){return new un(e,2,t,Re.min(),Re.min(),An.empty(),0)}static newUnknownDocument(e,t){return new un(e,3,t,Re.min(),Re.min(),An.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,t){this.position=e,this.inclusive=t}}function nb(n,e,t){let s=0;for(let o=0;o<n.position.length;o++){const c=e[o],h=n.position[o];if(c.field.isKeyField()?s=we.comparator(we.fromName(h.referenceValue),t.key):s=Go(h,t.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function rb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Br(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,t="asc"){this.field=e,this.dir=t}}function hR(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{}class jt extends T_{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new fR(e,t,s):t==="array-contains"?new gR(e,s):t==="in"?new yR(e,s):t==="not-in"?new vR(e,s):t==="array-contains-any"?new wR(e,s):new jt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new mR(e,s):new pR(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Go(t,this.value)):t!==null&&Is(this.value)===Is(t)&&this.matchesComparison(Go(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gr extends T_{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new gr(e,t)}matches(e){return A_(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function A_(n){return n.op==="and"}function S_(n){return dR(n)&&A_(n)}function dR(n){for(const e of n.filters)if(e instanceof gr)return!1;return!0}function Qp(n){if(n instanceof jt)return n.field.canonicalString()+n.op.toString()+$o(n.value);if(S_(n))return n.filters.map((e=>Qp(e))).join(",");{const e=n.filters.map((t=>Qp(t))).join(",");return`${n.op}(${e})`}}function C_(n,e){return n instanceof jt?(function(s,o){return o instanceof jt&&s.op===o.op&&s.field.isEqual(o.field)&&Br(s.value,o.value)})(n,e):n instanceof gr?(function(s,o){return o instanceof gr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,h,p)=>c&&C_(h,o.filters[p])),!0):!1})(n,e):void Ae(19439)}function R_(n){return n instanceof jt?(function(t){return`${t.field.canonicalString()} ${t.op} ${$o(t.value)}`})(n):n instanceof gr?(function(t){return t.op.toString()+" {"+t.getFilters().map(R_).join(" ,")+"}"})(n):"Filter"}class fR extends jt{constructor(e,t,s){super(e,t,s),this.key=we.fromName(s.referenceValue)}matches(e){const t=we.comparator(e.key,this.key);return this.matchesComparison(t)}}class mR extends jt{constructor(e,t){super(e,"in",t),this.keys=N_("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class pR extends jt{constructor(e,t){super(e,"not-in",t),this.keys=N_("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function N_(n,e){return(e.arrayValue?.values||[]).map((t=>we.fromName(t.referenceValue)))}class gR extends jt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Pg(t)&&qc(t.arrayValue,this.value)}}class yR extends jt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&qc(this.value.arrayValue,t)}}class vR extends jt{constructor(e,t){super(e,"not-in",t)}matches(e){if(qc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!qc(this.value.arrayValue,t)}}class wR extends jt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Pg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>qc(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,t=null,s=[],o=[],c=null,h=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=h,this.endAt=p,this.Te=null}}function ib(n,e=null,t=[],s=[],o=null,c=null,h=null){return new bR(n,e,t,s,o,c,h)}function Vg(n){const e=Ie(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>Qp(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Ud(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>$o(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>$o(s))).join(",")),e.Te=t}return e.Te}function Lg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!hR(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!C_(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!rb(n.startAt,e.startAt)&&rb(n.endAt,e.endAt)}function Xp(n){return we.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,t=null,s=[],o=[],c=null,h="F",p=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=h,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function _R(n,e,t,s,o,c,h,p){return new rl(n,e,t,s,o,c,h,p)}function zd(n){return new rl(n)}function sb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function I_(n){return n.collectionGroup!==null}function Ic(n){const e=Ie(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),t.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let p=new Bt(tn.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{t.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Fc(c,s))})),t.has(tn.keyField().canonicalString())||e.Ie.push(new Fc(tn.keyField(),s))}return e.Ie}function Mr(n){const e=Ie(n);return e.Ee||(e.Ee=ER(e,Ic(n))),e.Ee}function ER(n,e){if(n.limitType==="F")return ib(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Fc(o.field,c)}));const t=n.endAt?new hd(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new hd(n.startAt.position,n.startAt.inclusive):null;return ib(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function Wp(n,e){const t=n.filters.concat([e]);return new rl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Zp(n,e,t){return new rl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Hd(n,e){return Lg(Mr(n),Mr(e))&&n.limitType===e.limitType}function k_(n){return`${Vg(Mr(n))}|lt:${n.limitType}`}function jo(n){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>R_(o))).join(", ")}]`),Ud(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>$o(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>$o(o))).join(",")),`Target(${s})`})(Mr(n))}; limitType=${n.limitType})`}function qd(n,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):we.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(n,e)&&(function(s,o){for(const c of Ic(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(n,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(n,e)&&(function(s,o){return!(s.startAt&&!(function(h,p,g){const y=nb(h,p,g);return h.inclusive?y<=0:y<0})(s.startAt,Ic(s),o)||s.endAt&&!(function(h,p,g){const y=nb(h,p,g);return h.inclusive?y>=0:y>0})(s.endAt,Ic(s),o))})(n,e)}function xR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function D_(n){return(e,t)=>{let s=!1;for(const o of Ic(n)){const c=TR(o,e,t);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function TR(n,e,t){const s=n.field.isKeyField()?we.comparator(e.key,t.key):(function(c,h,p){const g=h.data.field(c),y=p.data.field(c);return g!==null&&y!==null?Go(g,y):Ae(42886)})(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Ae(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Os(this.inner,((t,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return p_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR=new gt(we.comparator);function Si(){return AR}const j_=new gt(we.comparator);function xc(...n){let e=j_;for(const t of n)e=e.insert(t.key,t);return e}function O_(n){let e=j_;return n.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function xa(){return kc()}function M_(){return kc()}function kc(){return new Ma((n=>n.toString()),((n,e)=>n.isEqual(e)))}const SR=new gt(we.comparator),CR=new Bt(we.comparator);function Ue(...n){let e=CR;for(const t of n)e=e.add(t);return e}const RR=new Bt(Le);function NR(){return RR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ld(e)?"-0":e}}function P_(n){return{integerValue:""+n}}function IR(n,e){return rR(e)?P_(e):Ug(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(){this._=void 0}}function kR(n,e,t){return n instanceof Gc?(function(o,c){const h={fields:{[v_]:{stringValue:y_},[b_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Mg(c)&&(c=Bd(c)),c&&(h.fields[w_]=c),{mapValue:h}})(t,e):n instanceof $c?L_(n,e):n instanceof Yc?U_(n,e):(function(o,c){const h=V_(o,c),p=ab(h)+ab(o.Ae);return Kp(h)&&Kp(o.Ae)?P_(p):Ug(o.serializer,p)})(n,e)}function DR(n,e,t){return n instanceof $c?L_(n,e):n instanceof Yc?U_(n,e):t}function V_(n,e){return n instanceof dd?(function(s){return Kp(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class Gc extends Fd{}class $c extends Fd{constructor(e){super(),this.elements=e}}function L_(n,e){const t=B_(e);for(const s of n.elements)t.some((o=>Br(o,s)))||t.push(s);return{arrayValue:{values:t}}}class Yc extends Fd{constructor(e){super(),this.elements=e}}function U_(n,e){let t=B_(e);for(const s of n.elements)t=t.filter((o=>!Br(o,s)));return{arrayValue:{values:t}}}class dd extends Fd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function ab(n){return Rt(n.integerValue||n.doubleValue)}function B_(n){return Pg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e,t){this.field=e,this.transform=t}}function OR(n,e){return n.field.isEqual(e.field)&&(function(s,o){return s instanceof $c&&o instanceof $c||s instanceof Yc&&o instanceof Yc?Fo(s.elements,o.elements,Br):s instanceof dd&&o instanceof dd?Br(s.Ae,o.Ae):s instanceof Gc&&o instanceof Gc})(n.transform,e.transform)}class MR{constructor(e,t){this.version=e,this.transformResults=t}}class er{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new er}static exists(e){return new er(void 0,e)}static updateTime(e){return new er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Gd{}function z_(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Bg(n.key,er.none()):new tu(n.key,n.data,er.none());{const t=n.data,s=An.empty();let o=new Bt(tn.comparator);for(let c of e.fields)if(!o.has(c)){let h=t.field(c);h===null&&c.length>1&&(c=c.popLast(),h=t.field(c)),h===null?s.delete(c):s.set(c,h),o=o.add(c)}return new Ms(n.key,s,new Vn(o.toArray()),er.none())}}function PR(n,e,t){n instanceof tu?(function(o,c,h){const p=o.value.clone(),g=lb(o.fieldTransforms,c,h.transformResults);p.setAll(g),c.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(n,e,t):n instanceof Ms?(function(o,c,h){if(!Qh(o.precondition,c))return void c.convertToUnknownDocument(h.version);const p=lb(o.fieldTransforms,c,h.transformResults),g=c.data;g.setAll(H_(o)),g.setAll(p),c.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(n,e,t):(function(o,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,t)}function Dc(n,e,t,s){return n instanceof tu?(function(c,h,p,g){if(!Qh(c.precondition,h))return p;const y=c.value.clone(),w=cb(c.fieldTransforms,g,h);return y.setAll(w),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null})(n,e,t,s):n instanceof Ms?(function(c,h,p,g){if(!Qh(c.precondition,h))return p;const y=cb(c.fieldTransforms,g,h),w=h.data;return w.setAll(H_(c)),w.setAll(y),h.convertToFoundDocument(h.version,w).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((x=>x.field)))})(n,e,t,s):(function(c,h,p){return Qh(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):p})(n,e,t)}function VR(n,e){let t=null;for(const s of n.fieldTransforms){const o=e.data.field(s.field),c=V_(s.transform,o||null);c!=null&&(t===null&&(t=An.empty()),t.set(s.field,c))}return t||null}function ob(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Fo(s,o,((c,h)=>OR(c,h)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class tu extends Gd{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ms extends Gd{constructor(e,t,s,o,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function H_(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}})),e}function lb(n,e,t){const s=new Map;Ke(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const c=n[o],h=c.transform,p=e.data.field(c.field);s.set(c.field,DR(h,p,t[o]))}return s}function cb(n,e,t){const s=new Map;for(const o of n){const c=o.transform,h=t.data.field(o.field);s.set(o.field,kR(c,h,e))}return s}class Bg extends Gd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LR extends Gd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&PR(c,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Dc(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Dc(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=M_();return this.mutations.forEach((o=>{const c=e.get(o.key),h=c.overlayedDocument;let p=this.applyToLocalView(h,c.mutatedFields);p=t.has(o.key)?null:p;const g=z_(h,p);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Re.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&Fo(this.mutations,e.mutations,((t,s)=>ob(t,s)))&&Fo(this.baseMutations,e.baseMutations,((t,s)=>ob(t,s)))}}class zg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Ke(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return SR})();const c=e.mutations;for(let h=0;h<c.length;h++)o=o.insert(c[h].key,s[h].version);return new zg(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt,ze;function HR(n){switch(n){case J.OK:return Ae(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Ae(15467,{code:n})}}function q_(n){if(n===void 0)return Ai("GRPC error has no .code"),J.UNKNOWN;switch(n){case Dt.OK:return J.OK;case Dt.CANCELLED:return J.CANCELLED;case Dt.UNKNOWN:return J.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return J.INTERNAL;case Dt.UNAVAILABLE:return J.UNAVAILABLE;case Dt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Dt.NOT_FOUND:return J.NOT_FOUND;case Dt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Dt.ABORTED:return J.ABORTED;case Dt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Dt.DATA_LOSS:return J.DATA_LOSS;default:return Ae(39323,{code:n})}}(ze=Dt||(Dt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR=new Ts([4294967295,4294967295],0);function ub(n){const e=qR().encode(n),t=new i_;return t.update(e),new Uint8Array(t.digest())}function hb(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ts([t,s],0),new Ts([o,c],0)]}class Hg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Tc(`Invalid padding: ${t}`);if(s<0)throw new Tc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Tc(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Tc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ts.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(Ts.fromNumber(s)));return o.compare(FR)===1&&(o=new Ts([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=ub(e),[s,o]=hb(t);for(let c=0;c<this.hashCount;c++){const h=this.ye(s,o,c);if(!this.we(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new Hg(c,o,t);return s.forEach((p=>h.insert(p))),h}insert(e){if(this.ge===0)return;const t=ub(e),[s,o]=hb(t);for(let c=0;c<this.hashCount;c++){const h=this.ye(s,o,c);this.Se(h)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Tc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,t,s,o,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,nu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new $d(Re.min(),o,new gt(Le),Si(),Ue())}}class nu{constructor(e,t,s,o,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new nu(s,t,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class F_{constructor(e,t){this.targetId=e,this.Ce=t}}class G_{constructor(e,t,s=nn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class db{constructor(){this.ve=0,this.Fe=fb(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),t=Ue(),s=Ue();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ae(38017,{changeType:c})}})),new nu(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=fb()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class GR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Si(),this.Je=Lh(),this.He=Lh(),this.Ye=new gt(Le)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const c=o.target;if(Xp(c))if(s===0){const h=new we(c.path);this.et(t,h,un.newNoDocument(h,Re.min()))}else Ke(s===1,20013,{expectedCount:s});else{const h=this._t(t);if(h!==s){const p=this.ut(e),g=p?this.ct(p,e,h):1;if(g!==0){this.it(t);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,y)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=t;let h,p;try{h=Ns(s).toUint8Array()}catch(g){if(g instanceof g_)return qo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Hg(h,o,c)}catch(g){return qo(g instanceof Tc?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((c=>{const h=this.Ge.ht(),p=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(t,c,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((c,h)=>{const p=this.ot(h);if(p){if(c.current&&Xp(p.target)){const g=new we(p.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,un.newNoDocument(g,e))}c.Be&&(t.set(h,c.ke()),c.qe())}}));let s=Ue();this.He.forEach(((c,h)=>{let p=!0;h.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(c))})),this.je.forEach(((c,h)=>h.setReadTime(e)));const o=new $d(e,t,this.Ye,this.je,s);return this.je=Si(),this.Je=Lh(),this.He=Lh(),this.Ye=new gt(Le),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new db,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Bt(Le),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Bt(Le),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new db),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Lh(){return new gt(we.comparator)}function fb(){return new gt(we.comparator)}const $R={asc:"ASCENDING",desc:"DESCENDING"},YR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KR={and:"AND",or:"OR"};class QR{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Jp(n,e){return n.useProto3Json||Ud(e)?e:{value:e}}function fd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $_(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function XR(n,e){return fd(n,e.toTimestamp())}function Pr(n){return Ke(!!n,49232),Re.fromTimestamp((function(t){const s=Rs(t);return new ut(s.seconds,s.nanos)})(n))}function qg(n,e){return eg(n,e).canonicalString()}function eg(n,e){const t=(function(o){return new ot(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function Y_(n){const e=ot.fromString(n);return Ke(Z_(e),10190,{key:e.toString()}),e}function tg(n,e){return qg(n.databaseId,e.path)}function Rp(n,e){const t=Y_(e);if(t.get(1)!==n.databaseId.projectId)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new we(Q_(t))}function K_(n,e){return qg(n.databaseId,e)}function WR(n){const e=Y_(n);return e.length===4?ot.emptyPath():Q_(e)}function ng(n){return new ot(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Q_(n){return Ke(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function mb(n,e,t){return{name:tg(n,e),fields:t.value.mapValue.fields}}function ZR(n,e){let t;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ae(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,w){return y.useProto3Json?(Ke(w===void 0||typeof w=="string",58123),nn.fromBase64String(w||"")):(Ke(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),nn.fromUint8Array(w||new Uint8Array))})(n,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&(function(y){const w=y.code===void 0?J.UNKNOWN:q_(y.code);return new ue(w,y.message||"")})(h);t=new G_(s,o,c,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Rp(n,s.document.name),c=Pr(s.document.updateTime),h=s.document.createTime?Pr(s.document.createTime):Re.min(),p=new An({mapValue:{fields:s.document.fields}}),g=un.newFoundDocument(o,c,h,p),y=s.targetIds||[],w=s.removedTargetIds||[];t=new Xh(y,w,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Rp(n,s.document),c=s.readTime?Pr(s.readTime):Re.min(),h=un.newNoDocument(o,c),p=s.removedTargetIds||[];t=new Xh([],p,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Rp(n,s.document),c=s.removedTargetIds||[];t=new Xh([],c,o,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,h=new zR(o,c),p=s.targetId;t=new F_(p,h)}}return t}function JR(n,e){let t;if(e instanceof tu)t={update:mb(n,e.key,e.value)};else if(e instanceof Bg)t={delete:tg(n,e.key)};else if(e instanceof Ms)t={update:mb(n,e.key,e.data),updateMask:l6(e.fieldMask)};else{if(!(e instanceof LR))return Ae(16599,{Vt:e.type});t={verify:tg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(c,h){const p=h.transform;if(p instanceof Gc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof $c)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Yc)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof dd)return{fieldPath:h.field.canonicalString(),increment:p.Ae};throw Ae(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:XR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ae(27497)})(n,e.precondition)),t}function e6(n,e){return n&&n.length>0?(Ke(e!==void 0,14353),n.map((t=>(function(o,c){let h=o.updateTime?Pr(o.updateTime):Pr(c);return h.isEqual(Re.min())&&(h=Pr(c)),new MR(h,o.transformResults||[])})(t,e)))):[]}function t6(n,e){return{documents:[K_(n,e.path)]}}function n6(n,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=K_(n,o);const c=(function(y){if(y.length!==0)return W_(gr.create(y,"and"))})(e.filters);c&&(t.structuredQuery.where=c);const h=(function(y){if(y.length!==0)return y.map((w=>(function(A){return{field:Oo(A.field),direction:s6(A.dir)}})(w)))})(e.orderBy);h&&(t.structuredQuery.orderBy=h);const p=Jp(n,e.limit);return p!==null&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:t,parent:o}}function r6(n){let e=WR(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Ke(s===1,65062);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let c=[];t.where&&(c=(function(x){const A=X_(x);return A instanceof gr&&S_(A)?A.getFilters():[A]})(t.where));let h=[];t.orderBy&&(h=(function(x){return x.map((A=>(function(B){return new Fc(Mo(B.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(B.direction))})(A)))})(t.orderBy));let p=null;t.limit&&(p=(function(x){let A;return A=typeof x=="object"?x.value:x,Ud(A)?null:A})(t.limit));let g=null;t.startAt&&(g=(function(x){const A=!!x.before,I=x.values||[];return new hd(I,A)})(t.startAt));let y=null;return t.endAt&&(y=(function(x){const A=!x.before,I=x.values||[];return new hd(I,A)})(t.endAt)),_R(e,o,h,c,p,"F",g,y)}function i6(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function X_(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Mo(t.unaryFilter.field);return jt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Mo(t.unaryFilter.field);return jt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Mo(t.unaryFilter.field);return jt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Mo(t.unaryFilter.field);return jt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(n):n.fieldFilter!==void 0?(function(t){return jt.create(Mo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return gr.create(t.compositeFilter.filters.map((s=>X_(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(t.compositeFilter.op))})(n):Ae(30097,{filter:n})}function s6(n){return $R[n]}function a6(n){return YR[n]}function o6(n){return KR[n]}function Oo(n){return{fieldPath:n.canonicalString()}}function Mo(n){return tn.fromServerFormat(n.fieldPath)}function W_(n){return n instanceof jt?(function(t){if(t.op==="=="){if(tb(t.value))return{unaryFilter:{field:Oo(t.field),op:"IS_NAN"}};if(eb(t.value))return{unaryFilter:{field:Oo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(tb(t.value))return{unaryFilter:{field:Oo(t.field),op:"IS_NOT_NAN"}};if(eb(t.value))return{unaryFilter:{field:Oo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oo(t.field),op:a6(t.op),value:t.value}}})(n):n instanceof gr?(function(t){const s=t.getFilters().map((o=>W_(o)));return s.length===1?s[0]:{compositeFilter:{op:o6(t.op),filters:s}}})(n):Ae(54877,{filter:n})}function l6(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Z_(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,t,s,o,c=Re.min(),h=Re.min(),p=nn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e){this.yt=e}}function u6(n){const e=r6({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Zp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(){this.Cn=new d6}addToCollectionParentIndex(e,t){return this.Cn.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(Cs.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(Cs.min())}updateCollectionGroup(e,t,s){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class d6{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Bt(ot.comparator),c=!o.has(s);return this.index[t]=o.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Bt(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},J_=41943040;class Tn{static withCacheSize(e){return new Tn(e,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(J_,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Yo(0)}static cr(){return new Yo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb="LruGarbageCollector",f6=1048576;function yb([n,e],[t,s]){const o=Le(n,t);return o===0?Le(e,s):o}class m6{constructor(e){this.Ir=e,this.buffer=new Bt(yb),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();yb(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class p6{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(gb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){nl(t)?de(gb,"Ignoring IndexedDB error during garbage collection: ",t):await tl(t)}await this.Vr(3e5)}))}}class g6{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(Ld.ce);const s=new m6(t);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(pb)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pb):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,c,h,p,g,y;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,h=Date.now(),this.nthSequenceNumber(e,o)))).next((x=>(s=x,p=Date.now(),this.removeTargets(e,s,t)))).next((x=>(c=x,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((x=>(y=Date.now(),Do()<=Ve.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-w}ms
	Determined least recently used ${o} in `+(p-h)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${x} documents in `+(y-g)+`ms
Total Duration: ${y-w}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:x}))))}}function y6(n,e){return new g6(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(){this.changes=new Ma((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ne.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&Dc(s.mutation,o,Vn.empty(),ut.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,Ue()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=Ue()){const o=xa();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((c=>{let h=xc();return c.forEach(((p,g)=>{h=h.insert(p,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,t){const s=xa();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,Ue())))}populateOverlays(e,t,s){const o=[];return s.forEach((c=>{t.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((h,p)=>{t.set(h,p)}))}))}computeViews(e,t,s,o){let c=Si();const h=kc(),p=(function(){return kc()})();return t.forEach(((g,y)=>{const w=s.get(y.key);o.has(y.key)&&(w===void 0||w.mutation instanceof Ms)?c=c.insert(y.key,y):w!==void 0?(h.set(y.key,w.mutation.getFieldMask()),Dc(w.mutation,y,w.mutation.getFieldMask(),ut.now())):h.set(y.key,Vn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,w)=>h.set(y,w))),t.forEach(((y,w)=>p.set(y,new w6(w,h.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,t){const s=kc();let o=new gt(((h,p)=>h-p)),c=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((h=>{for(const p of h)p.keys().forEach((g=>{const y=t.get(g);if(y===null)return;let w=s.get(g)||Vn.empty();w=p.applyToLocalView(y,w),s.set(g,w);const x=(o.get(p.batchId)||Ue()).add(g);o=o.insert(p.batchId,x)}))})).next((()=>{const h=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,w=g.value,x=M_();w.forEach((A=>{if(!c.has(A)){const I=z_(t.get(A),s.get(A));I!==null&&x.set(A,I),c=c.add(A)}})),h.push(this.documentOverlayCache.saveOverlays(e,y,x))}return ne.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(h){return we.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):I_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((c=>{const h=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-c.size):ne.resolve(xa());let p=Bc,g=c;return h.next((y=>ne.forEach(y,((w,x)=>(p<x.largestBatchId&&(p=x.largestBatchId),c.get(w)?ne.resolve():this.remoteDocumentCache.getEntry(e,w).next((A=>{g=g.insert(w,A)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,Ue()))).next((w=>({batchId:p,changes:O_(w)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new we(t)).next((s=>{let o=xc();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const c=t.collectionGroup;let h=xc();return this.indexManager.getCollectionParents(e,c).next((p=>ne.forEach(p,(g=>{const y=(function(x,A){return new rl(A,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(t,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((w=>{w.forEach(((x,A)=>{h=h.insert(x,A)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,c,o)))).next((h=>{c.forEach(((g,y)=>{const w=y.getKey();h.get(w)===null&&(h=h.insert(w,un.newInvalidDocument(w)))}));let p=xc();return h.forEach(((g,y)=>{const w=c.get(g);w!==void 0&&Dc(w.mutation,y,Vn.empty(),ut.now()),qd(t,y)&&(p=p.insert(g,y))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ne.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Pr(o.createTime)}})(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:u6(o.bundledQuery),readTime:Pr(o.readTime)}})(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(){this.overlays=new gt(we.comparator),this.qr=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const s=xa();return ne.forEach(t,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,c)=>{this.St(e,t,c)})),ne.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,t,s){const o=xa(),c=t.length+1,h=new we(t.child("")),p=this.overlays.getIteratorFrom(h);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>s&&o.set(g.getKey(),g)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let c=new gt(((y,w)=>y-w));const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>s){let w=c.get(y.largestBatchId);w===null&&(w=xa(),c=c.insert(y.largestBatchId,w)),w.set(y.getKey(),y)}}const p=xa(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,w)=>p.set(y,w))),!(p.size()>=o)););return ne.resolve(p)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new BR(t,s));let c=this.qr.get(t);c===void 0&&(c=Ue(),this.qr.set(t,c)),this.qr.set(t,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(){this.Qr=new Bt($t.$r),this.Ur=new Bt($t.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new $t(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new $t(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new we(new ot([])),s=new $t(t,e),o=new $t(t,e+1),c=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),c.push(h.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new we(new ot([])),s=new $t(t,e),o=new $t(t,e+1);let c=Ue();return this.Ur.forEachInRange([s,o],(h=>{c=c.add(h.key)})),c}containsKey(e){const t=new $t(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class $t{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return we.comparator(e.key,t.key)||Le(e.Yr,t.Yr)}static Kr(e,t){return Le(e.Yr,t.Yr)||we.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Bt($t.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new UR(c,t,s,o);this.mutationQueue.push(h);for(const p of o)this.Zr=this.Zr.add(new $t(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ne.resolve(h)}lookupMutationBatch(e,t){return ne.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),c=o<0?0:o;return ne.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Og:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new $t(t,0),o=new $t(t,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],(h=>{const p=this.Xr(h.Yr);c.push(p)})),ne.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Bt(Le);return t.forEach((o=>{const c=new $t(o,0),h=new $t(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,h],(p=>{s=s.add(p.Yr)}))})),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let c=s;we.isDocumentKey(c)||(c=c.child(""));const h=new $t(new we(c),0);let p=new Bt(Le);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Yr)),!0)}),h),ne.resolve(this.ti(p))}ti(e){const t=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Ke(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(t.mutations,(o=>{const c=new $t(o.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new $t(t,0),o=this.Zr.firstAfterOrEqual(s);return ne.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e){this.ri=e,this.docs=(function(){return new gt(we.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),c=o?o.size:0,h=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ne.resolve(s?s.document.mutableCopy():un.newInvalidDocument(t))}getEntries(e,t){let s=Si();return t.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():un.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let c=Si();const h=t.path,p=new we(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:w}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||JC(ZC(w),s)<=0||(o.has(w.key)||qd(t,w))&&(c=c.insert(w.key,w.mutableCopy()))}return ne.resolve(c)}getAllFromCollectionGroup(e,t,s,o){Ae(9500)}ii(e,t){return ne.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new S6(this)}getSize(e){return ne.resolve(this.size)}}class S6 extends v6{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ne.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e){this.persistence=e,this.si=new Ma((t=>Vg(t)),Lg),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new Fg,this.targetCount=0,this.ai=Yo.ur()}forEachTarget(e,t){return this.si.forEach(((s,o)=>t(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),ne.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Yo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.Pr(t),ne.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,s){let o=0;const c=[];return this.si.forEach(((h,p)=>{p.sequenceNumber<=t&&s.get(p.targetId)===null&&(this.si.delete(h),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),ne.waitFor(c).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return ne.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),ne.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,c=[];return o&&t.forEach((h=>{c.push(o.markPotentiallyOrphaned(e,h))})),ne.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return ne.resolve(s)}containsKey(e,t){return ne.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e,t){this.ui={},this.overlays={},this.ci=new Ld(0),this.li=!1,this.li=!0,this.hi=new x6,this.referenceDelegate=e(this),this.Pi=new C6(this),this.indexManager=new h6,this.remoteDocumentCache=(function(o){return new A6(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new c6(t),this.Ii=new _6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new E6,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new T6(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){de("MemoryPersistence","Starting transaction:",e);const o=new R6(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,t){return ne.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class R6 extends tR{constructor(e){super(),this.currentSequenceNumber=e}}class Gg{constructor(e){this.persistence=e,this.Ri=new Fg,this.Vi=null}static mi(e){return new Gg(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(s=>{const o=we.fromPath(s);return this.gi(e,o).next((c=>{c||t.removeEntry(o,Re.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return ne.or([()=>ne.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class md{constructor(e,t){this.persistence=e,this.pi=new Ma((s=>iR(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=y6(this,t)}static mi(e,t){return new md(e,t)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return ne.forEach(this.pi,((s,o)=>this.br(e,s,o).next((c=>c?ne.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,t).next((p=>{p||(s++,c.removeEntry(h,Re.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ne.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Yh(e.data.value)),t}br(e,t,s){return ne.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=Ue(),o=Ue();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new $g(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return sA()?8:nR(hn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const c={result:null};return this.ys(e,t).next((h=>{c.result=h})).next((()=>{if(!c.result)return this.ws(e,t,o,s).next((h=>{c.result=h}))})).next((()=>{if(c.result)return;const h=new N6;return this.Ss(e,t,h).next((p=>{if(c.result=p,this.Vs)return this.bs(e,t,h,p.size)}))})).next((()=>c.result))}bs(e,t,s,o){return s.documentReadCount<this.fs?(Do()<=Ve.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",jo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(Do()<=Ve.DEBUG&&de("QueryEngine","Query:",jo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Do()<=Ve.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",jo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mr(t))):ne.resolve())}ys(e,t){if(sb(t))return ne.resolve(null);let s=Mr(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Zp(t,null,"F"),s=Mr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const h=Ue(...c);return this.ps.getDocuments(e,h).next((p=>this.indexManager.getMinOffset(e,s).next((g=>{const y=this.Ds(t,p);return this.Cs(t,y,h,g.readTime)?this.ys(e,Zp(t,null,"F")):this.vs(e,y,t,g)}))))})))))}ws(e,t,s,o){return sb(t)||o.isEqual(Re.min())?ne.resolve(null):this.ps.getDocuments(e,s).next((c=>{const h=this.Ds(t,c);return this.Cs(t,h,s,o)?ne.resolve(null):(Do()<=Ve.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),jo(t)),this.vs(e,h,t,WC(o,Bc)).next((p=>p)))}))}Ds(e,t){let s=new Bt(D_(e));return t.forEach(((o,c)=>{qd(e,c)&&(s=s.add(c))})),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const c=e.limitType==="F"?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,t,s){return Do()<=Ve.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",jo(t)),this.ps.getDocumentsMatchingQuery(e,t,Cs.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((c=>(t.forEach((h=>{c=c.insert(h.key,h)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg="LocalStore",k6=3e8;class D6{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new gt(Le),this.xs=new Ma((c=>Vg(c)),Lg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new b6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function j6(n,e,t,s){return new D6(n,e,t,s)}async function tE(n,e){const t=Ie(n);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((c=>{const h=[],p=[];let g=Ue();for(const y of o){h.push(y.batchId);for(const w of y.mutations)g=g.add(w.key)}for(const y of c){p.push(y.batchId);for(const w of y.mutations)g=g.add(w.key)}return t.localDocuments.getDocuments(s,g).next((y=>({Ls:y,removedBatchIds:h,addedBatchIds:p})))}))}))}function O6(n,e){const t=Ie(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,w){const x=y.batch,A=x.keys();let I=ne.resolve();return A.forEach((B=>{I=I.next((()=>w.getEntry(g,B))).next((Y=>{const U=y.docVersions.get(B);Ke(U!==null,48541),Y.version.compareTo(U)<0&&(x.applyToRemoteDocument(Y,y),Y.isValidDocument()&&(Y.setReadTime(y.commitVersion),w.addEntry(Y)))}))})),I.next((()=>p.mutationQueue.removeMutationBatch(g,x)))})(t,s,e,c).next((()=>c.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let g=Ue();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function nE(n){const e=Ie(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function M6(n,e){const t=Ie(n),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const h=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const p=[];e.targetChanges.forEach(((w,x)=>{const A=o.get(x);if(!A)return;p.push(t.Pi.removeMatchingKeys(c,w.removedDocuments,x).next((()=>t.Pi.addMatchingKeys(c,w.addedDocuments,x))));let I=A.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(x)!==null?I=I.withResumeToken(nn.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):w.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(w.resumeToken,s)),o=o.insert(x,I),(function(Y,U,ee){return Y.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=k6?!0:ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0})(A,I,w)&&p.push(t.Pi.updateTargetData(c,I))}));let g=Si(),y=Ue();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(c,w))})),p.push(P6(c,h,e.documentUpdates).next((w=>{g=w.ks,y=w.qs}))),!s.isEqual(Re.min())){const w=t.Pi.getLastRemoteSnapshotVersion(c).next((x=>t.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));p.push(w)}return ne.waitFor(p).next((()=>h.apply(c))).next((()=>t.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(t.Ms=o,c)))}function P6(n,e,t){let s=Ue(),o=Ue();return t.forEach((c=>s=s.add(c))),e.getEntries(n,s).next((c=>{let h=Si();return t.forEach(((p,g)=>{const y=c.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(Re.min())?(e.removeEntry(p,g.readTime),h=h.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),h=h.insert(p,g)):de(Yg,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:h,qs:o}}))}function V6(n,e){const t=Ie(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Og),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function L6(n,e){const t=Ie(n);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.Pi.getTargetData(s,e).next((c=>c?(o=c,ne.resolve(o)):t.Pi.allocateTargetId(s).next((h=>(o=new vs(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function rg(n,e,t){const s=Ie(n),o=s.Ms.get(e),c=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",c,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!nl(h))throw h;de(Yg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function vb(n,e,t){const s=Ie(n);let o=Re.min(),c=Ue();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,y,w){const x=Ie(g),A=x.xs.get(w);return A!==void 0?ne.resolve(x.Ms.get(A)):x.Pi.getTargetData(y,w)})(s,h,Mr(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,p.targetId).next((g=>{c=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,t?o:Re.min(),t?c:Ue()))).next((p=>(U6(s,xR(e),p),{documents:p,Qs:c})))))}function U6(n,e,t){let s=n.Os.get(e)||Re.min();t.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),n.Os.set(e,s)}class wb{constructor(){this.activeTargetIds=NR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class B6{constructor(){this.Mo=new wb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new wb,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="ConnectivityMonitor";class _b{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(bb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(bb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uh=null;function ig(){return Uh===null?Uh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Uh++,"0x"+Uh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np="RestConnection",H6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class q6{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===cd?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,c){const h=ig(),p=this.zo(e,t.toUriEncodedString());de(Np,`Sending RPC '${e}' ${h}:`,p,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,c);const{host:y}=new URL(p),w=Wo(y);return this.Jo(e,p,g,s,w).then((x=>(de(Np,`Received RPC '${e}' ${h}: `,x),x)),(x=>{throw qo(Np,`RPC '${e}' ${h} failed with error: `,x,"url: ",p,"request:",s),x}))}Ho(e,t,s,o,c,h){return this.Go(e,t,s,o,c)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+el})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}zo(e,t){const s=H6[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class G6 extends q6{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,c){const h=ig();return new Promise(((p,g)=>{const y=new s_;y.setWithCredentials(!0),y.listenOnce(a_.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case $h.NO_ERROR:const x=y.getResponseJson();de(ln,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(x)),p(x);break;case $h.TIMEOUT:de(ln,`RPC '${e}' ${h} timed out`),g(new ue(J.DEADLINE_EXCEEDED,"Request time out"));break;case $h.HTTP_ERROR:const A=y.getStatus();if(de(ln,`RPC '${e}' ${h} failed with status:`,A,"response text:",y.getResponseText()),A>0){let I=y.getResponseJson();Array.isArray(I)&&(I=I[0]);const B=I?.error;if(B&&B.status&&B.message){const Y=(function(ee){const Q=ee.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(Q)>=0?Q:J.UNKNOWN})(B.status);g(new ue(Y,B.message))}else g(new ue(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ue(J.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:h,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{de(ln,`RPC '${e}' ${h} completed.`)}}));const w=JSON.stringify(o);de(ln,`RPC '${e}' ${h} sending request:`,o),y.send(t,"POST",w,s,15)}))}T_(e,t,s){const o=ig(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=c_(),p=l_(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,t,s),g.encodeInitMessageHeaders=!0;const w=c.join("");de(ln,`Creating RPC '${e}' stream ${o}: ${w}`,g);const x=h.createWebChannel(w,g);this.I_(x);let A=!1,I=!1;const B=new F6({Yo:U=>{I?de(ln,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(A||(de(ln,`Opening RPC '${e}' stream ${o} transport.`),x.open(),A=!0),de(ln,`RPC '${e}' stream ${o} sending:`,U),x.send(U))},Zo:()=>x.close()}),Y=(U,ee,Q)=>{U.listen(ee,(se=>{try{Q(se)}catch(ie){setTimeout((()=>{throw ie}),0)}}))};return Y(x,Ec.EventType.OPEN,(()=>{I||(de(ln,`RPC '${e}' stream ${o} transport opened.`),B.o_())})),Y(x,Ec.EventType.CLOSE,(()=>{I||(I=!0,de(ln,`RPC '${e}' stream ${o} transport closed`),B.a_(),this.E_(x))})),Y(x,Ec.EventType.ERROR,(U=>{I||(I=!0,qo(ln,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),B.a_(new ue(J.UNAVAILABLE,"The operation could not be completed")))})),Y(x,Ec.EventType.MESSAGE,(U=>{if(!I){const ee=U.data[0];Ke(!!ee,16349);const Q=ee,se=Q?.error||Q[0]?.error;if(se){de(ln,`RPC '${e}' stream ${o} received error:`,se);const ie=se.status;let ae=(function(S){const C=Dt[S];if(C!==void 0)return q_(C)})(ie),ge=se.message;ae===void 0&&(ae=J.INTERNAL,ge="Unknown error status: "+ie+" with message "+se.message),I=!0,B.a_(new ue(ae,ge)),x.close()}else de(ln,`RPC '${e}' stream ${o} received:`,ee),B.u_(ee)}})),Y(p,o_.STAT_EVENT,(U=>{U.stat===Gp.PROXY?de(ln,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===Gp.NOPROXY&&de(ln,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{B.__()}),0),B}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Ip(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yd(n){return new QR(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e,t,s=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="PersistentStream";class iE{constructor(e,t,s,o,c,h,p,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new rE(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(Ai(t.toString()),Ai("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new ue(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(Eb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(de(Eb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class $6 extends iE{constructor(e,t,s,o,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=c}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=ZR(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Re.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?Re.min():h.readTime?Pr(h.readTime):Re.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=ng(this.serializer),t.addTarget=(function(c,h){let p;const g=h.target;if(p=Xp(g)?{documents:t6(c,g)}:{query:n6(c,g).ft},p.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){p.resumeToken=$_(c,h.resumeToken);const y=Jp(c,h.expectedCount);y!==null&&(p.expectedCount=y)}else if(h.snapshotVersion.compareTo(Re.min())>0){p.readTime=fd(c,h.snapshotVersion.toTimestamp());const y=Jp(c,h.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const s=i6(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=ng(this.serializer),t.removeTarget=e,this.q_(t)}}class Y6 extends iE{constructor(e,t,s,o,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=e6(e.writeResults,e.commitTime),s=Pr(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=ng(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>JR(this.serializer,s)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{}class Q6 extends K6{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Go(e,eg(t,s),o,c,h))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ue(J.UNKNOWN,c.toString())}))}Ho(e,t,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,p])=>this.connection.Ho(e,eg(t,s),o,h,p,c))).catch((h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ue(J.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class X6{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ai(t),this.aa=!1):de("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="RemoteStore";class W6{constructor(e,t,s,o,c){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{Pa(this)&&(de(Da,"Restarting streams for network reachability change."),await(async function(g){const y=Ie(g);y.Ea.add(4),await ru(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Kd(y)})(this))}))})),this.Ra=new X6(s,o)}}async function Kd(n){if(Pa(n))for(const e of n.da)await e(!0)}async function ru(n){for(const e of n.da)await e(!1)}function sE(n,e){const t=Ie(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Wg(t)?Xg(t):il(t).O_()&&Qg(t,e))}function Kg(n,e){const t=Ie(n),s=il(t);t.Ia.delete(e),s.O_()&&aE(t,e),t.Ia.size===0&&(s.O_()?s.L_():Pa(t)&&t.Ra.set("Unknown"))}function Qg(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}il(n).Y_(e)}function aE(n,e){n.Va.Ue(e),il(n).Z_(e)}function Xg(n){n.Va=new GR({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),il(n).start(),n.Ra.ua()}function Wg(n){return Pa(n)&&!il(n).x_()&&n.Ia.size>0}function Pa(n){return Ie(n).Ea.size===0}function oE(n){n.Va=void 0}async function Z6(n){n.Ra.set("Online")}async function J6(n){n.Ia.forEach(((e,t)=>{Qg(n,e)}))}async function eN(n,e){oE(n),Wg(n)?(n.Ra.ha(e),Xg(n)):n.Ra.set("Unknown")}async function tN(n,e,t){if(n.Ra.set("Online"),e instanceof G_&&e.state===2&&e.cause)try{await(async function(o,c){const h=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,h),o.Ia.delete(p),o.Va.removeTarget(p))})(n,e)}catch(s){de(Da,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await pd(n,s)}else if(e instanceof Xh?n.Va.Ze(e):e instanceof F_?n.Va.st(e):n.Va.tt(e),!t.isEqual(Re.min()))try{const s=await nE(n.localStore);t.compareTo(s)>=0&&await(function(c,h){const p=c.Va.Tt(h);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const w=c.Ia.get(y);w&&c.Ia.set(y,w.withResumeToken(g.resumeToken,h))}})),p.targetMismatches.forEach(((g,y)=>{const w=c.Ia.get(g);if(!w)return;c.Ia.set(g,w.withResumeToken(nn.EMPTY_BYTE_STRING,w.snapshotVersion)),aE(c,g);const x=new vs(w.target,g,y,w.sequenceNumber);Qg(c,x)})),c.remoteSyncer.applyRemoteEvent(p)})(n,t)}catch(s){de(Da,"Failed to raise snapshot:",s),await pd(n,s)}}async function pd(n,e,t){if(!nl(e))throw e;n.Ea.add(1),await ru(n),n.Ra.set("Offline"),t||(t=()=>nE(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{de(Da,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Kd(n)}))}function lE(n,e){return e().catch((t=>pd(n,t,e)))}async function Qd(n){const e=Ie(n),t=ks(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Og;for(;nN(e);)try{const o=await V6(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,rN(e,o)}catch(o){await pd(e,o)}cE(e)&&uE(e)}function nN(n){return Pa(n)&&n.Ta.length<10}function rN(n,e){n.Ta.push(e);const t=ks(n);t.O_()&&t.X_&&t.ea(e.mutations)}function cE(n){return Pa(n)&&!ks(n).x_()&&n.Ta.length>0}function uE(n){ks(n).start()}async function iN(n){ks(n).ra()}async function sN(n){const e=ks(n);for(const t of n.Ta)e.ea(t.mutations)}async function aN(n,e,t){const s=n.Ta.shift(),o=zg.from(s,e,t);await lE(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await Qd(n)}async function oN(n,e){e&&ks(n).X_&&await(async function(s,o){if((function(h){return HR(h)&&h!==J.ABORTED})(o.code)){const c=s.Ta.shift();ks(s).B_(),await lE(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Qd(s)}})(n,e),cE(n)&&uE(n)}async function xb(n,e){const t=Ie(n);t.asyncQueue.verifyOperationInProgress(),de(Da,"RemoteStore received new credentials");const s=Pa(t);t.Ea.add(3),await ru(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Kd(t)}async function lN(n,e){const t=Ie(n);e?(t.Ea.delete(2),await Kd(t)):e||(t.Ea.add(2),await ru(t),t.Ra.set("Unknown"))}function il(n){return n.ma||(n.ma=(function(t,s,o){const c=Ie(t);return c.sa(),new $6(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(n.datastore,n.asyncQueue,{Xo:Z6.bind(null,n),t_:J6.bind(null,n),r_:eN.bind(null,n),H_:tN.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Wg(n)?Xg(n):n.Ra.set("Unknown")):(await n.ma.stop(),oE(n))}))),n.ma}function ks(n){return n.fa||(n.fa=(function(t,s,o){const c=Ie(t);return c.sa(),new Y6(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:iN.bind(null,n),r_:oN.bind(null,n),ta:sN.bind(null,n),na:aN.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Qd(n)):(await n.fa.stop(),n.Ta.length>0&&(de(Da,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,t,s,o,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,c){const h=Date.now()+s,p=new Zg(e,t,h,o,c);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jg(n,e){if(Ai("AsyncQueue",`${e}: ${n}`),nl(n))return new ue(J.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{static emptySet(e){return new Uo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||we.comparator(t.key,s.key):(t,s)=>we.comparator(t.key,s.key),this.keyedMap=xc(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Uo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Uo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(){this.ga=new gt(we.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class Ko{constructor(e,t,s,o,c,h,p,g,y){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,t,s,o,c){const h=[];return t.forEach((p=>{h.push({type:0,doc:p})})),new Ko(e,t,Uo.emptySet(t),h,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class uN{constructor(){this.queries=Ab(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Ie(t),c=o.queries;o.queries=Ab(),c.forEach(((h,p)=>{for(const g of p.Sa)g.onError(s)}))})(this,new ue(J.ABORTED,"Firestore shutting down"))}}function Ab(){return new Ma((n=>k_(n)),Hd)}async function ey(n,e){const t=Ie(n);let s=3;const o=e.query;let c=t.queries.get(o);c?!c.ba()&&e.Da()&&(s=2):(c=new cN,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await t.onListen(o,!0);break;case 1:c.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const p=Jg(h,`Initialization of query '${jo(e.query)}' failed`);return void e.onError(p)}t.queries.set(o,c),c.Sa.push(e),e.va(t.onlineState),c.wa&&e.Fa(c.wa)&&ny(t)}async function ty(n,e){const t=Ie(n),s=e.query;let o=3;const c=t.queries.get(s);if(c){const h=c.Sa.indexOf(e);h>=0&&(c.Sa.splice(h,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function hN(n,e){const t=Ie(n);let s=!1;for(const o of e){const c=o.query,h=t.queries.get(c);if(h){for(const p of h.Sa)p.Fa(o)&&(s=!0);h.wa=o}}s&&ny(t)}function dN(n,e,t){const s=Ie(n),o=s.queries.get(e);if(o)for(const c of o.Sa)c.onError(t);s.queries.delete(e)}function ny(n){n.Ca.forEach((e=>{e.next()}))}var sg,Sb;(Sb=sg||(sg={})).Ma="default",Sb.Cache="cache";class ry{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ko(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Ko.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==sg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e){this.key=e}}class dE{constructor(e){this.key=e}}class fN{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=D_(e),this.tu=new Uo(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new Tb,o=t?t.tu:this.tu;let c=t?t.mutatedKeys:this.mutatedKeys,h=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,x)=>{const A=o.get(w),I=qd(this.query,x)?x:null,B=!!A&&this.mutatedKeys.has(A.key),Y=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let U=!1;A&&I?A.data.isEqual(I.data)?B!==Y&&(s.track({type:3,doc:I}),U=!0):this.su(A,I)||(s.track({type:2,doc:I}),U=!0,(g&&this.eu(I,g)>0||y&&this.eu(I,y)<0)&&(p=!0)):!A&&I?(s.track({type:0,doc:I}),U=!0):A&&!I&&(s.track({type:1,doc:A}),U=!0,(g||y)&&(p=!0)),U&&(I?(h=h.add(I),c=Y?c.add(w):c.delete(w)):(h=h.delete(w),c=c.delete(w)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const w=this.query.limitType==="F"?h.last():h.first();h=h.delete(w.key),c=c.delete(w.key),s.track({type:1,doc:w})}return{tu:h,iu:s,Cs:p,mutatedKeys:c}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((w,x)=>(function(I,B){const Y=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:U})}};return Y(I)-Y(B)})(w.type,x.type)||this.eu(w.doc,x.doc))),this.ou(s),o=o??!1;const p=t&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,h.length!==0||y?{snapshot:new Ko(this.query,e.tu,c,h,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Tb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new dE(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new hE(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=Ue();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Ko.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const iy="SyncEngine";class mN{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class pN{constructor(e){this.key=e,this.hu=!1}}class gN{constructor(e,t,s,o,c,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Ma((p=>k_(p)),Hd),this.Iu=new Map,this.Eu=new Set,this.du=new gt(we.comparator),this.Au=new Map,this.Ru=new Fg,this.Vu={},this.mu=new Map,this.fu=Yo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function yN(n,e,t=!0){const s=vE(n);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await fE(s,e,t,!0),o}async function vN(n,e){const t=vE(n);await fE(t,e,!0,!1)}async function fE(n,e,t,s){const o=await L6(n.localStore,Mr(e)),c=o.targetId,h=n.sharedClientState.addLocalQueryTarget(c,t);let p;return s&&(p=await wN(n,e,c,h==="current",o.resumeToken)),n.isPrimaryClient&&t&&sE(n.remoteStore,o),p}async function wN(n,e,t,s,o){n.pu=(x,A,I)=>(async function(Y,U,ee,Q){let se=U.view.ru(ee);se.Cs&&(se=await vb(Y.localStore,U.query,!1).then((({documents:k})=>U.view.ru(k,se))));const ie=Q&&Q.targetChanges.get(U.targetId),ae=Q&&Q.targetMismatches.get(U.targetId)!=null,ge=U.view.applyChanges(se,Y.isPrimaryClient,ie,ae);return Rb(Y,U.targetId,ge.au),ge.snapshot})(n,x,A,I);const c=await vb(n.localStore,e,!0),h=new fN(e,c.Qs),p=h.ru(c.documents),g=nu.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",o),y=h.applyChanges(p,n.isPrimaryClient,g);Rb(n,t,y.au);const w=new mN(e,t,h);return n.Tu.set(e,w),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),y.snapshot}async function bN(n,e,t){const s=Ie(n),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((h=>!Hd(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await rg(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Kg(s.remoteStore,o.targetId),ag(s,o.targetId)})).catch(tl)):(ag(s,o.targetId),await rg(s.localStore,o.targetId,!0))}async function _N(n,e){const t=Ie(n),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Kg(t.remoteStore,s.targetId))}async function EN(n,e,t){const s=NN(n);try{const o=await(function(h,p){const g=Ie(h),y=ut.now(),w=p.reduce(((I,B)=>I.add(B.key)),Ue());let x,A;return g.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let B=Si(),Y=Ue();return g.Ns.getEntries(I,w).next((U=>{B=U,B.forEach(((ee,Q)=>{Q.isValidDocument()||(Y=Y.add(ee))}))})).next((()=>g.localDocuments.getOverlayedDocuments(I,B))).next((U=>{x=U;const ee=[];for(const Q of p){const se=VR(Q,x.get(Q.key).overlayedDocument);se!=null&&ee.push(new Ms(Q.key,se,x_(se.value.mapValue),er.exists(!0)))}return g.mutationQueue.addMutationBatch(I,y,ee,p)})).next((U=>{A=U;const ee=U.applyToLocalDocumentSet(x,Y);return g.documentOverlayCache.saveOverlays(I,U.batchId,ee)}))})).then((()=>({batchId:A.batchId,changes:O_(x)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,p,g){let y=h.Vu[h.currentUser.toKey()];y||(y=new gt(Le)),y=y.insert(p,g),h.Vu[h.currentUser.toKey()]=y})(s,o.batchId,t),await iu(s,o.changes),await Qd(s.remoteStore)}catch(o){const c=Jg(o,"Failed to persist write");t.reject(c)}}async function mE(n,e){const t=Ie(n);try{const s=await M6(t.localStore,e);e.targetChanges.forEach(((o,c)=>{const h=t.Au.get(c);h&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Ke(h.hu,14607):o.removedDocuments.size>0&&(Ke(h.hu,42227),h.hu=!1))})),await iu(t,s,e)}catch(s){await tl(s)}}function Cb(n,e,t){const s=Ie(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((c,h)=>{const p=h.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(h,p){const g=Ie(h);g.onlineState=p;let y=!1;g.queries.forEach(((w,x)=>{for(const A of x.Sa)A.va(p)&&(y=!0)})),y&&ny(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function xN(n,e,t){const s=Ie(n);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),c=o&&o.key;if(c){let h=new gt(we.comparator);h=h.insert(c,un.newNoDocument(c,Re.min()));const p=Ue().add(c),g=new $d(Re.min(),new Map,new gt(Le),h,p);await mE(s,g),s.du=s.du.remove(c),s.Au.delete(e),sy(s)}else await rg(s.localStore,e,!1).then((()=>ag(s,e,t))).catch(tl)}async function TN(n,e){const t=Ie(n),s=e.batch.batchId;try{const o=await O6(t.localStore,e);gE(t,s,null),pE(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await iu(t,o)}catch(o){await tl(o)}}async function AN(n,e,t){const s=Ie(n);try{const o=await(function(h,p){const g=Ie(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let w;return g.mutationQueue.lookupMutationBatch(y,p).next((x=>(Ke(x!==null,37113),w=x.keys(),g.mutationQueue.removeMutationBatch(y,x)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,w,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w))).next((()=>g.localDocuments.getDocuments(y,w)))}))})(s.localStore,e);gE(s,e,t),pE(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await iu(s,o)}catch(o){await tl(o)}}function pE(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function gE(n,e,t){const s=Ie(n);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(t?c.reject(t):c.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function ag(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Iu.get(e))n.Tu.delete(s),t&&n.Pu.yu(s,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((s=>{n.Ru.containsKey(s)||yE(n,s)}))}function yE(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Kg(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),sy(n))}function Rb(n,e,t){for(const s of t)s instanceof hE?(n.Ru.addReference(s.key,e),SN(n,s)):s instanceof dE?(de(iy,"Document no longer in limbo: "+s.key),n.Ru.removeReference(s.key,e),n.Ru.containsKey(s.key)||yE(n,s.key)):Ae(19791,{wu:s})}function SN(n,e){const t=e.key,s=t.path.canonicalString();n.du.get(t)||n.Eu.has(s)||(de(iy,"New document in limbo: "+t),n.Eu.add(s),sy(n))}function sy(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new we(ot.fromString(e)),s=n.fu.next();n.Au.set(s,new pN(t)),n.du=n.du.insert(t,s),sE(n.remoteStore,new vs(Mr(zd(t.path)),s,"TargetPurposeLimboResolution",Ld.ce))}}async function iu(n,e,t){const s=Ie(n),o=[],c=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,g)=>{h.push(s.pu(g,e,t).then((y=>{if((y||t)&&s.isPrimaryClient){const w=y?!y.fromCache:t?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,w?"current":"not-current")}if(y){o.push(y);const w=$g.As(g.targetId,y);c.push(w)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(g,y){const w=Ie(g);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>ne.forEach(y,(A=>ne.forEach(A.Es,(I=>w.persistence.referenceDelegate.addReference(x,A.targetId,I))).next((()=>ne.forEach(A.ds,(I=>w.persistence.referenceDelegate.removeReference(x,A.targetId,I)))))))))}catch(x){if(!nl(x))throw x;de(Yg,"Failed to update sequence numbers: "+x)}for(const x of y){const A=x.targetId;if(!x.fromCache){const I=w.Ms.get(A),B=I.snapshotVersion,Y=I.withLastLimboFreeSnapshotVersion(B);w.Ms=w.Ms.insert(A,Y)}}})(s.localStore,c))}async function CN(n,e){const t=Ie(n);if(!t.currentUser.isEqual(e)){de(iy,"User change. New user:",e.toKey());const s=await tE(t.localStore,e);t.currentUser=e,(function(c,h){c.mu.forEach((p=>{p.forEach((g=>{g.reject(new ue(J.CANCELLED,h))}))})),c.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await iu(t,s.Ls)}}function RN(n,e){const t=Ie(n),s=t.Au.get(e);if(s&&s.hu)return Ue().add(s.key);{let o=Ue();const c=t.Iu.get(e);if(!c)return o;for(const h of c){const p=t.Tu.get(h);o=o.unionWith(p.view.nu)}return o}}function vE(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=mE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xN.bind(null,e),e.Pu.H_=hN.bind(null,e.eventManager),e.Pu.yu=dN.bind(null,e.eventManager),e}function NN(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=AN.bind(null,e),e}class gd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return j6(this.persistence,new I6,e.initialUser,this.serializer)}Cu(e){return new eE(Gg.mi,this.serializer)}Du(e){return new B6}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gd.provider={build:()=>new gd};class IN extends gd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ke(this.persistence.referenceDelegate instanceof md,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new p6(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new eE((s=>md.mi(s,t)),this.serializer)}}class og{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Cb(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=CN.bind(null,this.syncEngine),await lN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new uN})()}createDatastore(e){const t=Yd(e.databaseInfo.databaseId),s=(function(c){return new G6(c)})(e.databaseInfo);return(function(c,h,p,g){return new Q6(c,h,p,g)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,c,h,p){return new W6(s,o,c,h,p)})(this.localStore,this.datastore,e.asyncQueue,(t=>Cb(this.syncEngine,t,0)),(function(){return _b.v()?new _b:new z6})())}createSyncEngine(e,t){return(function(o,c,h,p,g,y,w){const x=new gN(o,c,h,p,g,y);return w&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=Ie(t);de(Da,"RemoteStore shutting down."),s.Ea.add(5),await ru(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}og.provider={build:()=>new og};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ai("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="FirestoreClient";class kN{constructor(e,t,s,o,c){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=cn.UNAUTHENTICATED,this.clientId=jg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async h=>{de(Ds,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(de(Ds,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Jg(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function kp(n,e){n.asyncQueue.verifyOperationInProgress(),de(Ds,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener((async o=>{s.isEqual(o)||(await tE(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function Nb(n,e){n.asyncQueue.verifyOperationInProgress();const t=await DN(n);de(Ds,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((s=>xb(e.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,o)=>xb(e.remoteStore,o))),n._onlineComponents=e}async function DN(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){de(Ds,"Using user provided OfflineComponentProvider");try{await kp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;qo("Error using user provided cache. Falling back to memory cache: "+t),await kp(n,new gd)}}else de(Ds,"Using default OfflineComponentProvider"),await kp(n,new IN(void 0));return n._offlineComponents}async function wE(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(de(Ds,"Using user provided OnlineComponentProvider"),await Nb(n,n._uninitializedComponentsProvider._online)):(de(Ds,"Using default OnlineComponentProvider"),await Nb(n,new og))),n._onlineComponents}function jN(n){return wE(n).then((e=>e.syncEngine))}async function yd(n){const e=await wE(n),t=e.eventManager;return t.onListen=yN.bind(null,e.syncEngine),t.onUnlisten=bN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=vN.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=_N.bind(null,e.syncEngine),t}function ON(n,e,t={}){const s=new vi;return n.asyncQueue.enqueueAndForget((async()=>(function(c,h,p,g,y){const w=new ay({next:A=>{w.Nu(),h.enqueueAndForget((()=>ty(c,x)));const I=A.docs.has(p);!I&&A.fromCache?y.reject(new ue(J.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&A.fromCache&&g&&g.source==="server"?y.reject(new ue(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(A)},error:A=>y.reject(A)}),x=new ry(zd(p.path),w,{includeMetadataChanges:!0,qa:!0});return ey(c,x)})(await yd(n),n.asyncQueue,e,t,s))),s.promise}function MN(n,e,t={}){const s=new vi;return n.asyncQueue.enqueueAndForget((async()=>(function(c,h,p,g,y){const w=new ay({next:A=>{w.Nu(),h.enqueueAndForget((()=>ty(c,x))),A.fromCache&&g.source==="server"?y.reject(new ue(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(A)},error:A=>y.reject(A)}),x=new ry(p,w,{includeMetadataChanges:!0,qa:!0});return ey(c,x)})(await yd(n),n.asyncQueue,e,t,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="firestore.googleapis.com",kb=!0;class Db{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_E,this.ssl=kb}else this.host=e.host,this.ssl=e.ssl??kb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=J_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<f6)throw new ue(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bE(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xd{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Db({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Db(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new BC;switch(s.type){case"firstParty":return new FC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=Ib.get(t);s&&(de("ComponentProvider","Removing Datastore"),Ib.delete(t),s.terminate())})(this),Promise.resolve()}}function PN(n,e,t,s={}){n=Sn(n,Xd);const o=Wo(e),c=n._getSettings(),h={...c,emulatorOptions:n._getEmulatorOptions()},p=`${e}:${t}`;o&&(f1(`https://${p}`),m1("Firestore",!0)),c.host!==_E&&c.host!==p&&qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:o,emulatorOptions:s};if(!Ra(g,h)&&(n._setSettings(g),s.mockUserToken)){let y,w;if(typeof s.mockUserToken=="string")y=s.mockUserToken,w=cn.MOCK_USER;else{y=X4(s.mockUserToken,n._app?.options.projectId);const x=s.mockUserToken.sub||s.mockUserToken.user_id;if(!x)throw new ue(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new cn(x)}n._authCredentials=new zC(new h_(y,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ps(this.firestore,e,this._query)}}class bt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new As(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bt(this.firestore,e,this._key)}toJSON(){return{type:bt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(eu(t,bt._jsonSchema))return new bt(e,s||null,new we(ot.fromString(t.referencePath)))}}bt._jsonSchemaVersion="firestore/documentReference/1.0",bt._jsonSchema={type:Ot("string",bt._jsonSchemaVersion),referencePath:Ot("string")};class As extends Ps{constructor(e,t,s){super(e,t,zd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new we(e))}withConverter(e){return new As(this.firestore,e,this._path)}}function Ss(n,e,...t){if(n=Mt(n),d_("collection","path",e),n instanceof Xd){const s=ot.fromString(e,...t);return Gw(s),new As(n,null,s)}{if(!(n instanceof bt||n instanceof As))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(ot.fromString(e,...t));return Gw(s),new As(n.firestore,null,s)}}function yr(n,e,...t){if(n=Mt(n),arguments.length===1&&(e=jg.newId()),d_("doc","path",e),n instanceof Xd){const s=ot.fromString(e,...t);return Fw(s),new bt(n,null,new we(s))}{if(!(n instanceof bt||n instanceof As))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(ot.fromString(e,...t));return Fw(s),new bt(n.firestore,n instanceof As?n.converter:null,new we(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="AsyncQueue";class Ob{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new rE(this,"async_queue_retry"),this._c=()=>{const s=Ip();s&&de(jb,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=Ip();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Ip();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new vi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!nl(e))throw e;de(jb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ai("INTERNAL UNHANDLED ERROR: ",Mb(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Zg.createAndSchedule(this,e,t,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Ae(47125,{Pc:Mb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Mb(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(n){return(function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1})(n,["next","error","complete"])}class Ci extends Xd{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new Ob,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ob(e),this._firestoreClient=void 0,await e}}}function VN(n,e){const t=typeof n=="object"?n:v1(),s=typeof n=="string"?n:cd,o=bg(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=K4("firestore");c&&PN(o,...c)}return o}function Wd(n){if(n._terminated)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||LN(n),n._firestoreClient}function LN(n){const e=n._freezeSettings(),t=(function(o,c,h,p){return new oR(o,c,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,bE(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new kN(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jn(nn.fromBase64String(e))}catch(t){throw new ue(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Jn(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(eu(e,Jn._jsonSchema))return Jn.fromBase64String(e.bytes)}}Jn._jsonSchemaVersion="firestore/bytes/1.0",Jn._jsonSchema={type:Ot("string",Jn._jsonSchemaVersion),bytes:Ot("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ue(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ue(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ue(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vr._jsonSchemaVersion}}static fromJSON(e){if(eu(e,Vr._jsonSchema))return new Vr(e.latitude,e.longitude)}}Vr._jsonSchemaVersion="firestore/geoPoint/1.0",Vr._jsonSchema={type:Ot("string",Vr._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Lr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(eu(e,Lr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Lr(e.vectorValues);throw new ue(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Lr._jsonSchemaVersion="firestore/vectorValue/1.0",Lr._jsonSchema={type:Ot("string",Lr._jsonSchemaVersion),vectorValues:Ot("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=/^__.*__$/;class BN{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Ms(e,this.data,this.fieldMask,t,this.fieldTransforms):new tu(e,this.data,t,this.fieldTransforms)}}class EE{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Ms(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function xE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:n})}}class oy{constructor(e,t,s,o,c,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new oy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return vd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(xE(this.Ac)&&UN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class zN{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Yd(e)}Cc(e,t,s,o=!1){return new oy({Ac:e,methodName:t,Dc:s,path:tn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ef(n){const e=n._freezeSettings(),t=Yd(n._databaseId);return new zN(n._databaseId,!!e.ignoreUndefinedProperties,t)}function TE(n,e,t,s,o,c={}){const h=n.Cc(c.merge||c.mergeFields?2:0,e,t,o);cy("Data must be an object, but it was:",h,s);const p=AE(s,h);let g,y;if(c.merge)g=new Vn(h.fieldMask),y=h.fieldTransforms;else if(c.mergeFields){const w=[];for(const x of c.mergeFields){const A=lg(e,x,t);if(!h.contains(A))throw new ue(J.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);CE(w,A)||w.push(A)}g=new Vn(w),y=h.fieldTransforms.filter((x=>g.covers(x.field)))}else g=null,y=h.fieldTransforms;return new BN(new An(p),g,y)}class tf extends Jd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tf}}class ly extends Jd{_toFieldTransform(e){return new jR(e.path,new Gc)}isEqual(e){return e instanceof ly}}function HN(n,e,t,s){const o=n.Cc(1,e,t);cy("Data must be an object, but it was:",o,s);const c=[],h=An.empty();Os(s,((g,y)=>{const w=uy(e,g,t);y=Mt(y);const x=o.yc(w);if(y instanceof tf)c.push(w);else{const A=su(y,x);A!=null&&(c.push(w),h.set(w,A))}}));const p=new Vn(c);return new EE(h,p,o.fieldTransforms)}function qN(n,e,t,s,o,c){const h=n.Cc(1,e,t),p=[lg(e,s,t)],g=[o];if(c.length%2!=0)throw new ue(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<c.length;A+=2)p.push(lg(e,c[A])),g.push(c[A+1]);const y=[],w=An.empty();for(let A=p.length-1;A>=0;--A)if(!CE(y,p[A])){const I=p[A];let B=g[A];B=Mt(B);const Y=h.yc(I);if(B instanceof tf)y.push(I);else{const U=su(B,Y);U!=null&&(y.push(I),w.set(I,U))}}const x=new Vn(y);return new EE(w,x,h.fieldTransforms)}function FN(n,e,t,s=!1){return su(t,n.Cc(s?4:3,e))}function su(n,e){if(SE(n=Mt(n)))return cy("Unsupported field value:",e,n),AE(n,e);if(n instanceof Jd)return(function(s,o){if(!xE(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const c=[];let h=0;for(const p of s){let g=su(p,o.wc(h));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),h++}return{arrayValue:{values:c}}})(n,e)}return(function(s,o){if((s=Mt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return IR(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=ut.fromDate(s);return{timestampValue:fd(o.serializer,c)}}if(s instanceof ut){const c=new ut(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:fd(o.serializer,c)}}if(s instanceof Vr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Jn)return{bytesValue:$_(o.serializer,s._byteString)};if(s instanceof bt){const c=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(c))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:qg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Lr)return(function(h,p){return{mapValue:{fields:{[__]:{stringValue:E_},[ud]:{arrayValue:{values:h.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Ug(p.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Vd(s)}`)})(n,e)}function AE(n,e){const t={};return p_(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Os(n,((s,o)=>{const c=su(o,e.mc(s));c!=null&&(t[s]=c)})),{mapValue:{fields:t}}}function SE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ut||n instanceof Vr||n instanceof Jn||n instanceof bt||n instanceof Jd||n instanceof Lr)}function cy(n,e,t){if(!SE(t)||!f_(t)){const s=Vd(t);throw s==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+s)}}function lg(n,e,t){if((e=Mt(e))instanceof Zd)return e._internalPath;if(typeof e=="string")return uy(n,e);throw vd("Field path arguments must be of type string or ",n,!1,void 0,t)}const GN=new RegExp("[~\\*/\\[\\]]");function uy(n,e,t){if(e.search(GN)>=0)throw vd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Zd(...e.split("."))._internalPath}catch{throw vd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function vd(n,e,t,s,o){const c=s&&!s.isEmpty(),h=o!==void 0;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||h)&&(g+=" (found",c&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new ue(J.INVALID_ARGUMENT,p+n+g)}function CE(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e,t,s,o,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $N(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(nf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class $N extends RE{data(){return super.data()}}function nf(n,e){return typeof e=="string"?uy(n,e):e instanceof Zd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ue(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hy{}class IE extends hy{}function jc(n,e,...t){let s=[];e instanceof hy&&s.push(e),s=s.concat(t),(function(c){const h=c.filter((g=>g instanceof dy)).length,p=c.filter((g=>g instanceof rf)).length;if(h>1||h>0&&p>0)throw new ue(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)n=o._apply(n);return n}class rf extends IE{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new rf(e,t,s)}_apply(e){const t=this._parse(e);return kE(e._query,t),new Ps(e.firestore,e.converter,Wp(e._query,t))}_parse(e){const t=ef(e.firestore);return(function(c,h,p,g,y,w,x){let A;if(y.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new ue(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){Lb(x,w);const B=[];for(const Y of x)B.push(Vb(g,c,Y));A={arrayValue:{values:B}}}else A=Vb(g,c,x)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||Lb(x,w),A=FN(p,h,x,w==="in"||w==="not-in");return jt.create(y,w,A)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function YN(n,e,t){const s=e,o=nf("where",n);return rf._create(o,s,t)}class dy extends hy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new dy(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:gr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,c){let h=o;const p=c.getFlattenedFilters();for(const g of p)kE(h,g),h=Wp(h,g)})(e._query,t),new Ps(e.firestore,e.converter,Wp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class fy extends IE{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new fy(e,t)}_apply(e){const t=(function(o,c,h){if(o.startAt!==null)throw new ue(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ue(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Fc(c,h)})(e._query,this._field,this._direction);return new Ps(e.firestore,e.converter,(function(o,c){const h=o.explicitOrderBy.concat([c]);return new rl(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function Oc(n,e="asc"){const t=e,s=nf("orderBy",n);return fy._create(s,t)}function Vb(n,e,t){if(typeof(t=Mt(t))=="string"){if(t==="")throw new ue(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!I_(e)&&t.indexOf("/")!==-1)throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(ot.fromString(t));if(!we.isDocumentKey(s))throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Jw(n,new we(s))}if(t instanceof bt)return Jw(n,t._key);throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vd(t)}.`)}function Lb(n,e){if(!Array.isArray(n)||n.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kE(n,e){const t=(function(o,c){for(const h of o)for(const p of h.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ue(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class KN{convertValue(e,t="none"){switch(Is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ns(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Os(e,((o,c)=>{s[o]=this.convertValue(c,t)})),s}convertVectorValue(e){const t=e.fields?.[ud].arrayValue?.values?.map((s=>Rt(s.doubleValue)));return new Lr(t)}convertGeoPoint(e){return new Vr(Rt(e.latitude),Rt(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Bd(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(zc(e));default:return null}}convertTimestamp(e){const t=Rs(e);return new ut(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=ot.fromString(e);Ke(Z_(s),9688,{name:e});const o=new Hc(s.get(1),s.get(3)),c=new we(s.popFirst(5));return o.isEqual(t)||Ai(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}class Ac{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Aa extends RE{constructor(e,t,s,o,c,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Wh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(nf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Aa._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Aa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Aa._jsonSchema={type:Ot("string",Aa._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class Wh extends Aa{data(e={}){return super.data(e)}}class Sa{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Ac(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new Wh(this._firestore,this._userDataWriter,s.key,s,new Ac(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ue(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((p=>{const g=new Wh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ac(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new Wh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ac(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,w=-1;return p.type!==0&&(y=h.indexOf(p.doc.key),h=h.delete(p.doc.key)),p.type!==1&&(h=h.add(p.doc),w=h.indexOf(p.doc.key)),{type:QN(p.type),doc:g,oldIndex:y,newIndex:w}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Sa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=jg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(t.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function QN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(n){n=Sn(n,bt);const e=Sn(n.firestore,Ci);return ON(Wd(e),n._key).then((t=>ME(e,n,t)))}Sa._jsonSchemaVersion="firestore/querySnapshot/1.0",Sa._jsonSchema={type:Ot("string",Sa._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class my extends KN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,t)}}function jE(n){n=Sn(n,Ps);const e=Sn(n.firestore,Ci),t=Wd(e),s=new my(e);return NE(n._query),MN(t,n._query).then((o=>new Sa(e,s,n,o)))}function Ub(n,e,t){n=Sn(n,bt);const s=Sn(n.firestore,Ci),o=DE(n.converter,e,t);return af(s,[TE(ef(s),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,er.none())])}function py(n,e,t,...s){n=Sn(n,bt);const o=Sn(n.firestore,Ci),c=ef(o);let h;return h=typeof(e=Mt(e))=="string"||e instanceof Zd?qN(c,"updateDoc",n._key,e,t,s):HN(c,"updateDoc",n._key,e),af(o,[h.toMutation(n._key,er.exists(!0))])}function OE(n){return af(Sn(n.firestore,Ci),[new Bg(n._key,er.none())])}function gy(n,e){const t=Sn(n.firestore,Ci),s=yr(n),o=DE(n.converter,e);return af(t,[TE(ef(n.firestore),"addDoc",s._key,o,n.converter!==null,{}).toMutation(s._key,er.exists(!1))]).then((()=>s))}function XN(n,...e){n=Mt(n);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Pb(e[s])||(t=e[s++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Pb(e[s])){const g=e[s];e[s]=g.next?.bind(g),e[s+1]=g.error?.bind(g),e[s+2]=g.complete?.bind(g)}let c,h,p;if(n instanceof bt)h=Sn(n.firestore,Ci),p=zd(n._key.path),c={next:g=>{e[s]&&e[s](ME(h,n,g))},error:e[s+1],complete:e[s+2]};else{const g=Sn(n,Ps);h=Sn(g.firestore,Ci),p=g._query;const y=new my(h);c={next:w=>{e[s]&&e[s](new Sa(h,y,g,w))},error:e[s+1],complete:e[s+2]},NE(n._query)}return(function(y,w,x,A){const I=new ay(A),B=new ry(w,I,x);return y.asyncQueue.enqueueAndForget((async()=>ey(await yd(y),B))),()=>{I.Nu(),y.asyncQueue.enqueueAndForget((async()=>ty(await yd(y),B)))}})(Wd(h),p,o,c)}function af(n,e){return(function(s,o){const c=new vi;return s.asyncQueue.enqueueAndForget((async()=>EN(await jN(s),o,c))),c.promise})(Wd(n),e)}function ME(n,e,t){const s=t.docs.get(e._key),o=new my(n);return new Aa(n,o,e._key,s,new Ac(t.hasPendingWrites,t.fromCache),e.converter)}function cg(){return new ly("serverTimestamp")}(function(e,t=!0){(function(o){el=o})(Zo),Ho(new Na("firestore",((s,{instanceIdentifier:o,options:c})=>{const h=s.getProvider("app").getImmediate(),p=new Ci(new HC(s.getProvider("auth-internal")),new GC(h,s.getProvider("app-check-internal")),(function(y,w){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ue(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hc(y.options.projectId,w)})(h,o),h);return c={useFetchStreams:t,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),xs(Bw,zw,e),xs(Bw,zw,"esm2020")})();const WN={apiKey:"AIzaSyA20qOFuyhChuTklwBdkSnpF5yqclwsFzo",authDomain:"nextreadproject.firebaseapp.com",projectId:"nextreadproject",storageBucket:"nextreadproject.firebasestorage.app",messagingSenderId:"991913423699",appId:"1:991913423699:web:4cba2c58fcc3729d6c67a6"},PE=y1(WN),Ur=LC(PE),yy=new fi,vy=new mi,wy=new di,Yt=VN(PE);/*!
* sweetalert2 v11.23.0
* Released under the MIT License.
*/function VE(n,e,t){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function ZN(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Bb(n,e){return n.get(VE(n,e))}function JN(n,e,t){ZN(n,e),e.set(n,t)}function e5(n,e,t){return n.set(VE(n,e),t),t}const t5=100,_e={},n5=()=>{_e.previousActiveElement instanceof HTMLElement?(_e.previousActiveElement.focus(),_e.previousActiveElement=null):document.body&&document.body.focus()},r5=n=>new Promise(e=>{if(!n)return e();const t=window.scrollX,s=window.scrollY;_e.restoreFocusTimeout=setTimeout(()=>{n5(),e()},t5),window.scrollTo(t,s)}),LE="swal2-",i5=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],K=i5.reduce((n,e)=>(n[e]=LE+e,n),{}),s5=["success","warning","info","question","error"],wd=s5.reduce((n,e)=>(n[e]=LE+e,n),{}),UE="SweetAlert2:",by=n=>n.charAt(0).toUpperCase()+n.slice(1),vn=n=>{console.warn(`${UE} ${typeof n=="object"?n.join(" "):n}`)},Va=n=>{console.error(`${UE} ${n}`)},zb=[],a5=n=>{zb.includes(n)||(zb.push(n),vn(n))},BE=(n,e=null)=>{a5(`"${n}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},of=n=>typeof n=="function"?n():n,_y=n=>n&&typeof n.toPromise=="function",au=n=>_y(n)?n.toPromise():Promise.resolve(n),Ey=n=>n&&Promise.resolve(n)===n,wn=()=>document.body.querySelector(`.${K.container}`),ou=n=>{const e=wn();return e?e.querySelector(n):null},Un=n=>ou(`.${n}`),Ge=()=>Un(K.popup),sl=()=>Un(K.icon),o5=()=>Un(K["icon-content"]),zE=()=>Un(K.title),xy=()=>Un(K["html-container"]),HE=()=>Un(K.image),Ty=()=>Un(K["progress-steps"]),lf=()=>Un(K["validation-message"]),zr=()=>ou(`.${K.actions} .${K.confirm}`),al=()=>ou(`.${K.actions} .${K.cancel}`),La=()=>ou(`.${K.actions} .${K.deny}`),l5=()=>Un(K["input-label"]),ol=()=>ou(`.${K.loader}`),lu=()=>Un(K.actions),qE=()=>Un(K.footer),cf=()=>Un(K["timer-progress-bar"]),Ay=()=>Un(K.close),c5=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Sy=()=>{const n=Ge();if(!n)return[];const e=n.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),t=Array.from(e).sort((c,h)=>{const p=parseInt(c.getAttribute("tabindex")||"0"),g=parseInt(h.getAttribute("tabindex")||"0");return p>g?1:p<g?-1:0}),s=n.querySelectorAll(c5),o=Array.from(s).filter(c=>c.getAttribute("tabindex")!=="-1");return[...new Set(t.concat(o))].filter(c=>Cn(c))},Cy=()=>wi(document.body,K.shown)&&!wi(document.body,K["toast-shown"])&&!wi(document.body,K["no-backdrop"]),uf=()=>{const n=Ge();return n?wi(n,K.toast):!1},u5=()=>{const n=Ge();return n?n.hasAttribute("data-loading"):!1},Bn=(n,e)=>{if(n.textContent="",e){const s=new DOMParser().parseFromString(e,"text/html"),o=s.querySelector("head");o&&Array.from(o.childNodes).forEach(h=>{n.appendChild(h)});const c=s.querySelector("body");c&&Array.from(c.childNodes).forEach(h=>{h instanceof HTMLVideoElement||h instanceof HTMLAudioElement?n.appendChild(h.cloneNode(!0)):n.appendChild(h)})}},wi=(n,e)=>{if(!e)return!1;const t=e.split(/\s+/);for(let s=0;s<t.length;s++)if(!n.classList.contains(t[s]))return!1;return!0},h5=(n,e)=>{Array.from(n.classList).forEach(t=>{!Object.values(K).includes(t)&&!Object.values(wd).includes(t)&&!Object.values(e.showClass||{}).includes(t)&&n.classList.remove(t)})},Ln=(n,e,t)=>{if(h5(n,e),!e.customClass)return;const s=e.customClass[t];if(s){if(typeof s!="string"&&!s.forEach){vn(`Invalid type of customClass.${t}! Expected string or iterable object, got "${typeof s}"`);return}Ye(n,s)}},hf=(n,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return n.querySelector(`.${K.popup} > .${K[e]}`);case"checkbox":return n.querySelector(`.${K.popup} > .${K.checkbox} input`);case"radio":return n.querySelector(`.${K.popup} > .${K.radio} input:checked`)||n.querySelector(`.${K.popup} > .${K.radio} input:first-child`);case"range":return n.querySelector(`.${K.popup} > .${K.range} input`);default:return n.querySelector(`.${K.popup} > .${K.input}`)}},FE=n=>{if(n.focus(),n.type!=="file"){const e=n.value;n.value="",n.value=e}},GE=(n,e,t)=>{!n||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(s=>{Array.isArray(n)?n.forEach(o=>{t?o.classList.add(s):o.classList.remove(s)}):t?n.classList.add(s):n.classList.remove(s)}))},Ye=(n,e)=>{GE(n,e,!0)},nr=(n,e)=>{GE(n,e,!1)},ws=(n,e)=>{const t=Array.from(n.children);for(let s=0;s<t.length;s++){const o=t[s];if(o instanceof HTMLElement&&wi(o,e))return o}},Ca=(n,e,t)=>{t===`${parseInt(t)}`&&(t=parseInt(t)),t||parseInt(t)===0?n.style.setProperty(e,typeof t=="number"?`${t}px`:t):n.style.removeProperty(e)},Kt=(n,e="flex")=>{n&&(n.style.display=e)},dn=n=>{n&&(n.style.display="none")},Ry=(n,e="block")=>{n&&new MutationObserver(()=>{cu(n,n.innerHTML,e)}).observe(n,{childList:!0,subtree:!0})},Hb=(n,e,t,s)=>{const o=n.querySelector(e);o&&o.style.setProperty(t,s)},cu=(n,e,t="flex")=>{e?Kt(n,t):dn(n)},Cn=n=>!!(n&&(n.offsetWidth||n.offsetHeight||n.getClientRects().length)),d5=()=>!Cn(zr())&&!Cn(La())&&!Cn(al()),ug=n=>n.scrollHeight>n.clientHeight,f5=(n,e)=>{let t=n;for(;t&&t!==e;){if(ug(t))return!0;t=t.parentElement}return!1},$E=n=>{const e=window.getComputedStyle(n),t=parseFloat(e.getPropertyValue("animation-duration")||"0"),s=parseFloat(e.getPropertyValue("transition-duration")||"0");return t>0||s>0},Ny=(n,e=!1)=>{const t=cf();t&&Cn(t)&&(e&&(t.style.transition="none",t.style.width="100%"),setTimeout(()=>{t.style.transition=`width ${n/1e3}s linear`,t.style.width="0%"},10))},m5=()=>{const n=cf();if(!n)return;const e=parseInt(window.getComputedStyle(n).width);n.style.removeProperty("transition"),n.style.width="100%";const t=parseInt(window.getComputedStyle(n).width),s=e/t*100;n.style.width=`${s}%`},p5=()=>typeof window>"u"||typeof document>"u",g5=`
 <div aria-labelledby="${K.title}" aria-describedby="${K["html-container"]}" class="${K.popup}" tabindex="-1">
   <button type="button" class="${K.close}"></button>
   <ul class="${K["progress-steps"]}"></ul>
   <div class="${K.icon}"></div>
   <img class="${K.image}" />
   <h2 class="${K.title}" id="${K.title}"></h2>
   <div class="${K["html-container"]}" id="${K["html-container"]}"></div>
   <input class="${K.input}" id="${K.input}" />
   <input type="file" class="${K.file}" />
   <div class="${K.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${K.select}" id="${K.select}"></select>
   <div class="${K.radio}"></div>
   <label class="${K.checkbox}">
     <input type="checkbox" id="${K.checkbox}" />
     <span class="${K.label}"></span>
   </label>
   <textarea class="${K.textarea}" id="${K.textarea}"></textarea>
   <div class="${K["validation-message"]}" id="${K["validation-message"]}"></div>
   <div class="${K.actions}">
     <div class="${K.loader}"></div>
     <button type="button" class="${K.confirm}"></button>
     <button type="button" class="${K.deny}"></button>
     <button type="button" class="${K.cancel}"></button>
   </div>
   <div class="${K.footer}"></div>
   <div class="${K["timer-progress-bar-container"]}">
     <div class="${K["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),y5=()=>{const n=wn();return n?(n.remove(),nr([document.documentElement,document.body],[K["no-backdrop"],K["toast-shown"],K["has-column"]]),!0):!1},ba=()=>{_e.currentInstance.resetValidationMessage()},v5=()=>{const n=Ge(),e=ws(n,K.input),t=ws(n,K.file),s=n.querySelector(`.${K.range} input`),o=n.querySelector(`.${K.range} output`),c=ws(n,K.select),h=n.querySelector(`.${K.checkbox} input`),p=ws(n,K.textarea);e.oninput=ba,t.onchange=ba,c.onchange=ba,h.onchange=ba,p.oninput=ba,s.oninput=()=>{ba(),o.value=s.value},s.onchange=()=>{ba(),o.value=s.value}},w5=n=>typeof n=="string"?document.querySelector(n):n,b5=n=>{const e=Ge();e.setAttribute("role",n.toast?"alert":"dialog"),e.setAttribute("aria-live",n.toast?"polite":"assertive"),n.toast||e.setAttribute("aria-modal","true")},_5=n=>{window.getComputedStyle(n).direction==="rtl"&&Ye(wn(),K.rtl)},E5=n=>{const e=y5();if(p5()){Va("SweetAlert2 requires document to initialize");return}const t=document.createElement("div");t.className=K.container,e&&Ye(t,K["no-transition"]),Bn(t,g5),t.dataset.swal2Theme=n.theme;const s=w5(n.target);s.appendChild(t),n.topLayer&&(t.setAttribute("popover",""),t.showPopover()),b5(n),_5(s),v5()},Iy=(n,e)=>{n instanceof HTMLElement?e.appendChild(n):typeof n=="object"?x5(n,e):n&&Bn(e,n)},x5=(n,e)=>{n.jquery?T5(e,n):Bn(e,n.toString())},T5=(n,e)=>{if(n.textContent="",0 in e)for(let t=0;t in e;t++)n.appendChild(e[t].cloneNode(!0));else n.appendChild(e.cloneNode(!0))},A5=(n,e)=>{const t=lu(),s=ol();!t||!s||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?dn(t):Kt(t),Ln(t,e,"actions"),S5(t,s,e),Bn(s,e.loaderHtml||""),Ln(s,e,"loader"))};function S5(n,e,t){const s=zr(),o=La(),c=al();!s||!o||!c||(jp(s,"confirm",t),jp(o,"deny",t),jp(c,"cancel",t),C5(s,o,c,t),t.reverseButtons&&(t.toast?(n.insertBefore(c,s),n.insertBefore(o,s)):(n.insertBefore(c,e),n.insertBefore(o,e),n.insertBefore(s,e))))}function C5(n,e,t,s){if(!s.buttonsStyling){nr([n,e,t],K.styled);return}Ye([n,e,t],K.styled),s.confirmButtonColor&&n.style.setProperty("--swal2-confirm-button-background-color",s.confirmButtonColor),s.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",s.denyButtonColor),s.cancelButtonColor&&t.style.setProperty("--swal2-cancel-button-background-color",s.cancelButtonColor),Dp(n),Dp(e),Dp(t)}function Dp(n){const e=window.getComputedStyle(n);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const t=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");n.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${t}`))}function jp(n,e,t){const s=by(e);cu(n,t[`show${s}Button`],"inline-block"),Bn(n,t[`${e}ButtonText`]||""),n.setAttribute("aria-label",t[`${e}ButtonAriaLabel`]||""),n.className=K[e],Ln(n,t,`${e}Button`)}const R5=(n,e)=>{const t=Ay();t&&(Bn(t,e.closeButtonHtml||""),Ln(t,e,"closeButton"),cu(t,e.showCloseButton),t.setAttribute("aria-label",e.closeButtonAriaLabel||""))},N5=(n,e)=>{const t=wn();t&&(I5(t,e.backdrop),k5(t,e.position),D5(t,e.grow),Ln(t,e,"container"))};function I5(n,e){typeof e=="string"?n.style.background=e:e||Ye([document.documentElement,document.body],K["no-backdrop"])}function k5(n,e){e&&(e in K?Ye(n,K[e]):(vn('The "position" parameter is not valid, defaulting to "center"'),Ye(n,K.center)))}function D5(n,e){e&&Ye(n,K[`grow-${e}`])}var lt={innerParams:new WeakMap,domCache:new WeakMap};const j5=["input","file","range","select","radio","checkbox","textarea"],O5=(n,e)=>{const t=Ge();if(!t)return;const s=lt.innerParams.get(n),o=!s||e.input!==s.input;j5.forEach(c=>{const h=ws(t,K[c]);h&&(V5(c,e.inputAttributes),h.className=K[c],o&&dn(h))}),e.input&&(o&&M5(e),L5(e))},M5=n=>{if(!n.input)return;if(!Ct[n.input]){Va(`Unexpected type of input! Expected ${Object.keys(Ct).join(" | ")}, got "${n.input}"`);return}const e=YE(n.input);if(!e)return;const t=Ct[n.input](e,n);Kt(e),n.inputAutoFocus&&setTimeout(()=>{FE(t)})},P5=n=>{for(let e=0;e<n.attributes.length;e++){const t=n.attributes[e].name;["id","type","value","style"].includes(t)||n.removeAttribute(t)}},V5=(n,e)=>{const t=Ge();if(!t)return;const s=hf(t,n);if(s){P5(s);for(const o in e)s.setAttribute(o,e[o])}},L5=n=>{if(!n.input)return;const e=YE(n.input);e&&Ln(e,n,"input")},ky=(n,e)=>{!n.placeholder&&e.inputPlaceholder&&(n.placeholder=e.inputPlaceholder)},uu=(n,e,t)=>{if(t.inputLabel){const s=document.createElement("label"),o=K["input-label"];s.setAttribute("for",n.id),s.className=o,typeof t.customClass=="object"&&Ye(s,t.customClass.inputLabel),s.innerText=t.inputLabel,e.insertAdjacentElement("beforebegin",s)}},YE=n=>{const e=Ge();if(e)return ws(e,K[n]||K.input)},bd=(n,e)=>{["string","number"].includes(typeof e)?n.value=`${e}`:Ey(e)||vn(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},Ct={};Ct.text=Ct.email=Ct.password=Ct.number=Ct.tel=Ct.url=Ct.search=Ct.date=Ct["datetime-local"]=Ct.time=Ct.week=Ct.month=(n,e)=>(bd(n,e.inputValue),uu(n,n,e),ky(n,e),n.type=e.input,n);Ct.file=(n,e)=>(uu(n,n,e),ky(n,e),n);Ct.range=(n,e)=>{const t=n.querySelector("input"),s=n.querySelector("output");return bd(t,e.inputValue),t.type=e.input,bd(s,e.inputValue),uu(t,n,e),n};Ct.select=(n,e)=>{if(n.textContent="",e.inputPlaceholder){const t=document.createElement("option");Bn(t,e.inputPlaceholder),t.value="",t.disabled=!0,t.selected=!0,n.appendChild(t)}return uu(n,n,e),n};Ct.radio=n=>(n.textContent="",n);Ct.checkbox=(n,e)=>{const t=hf(Ge(),"checkbox");t.value="1",t.checked=!!e.inputValue;const s=n.querySelector("span");return Bn(s,e.inputPlaceholder||e.inputLabel),t};Ct.textarea=(n,e)=>{bd(n,e.inputValue),ky(n,e),uu(n,n,e);const t=s=>parseInt(window.getComputedStyle(s).marginLeft)+parseInt(window.getComputedStyle(s).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const s=parseInt(window.getComputedStyle(Ge()).width),o=()=>{if(!document.body.contains(n))return;const c=n.offsetWidth+t(n);c>s?Ge().style.width=`${c}px`:Ca(Ge(),"width",e.width)};new MutationObserver(o).observe(n,{attributes:!0,attributeFilter:["style"]})}}),n};const U5=(n,e)=>{const t=xy();t&&(Ry(t),Ln(t,e,"htmlContainer"),e.html?(Iy(e.html,t),Kt(t,"block")):e.text?(t.textContent=e.text,Kt(t,"block")):dn(t),O5(n,e))},B5=(n,e)=>{const t=qE();t&&(Ry(t),cu(t,e.footer,"block"),e.footer&&Iy(e.footer,t),Ln(t,e,"footer"))},z5=(n,e)=>{const t=lt.innerParams.get(n),s=sl();if(!s)return;if(t&&e.icon===t.icon){Fb(s,e),qb(s,e);return}if(!e.icon&&!e.iconHtml){dn(s);return}if(e.icon&&Object.keys(wd).indexOf(e.icon)===-1){Va(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),dn(s);return}Kt(s),Fb(s,e),qb(s,e),Ye(s,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",KE)},qb=(n,e)=>{for(const[t,s]of Object.entries(wd))e.icon!==t&&nr(n,s);Ye(n,e.icon&&wd[e.icon]),F5(n,e),KE(),Ln(n,e,"icon")},KE=()=>{const n=Ge();if(!n)return;const e=window.getComputedStyle(n).getPropertyValue("background-color"),t=n.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let s=0;s<t.length;s++)t[s].style.backgroundColor=e},H5=n=>`
  ${n.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${n.animation?'<div class="swal2-success-fix"></div>':""}
  ${n.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,q5=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Fb=(n,e)=>{if(!e.icon&&!e.iconHtml)return;let t=n.innerHTML,s="";e.iconHtml?s=Gb(e.iconHtml):e.icon==="success"?(s=H5(e),t=t.replace(/ style=".*?"/g,"")):e.icon==="error"?s=q5:e.icon&&(s=Gb({question:"?",warning:"!",info:"i"}[e.icon])),t.trim()!==s.trim()&&Bn(n,s)},F5=(n,e)=>{if(e.iconColor){n.style.color=e.iconColor,n.style.borderColor=e.iconColor;for(const t of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Hb(n,t,"background-color",e.iconColor);Hb(n,".swal2-success-ring","border-color",e.iconColor)}},Gb=n=>`<div class="${K["icon-content"]}">${n}</div>`,G5=(n,e)=>{const t=HE();if(t){if(!e.imageUrl){dn(t);return}Kt(t,""),t.setAttribute("src",e.imageUrl),t.setAttribute("alt",e.imageAlt||""),Ca(t,"width",e.imageWidth),Ca(t,"height",e.imageHeight),t.className=K.image,Ln(t,e,"image")}};let Dy=!1,QE=0,XE=0,WE=0,ZE=0;const $5=n=>{n.addEventListener("mousedown",_d),document.body.addEventListener("mousemove",Ed),n.addEventListener("mouseup",xd),n.addEventListener("touchstart",_d),document.body.addEventListener("touchmove",Ed),n.addEventListener("touchend",xd)},Y5=n=>{n.removeEventListener("mousedown",_d),document.body.removeEventListener("mousemove",Ed),n.removeEventListener("mouseup",xd),n.removeEventListener("touchstart",_d),document.body.removeEventListener("touchmove",Ed),n.removeEventListener("touchend",xd)},_d=n=>{const e=Ge();if(n.target===e||sl().contains(n.target)){Dy=!0;const t=JE(n);QE=t.clientX,XE=t.clientY,WE=parseInt(e.style.insetInlineStart)||0,ZE=parseInt(e.style.insetBlockStart)||0,Ye(e,"swal2-dragging")}},Ed=n=>{const e=Ge();if(Dy){let{clientX:t,clientY:s}=JE(n);e.style.insetInlineStart=`${WE+(t-QE)}px`,e.style.insetBlockStart=`${ZE+(s-XE)}px`}},xd=()=>{const n=Ge();Dy=!1,nr(n,"swal2-dragging")},JE=n=>{let e=0,t=0;return n.type.startsWith("mouse")?(e=n.clientX,t=n.clientY):n.type.startsWith("touch")&&(e=n.touches[0].clientX,t=n.touches[0].clientY),{clientX:e,clientY:t}},K5=(n,e)=>{const t=wn(),s=Ge();if(!(!t||!s)){if(e.toast){Ca(t,"width",e.width),s.style.width="100%";const o=ol();o&&s.insertBefore(o,sl())}else Ca(s,"width",e.width);Ca(s,"padding",e.padding),e.color&&(s.style.color=e.color),e.background&&(s.style.background=e.background),dn(lf()),Q5(s,e),e.draggable&&!e.toast?(Ye(s,K.draggable),$5(s)):(nr(s,K.draggable),Y5(s))}},Q5=(n,e)=>{const t=e.showClass||{};n.className=`${K.popup} ${Cn(n)?t.popup:""}`,e.toast?(Ye([document.documentElement,document.body],K["toast-shown"]),Ye(n,K.toast)):Ye(n,K.modal),Ln(n,e,"popup"),typeof e.customClass=="string"&&Ye(n,e.customClass),e.icon&&Ye(n,K[`icon-${e.icon}`])},X5=(n,e)=>{const t=Ty();if(!t)return;const{progressSteps:s,currentProgressStep:o}=e;if(!s||s.length===0||o===void 0){dn(t);return}Kt(t),t.textContent="",o>=s.length&&vn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),s.forEach((c,h)=>{const p=W5(c);if(t.appendChild(p),h===o&&Ye(p,K["active-progress-step"]),h!==s.length-1){const g=Z5(e);t.appendChild(g)}})},W5=n=>{const e=document.createElement("li");return Ye(e,K["progress-step"]),Bn(e,n),e},Z5=n=>{const e=document.createElement("li");return Ye(e,K["progress-step-line"]),n.progressStepsDistance&&Ca(e,"width",n.progressStepsDistance),e},J5=(n,e)=>{const t=zE();t&&(Ry(t),cu(t,e.title||e.titleText,"block"),e.title&&Iy(e.title,t),e.titleText&&(t.innerText=e.titleText),Ln(t,e,"title"))},ex=(n,e)=>{K5(n,e),N5(n,e),X5(n,e),z5(n,e),G5(n,e),J5(n,e),R5(n,e),U5(n,e),A5(n,e),B5(n,e);const t=Ge();typeof e.didRender=="function"&&t&&e.didRender(t),_e.eventEmitter.emit("didRender",t)},eI=()=>Cn(Ge()),tx=()=>{var n;return(n=zr())===null||n===void 0?void 0:n.click()},tI=()=>{var n;return(n=La())===null||n===void 0?void 0:n.click()},nI=()=>{var n;return(n=al())===null||n===void 0?void 0:n.click()},ll=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),nx=n=>{n.keydownTarget&&n.keydownHandlerAdded&&(n.keydownTarget.removeEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!1)},rI=(n,e,t)=>{nx(n),e.toast||(n.keydownHandler=s=>sI(e,s,t),n.keydownTarget=e.keydownListenerCapture?window:Ge(),n.keydownListenerCapture=e.keydownListenerCapture,n.keydownTarget.addEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!0)},hg=(n,e)=>{var t;const s=Sy();if(s.length){n=n+e,n===-2&&(n=s.length-1),n===s.length?n=0:n===-1&&(n=s.length-1),s[n].focus();return}(t=Ge())===null||t===void 0||t.focus()},rx=["ArrowRight","ArrowDown"],iI=["ArrowLeft","ArrowUp"],sI=(n,e,t)=>{n&&(e.isComposing||e.keyCode===229||(n.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?aI(e,n):e.key==="Tab"?oI(e):[...rx,...iI].includes(e.key)?lI(e.key):e.key==="Escape"&&cI(e,n,t)))},aI=(n,e)=>{if(!of(e.allowEnterKey))return;const t=hf(Ge(),e.input);if(n.target&&t&&n.target instanceof HTMLElement&&n.target.outerHTML===t.outerHTML){if(["textarea","file"].includes(e.input))return;tx(),n.preventDefault()}},oI=n=>{const e=n.target,t=Sy();let s=-1;for(let o=0;o<t.length;o++)if(e===t[o]){s=o;break}n.shiftKey?hg(s,-1):hg(s,1),n.stopPropagation(),n.preventDefault()},lI=n=>{const e=lu(),t=zr(),s=La(),o=al();if(!e||!t||!s||!o)return;const c=[t,s,o];if(document.activeElement instanceof HTMLElement&&!c.includes(document.activeElement))return;const h=rx.includes(n)?"nextElementSibling":"previousElementSibling";let p=document.activeElement;if(p){for(let g=0;g<e.children.length;g++){if(p=p[h],!p)return;if(p instanceof HTMLButtonElement&&Cn(p))break}p instanceof HTMLButtonElement&&p.focus()}},cI=(n,e,t)=>{n.preventDefault(),of(e.allowEscapeKey)&&t(ll.esc)};var Qo={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const uI=()=>{const n=wn();Array.from(document.body.children).forEach(t=>{t.contains(n)||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")||""),t.setAttribute("aria-hidden","true"))})},ix=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},sx=typeof window<"u"&&!!window.GestureEvent,hI=()=>{if(sx&&!wi(document.body,K.iosfix)){const n=document.body.scrollTop;document.body.style.top=`${n*-1}px`,Ye(document.body,K.iosfix),dI()}},dI=()=>{const n=wn();if(!n)return;let e;n.ontouchstart=t=>{e=fI(t)},n.ontouchmove=t=>{e&&(t.preventDefault(),t.stopPropagation())}},fI=n=>{const e=n.target,t=wn(),s=xy();return!t||!s||mI(n)||pI(n)?!1:e===t||!ug(t)&&e instanceof HTMLElement&&!f5(e,s)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(ug(s)&&s.contains(e))},mI=n=>n.touches&&n.touches.length&&n.touches[0].touchType==="stylus",pI=n=>n.touches&&n.touches.length>1,gI=()=>{if(wi(document.body,K.iosfix)){const n=parseInt(document.body.style.top,10);nr(document.body,K.iosfix),document.body.style.top="",document.body.scrollTop=n*-1}},yI=()=>{const n=document.createElement("div");n.className=K["scrollbar-measure"],document.body.appendChild(n);const e=n.getBoundingClientRect().width-n.clientWidth;return document.body.removeChild(n),e};let Bo=null;const vI=n=>{Bo===null&&(document.body.scrollHeight>window.innerHeight||n==="scroll")&&(Bo=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Bo+yI()}px`)},wI=()=>{Bo!==null&&(document.body.style.paddingRight=`${Bo}px`,Bo=null)};function ax(n,e,t,s){uf()?$b(n,s):(r5(t).then(()=>$b(n,s)),nx(_e)),sx?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),Cy()&&(wI(),gI(),ix()),bI()}function bI(){nr([document.documentElement,document.body],[K.shown,K["height-auto"],K["no-backdrop"],K["toast-shown"]])}function bs(n){n=EI(n);const e=Qo.swalPromiseResolve.get(this),t=_I(this);this.isAwaitingPromise?n.isDismissed||(hu(this),e(n)):t&&e(n)}const _I=n=>{const e=Ge();if(!e)return!1;const t=lt.innerParams.get(n);if(!t||wi(e,t.hideClass.popup))return!1;nr(e,t.showClass.popup),Ye(e,t.hideClass.popup);const s=wn();return nr(s,t.showClass.backdrop),Ye(s,t.hideClass.backdrop),xI(n,e,t),!0};function ox(n){const e=Qo.swalPromiseReject.get(this);hu(this),e&&e(n)}const hu=n=>{n.isAwaitingPromise&&(delete n.isAwaitingPromise,lt.innerParams.get(n)||n._destroy())},EI=n=>typeof n>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},n),xI=(n,e,t)=>{var s;const o=wn(),c=$E(e);typeof t.willClose=="function"&&t.willClose(e),(s=_e.eventEmitter)===null||s===void 0||s.emit("willClose",e),c?TI(n,e,o,t.returnFocus,t.didClose):ax(n,o,t.returnFocus,t.didClose)},TI=(n,e,t,s,o)=>{_e.swalCloseEventFinishedCallback=ax.bind(null,n,t,s,o);const c=function(h){if(h.target===e){var p;(p=_e.swalCloseEventFinishedCallback)===null||p===void 0||p.call(_e),delete _e.swalCloseEventFinishedCallback,e.removeEventListener("animationend",c),e.removeEventListener("transitionend",c)}};e.addEventListener("animationend",c),e.addEventListener("transitionend",c)},$b=(n,e)=>{setTimeout(()=>{var t;typeof e=="function"&&e.bind(n.params)(),(t=_e.eventEmitter)===null||t===void 0||t.emit("didClose"),n._destroy&&n._destroy()})},Xo=n=>{let e=Ge();if(e||new fe,e=Ge(),!e)return;const t=ol();uf()?dn(sl()):AI(e,n),Kt(t),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},AI=(n,e)=>{const t=lu(),s=ol();!t||!s||(!e&&Cn(zr())&&(e=zr()),Kt(t),e&&(dn(e),s.setAttribute("data-button-to-replace",e.className),t.insertBefore(s,e)),Ye([n,t],K.loading))},SI=(n,e)=>{e.input==="select"||e.input==="radio"?kI(n,e):["text","email","number","tel","textarea"].some(t=>t===e.input)&&(_y(e.inputValue)||Ey(e.inputValue))&&(Xo(zr()),DI(n,e))},CI=(n,e)=>{const t=n.getInput();if(!t)return null;switch(e.input){case"checkbox":return RI(t);case"radio":return NI(t);case"file":return II(t);default:return e.inputAutoTrim?t.value.trim():t.value}},RI=n=>n.checked?1:0,NI=n=>n.checked?n.value:null,II=n=>n.files&&n.files.length?n.getAttribute("multiple")!==null?n.files:n.files[0]:null,kI=(n,e)=>{const t=Ge();if(!t)return;const s=o=>{e.input==="select"?jI(t,Td(o),e):e.input==="radio"&&OI(t,Td(o),e)};_y(e.inputOptions)||Ey(e.inputOptions)?(Xo(zr()),au(e.inputOptions).then(o=>{n.hideLoading(),s(o)})):typeof e.inputOptions=="object"?s(e.inputOptions):Va(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},DI=(n,e)=>{const t=n.getInput();t&&(dn(t),au(e.inputValue).then(s=>{t.value=e.input==="number"?`${parseFloat(s)||0}`:`${s}`,Kt(t),t.focus(),n.hideLoading()}).catch(s=>{Va(`Error in inputValue promise: ${s}`),t.value="",Kt(t),t.focus(),n.hideLoading()}))};function jI(n,e,t){const s=ws(n,K.select);if(!s)return;const o=(c,h,p)=>{const g=document.createElement("option");g.value=p,Bn(g,h),g.selected=lx(p,t.inputValue),c.appendChild(g)};e.forEach(c=>{const h=c[0],p=c[1];if(Array.isArray(p)){const g=document.createElement("optgroup");g.label=h,g.disabled=!1,s.appendChild(g),p.forEach(y=>o(g,y[1],y[0]))}else o(s,p,h)}),s.focus()}function OI(n,e,t){const s=ws(n,K.radio);if(!s)return;e.forEach(c=>{const h=c[0],p=c[1],g=document.createElement("input"),y=document.createElement("label");g.type="radio",g.name=K.radio,g.value=h,lx(h,t.inputValue)&&(g.checked=!0);const w=document.createElement("span");Bn(w,p),w.className=K.label,y.appendChild(g),y.appendChild(w),s.appendChild(y)});const o=s.querySelectorAll("input");o.length&&o[0].focus()}const Td=n=>{const e=[];return n instanceof Map?n.forEach((t,s)=>{let o=t;typeof o=="object"&&(o=Td(o)),e.push([s,o])}):Object.keys(n).forEach(t=>{let s=n[t];typeof s=="object"&&(s=Td(s)),e.push([t,s])}),e},lx=(n,e)=>!!e&&e.toString()===n.toString(),MI=n=>{const e=lt.innerParams.get(n);n.disableButtons(),e.input?cx(n,"confirm"):Oy(n,!0)},PI=n=>{const e=lt.innerParams.get(n);n.disableButtons(),e.returnInputValueOnDeny?cx(n,"deny"):jy(n,!1)},VI=(n,e)=>{n.disableButtons(),e(ll.cancel)},cx=(n,e)=>{const t=lt.innerParams.get(n);if(!t.input){Va(`The "input" parameter is needed to be set when using returnInputValueOn${by(e)}`);return}const s=n.getInput(),o=CI(n,t);t.inputValidator?LI(n,o,e):s&&!s.checkValidity()?(n.enableButtons(),n.showValidationMessage(t.validationMessage||s.validationMessage)):e==="deny"?jy(n,o):Oy(n,o)},LI=(n,e,t)=>{const s=lt.innerParams.get(n);n.disableInput(),Promise.resolve().then(()=>au(s.inputValidator(e,s.validationMessage))).then(c=>{n.enableButtons(),n.enableInput(),c?n.showValidationMessage(c):t==="deny"?jy(n,e):Oy(n,e)})},jy=(n,e)=>{const t=lt.innerParams.get(n||void 0);t.showLoaderOnDeny&&Xo(La()),t.preDeny?(n.isAwaitingPromise=!0,Promise.resolve().then(()=>au(t.preDeny(e,t.validationMessage))).then(o=>{o===!1?(n.hideLoading(),hu(n)):n.close({isDenied:!0,value:typeof o>"u"?e:o})}).catch(o=>ux(n||void 0,o))):n.close({isDenied:!0,value:e})},Yb=(n,e)=>{n.close({isConfirmed:!0,value:e})},ux=(n,e)=>{n.rejectPromise(e)},Oy=(n,e)=>{const t=lt.innerParams.get(n||void 0);t.showLoaderOnConfirm&&Xo(),t.preConfirm?(n.resetValidationMessage(),n.isAwaitingPromise=!0,Promise.resolve().then(()=>au(t.preConfirm(e,t.validationMessage))).then(o=>{Cn(lf())||o===!1?(n.hideLoading(),hu(n)):Yb(n,typeof o>"u"?e:o)}).catch(o=>ux(n||void 0,o))):Yb(n,e)};function Ad(){const n=lt.innerParams.get(this);if(!n)return;const e=lt.domCache.get(this);dn(e.loader),uf()?n.icon&&Kt(sl()):UI(e),nr([e.popup,e.actions],K.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const UI=n=>{const e=n.popup.getElementsByClassName(n.loader.getAttribute("data-button-to-replace"));e.length?Kt(e[0],"inline-block"):d5()&&dn(n.actions)};function hx(){const n=lt.innerParams.get(this),e=lt.domCache.get(this);return e?hf(e.popup,n.input):null}function dx(n,e,t){const s=lt.domCache.get(n);e.forEach(o=>{s[o].disabled=t})}function fx(n,e){const t=Ge();if(!(!t||!n))if(n.type==="radio"){const s=t.querySelectorAll(`[name="${K.radio}"]`);for(let o=0;o<s.length;o++)s[o].disabled=e}else n.disabled=e}function mx(){dx(this,["confirmButton","denyButton","cancelButton"],!1)}function px(){dx(this,["confirmButton","denyButton","cancelButton"],!0)}function gx(){fx(this.getInput(),!1)}function yx(){fx(this.getInput(),!0)}function vx(n){const e=lt.domCache.get(this),t=lt.innerParams.get(this);Bn(e.validationMessage,n),e.validationMessage.className=K["validation-message"],t.customClass&&t.customClass.validationMessage&&Ye(e.validationMessage,t.customClass.validationMessage),Kt(e.validationMessage);const s=this.getInput();s&&(s.setAttribute("aria-invalid","true"),s.setAttribute("aria-describedby",K["validation-message"]),FE(s),Ye(s,K.inputerror))}function wx(){const n=lt.domCache.get(this);n.validationMessage&&dn(n.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),nr(e,K.inputerror))}const zo={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},BI=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],zI={allowEnterKey:void 0},HI=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],bx=n=>Object.prototype.hasOwnProperty.call(zo,n),_x=n=>BI.indexOf(n)!==-1,Ex=n=>zI[n],qI=n=>{bx(n)||vn(`Unknown parameter "${n}"`)},FI=n=>{HI.includes(n)&&vn(`The parameter "${n}" is incompatible with toasts`)},GI=n=>{const e=Ex(n);e&&BE(n,e)},xx=n=>{n.backdrop===!1&&n.allowOutsideClick&&vn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),n.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(n.theme)&&vn(`Invalid theme "${n.theme}"`);for(const e in n)qI(e),n.toast&&FI(e),GI(e)};function Tx(n){const e=wn(),t=Ge(),s=lt.innerParams.get(this);if(!t||wi(t,s.hideClass.popup)){vn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const o=$I(n),c=Object.assign({},s,o);xx(c),e.dataset.swal2Theme=c.theme,ex(this,c),lt.innerParams.set(this,c),Object.defineProperties(this,{params:{value:Object.assign({},this.params,n),writable:!1,enumerable:!0}})}const $I=n=>{const e={};return Object.keys(n).forEach(t=>{_x(t)?e[t]=n[t]:vn(`Invalid parameter to update: ${t}`)}),e};function Ax(){const n=lt.domCache.get(this),e=lt.innerParams.get(this);if(!e){Sx(this);return}n.popup&&_e.swalCloseEventFinishedCallback&&(_e.swalCloseEventFinishedCallback(),delete _e.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),_e.eventEmitter.emit("didDestroy"),YI(this)}const YI=n=>{Sx(n),delete n.params,delete _e.keydownHandler,delete _e.keydownTarget,delete _e.currentInstance},Sx=n=>{n.isAwaitingPromise?(Op(lt,n),n.isAwaitingPromise=!0):(Op(Qo,n),Op(lt,n),delete n.isAwaitingPromise,delete n.disableButtons,delete n.enableButtons,delete n.getInput,delete n.disableInput,delete n.enableInput,delete n.hideLoading,delete n.disableLoading,delete n.showValidationMessage,delete n.resetValidationMessage,delete n.close,delete n.closePopup,delete n.closeModal,delete n.closeToast,delete n.rejectPromise,delete n.update,delete n._destroy)},Op=(n,e)=>{for(const t in n)n[t].delete(e)};var KI=Object.freeze({__proto__:null,_destroy:Ax,close:bs,closeModal:bs,closePopup:bs,closeToast:bs,disableButtons:px,disableInput:yx,disableLoading:Ad,enableButtons:mx,enableInput:gx,getInput:hx,handleAwaitingPromise:hu,hideLoading:Ad,rejectPromise:ox,resetValidationMessage:wx,showValidationMessage:vx,update:Tx});const QI=(n,e,t)=>{n.toast?XI(n,e,t):(ZI(e),JI(e),ek(n,e,t))},XI=(n,e,t)=>{e.popup.onclick=()=>{n&&(WI(n)||n.timer||n.input)||t(ll.close)}},WI=n=>!!(n.showConfirmButton||n.showDenyButton||n.showCancelButton||n.showCloseButton);let Sd=!1;const ZI=n=>{n.popup.onmousedown=()=>{n.container.onmouseup=function(e){n.container.onmouseup=()=>{},e.target===n.container&&(Sd=!0)}}},JI=n=>{n.container.onmousedown=e=>{e.target===n.container&&e.preventDefault(),n.popup.onmouseup=function(t){n.popup.onmouseup=()=>{},(t.target===n.popup||t.target instanceof HTMLElement&&n.popup.contains(t.target))&&(Sd=!0)}}},ek=(n,e,t)=>{e.container.onclick=s=>{if(Sd){Sd=!1;return}s.target===e.container&&of(n.allowOutsideClick)&&t(ll.backdrop)}},tk=n=>typeof n=="object"&&n.jquery,Kb=n=>n instanceof Element||tk(n),nk=n=>{const e={};return typeof n[0]=="object"&&!Kb(n[0])?Object.assign(e,n[0]):["title","html","icon"].forEach((t,s)=>{const o=n[s];typeof o=="string"||Kb(o)?e[t]=o:o!==void 0&&Va(`Unexpected type of ${t}! Expected "string" or "Element", got ${typeof o}`)}),e};function rk(...n){return new this(...n)}function ik(n){class e extends this{_main(s,o){return super._main(s,Object.assign({},n,o))}}return e}const sk=()=>_e.timeout&&_e.timeout.getTimerLeft(),Cx=()=>{if(_e.timeout)return m5(),_e.timeout.stop()},Rx=()=>{if(_e.timeout){const n=_e.timeout.start();return Ny(n),n}},ak=()=>{const n=_e.timeout;return n&&(n.running?Cx():Rx())},ok=n=>{if(_e.timeout){const e=_e.timeout.increase(n);return Ny(e,!0),e}},lk=()=>!!(_e.timeout&&_e.timeout.isRunning());let Qb=!1;const dg={};function ck(n="data-swal-template"){dg[n]=this,Qb||(document.body.addEventListener("click",uk),Qb=!0)}const uk=n=>{for(let e=n.target;e&&e!==document;e=e.parentNode)for(const t in dg){const s=e.getAttribute(t);if(s){dg[t].fire({template:s});return}}};class hk{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,t){const s=this._getHandlersByEventName(e);s.includes(t)||s.push(t)}once(e,t){const s=(...o)=>{this.removeListener(e,s),t.apply(this,o)};this.on(e,s)}emit(e,...t){this._getHandlersByEventName(e).forEach(s=>{try{s.apply(this,t)}catch(o){console.error(o)}})}removeListener(e,t){const s=this._getHandlersByEventName(e),o=s.indexOf(t);o>-1&&s.splice(o,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}_e.eventEmitter=new hk;const dk=(n,e)=>{_e.eventEmitter.on(n,e)},fk=(n,e)=>{_e.eventEmitter.once(n,e)},mk=(n,e)=>{if(!n){_e.eventEmitter.reset();return}e?_e.eventEmitter.removeListener(n,e):_e.eventEmitter.removeAllListeners(n)};var pk=Object.freeze({__proto__:null,argsToParams:nk,bindClickHandler:ck,clickCancel:nI,clickConfirm:tx,clickDeny:tI,enableLoading:Xo,fire:rk,getActions:lu,getCancelButton:al,getCloseButton:Ay,getConfirmButton:zr,getContainer:wn,getDenyButton:La,getFocusableElements:Sy,getFooter:qE,getHtmlContainer:xy,getIcon:sl,getIconContent:o5,getImage:HE,getInputLabel:l5,getLoader:ol,getPopup:Ge,getProgressSteps:Ty,getTimerLeft:sk,getTimerProgressBar:cf,getTitle:zE,getValidationMessage:lf,increaseTimer:ok,isDeprecatedParameter:Ex,isLoading:u5,isTimerRunning:lk,isUpdatableParameter:_x,isValidParameter:bx,isVisible:eI,mixin:ik,off:mk,on:dk,once:fk,resumeTimer:Rx,showLoading:Xo,stopTimer:Cx,toggleTimer:ak});class gk{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Nx=["swal-title","swal-html","swal-footer"],yk=n=>{const e=typeof n.template=="string"?document.querySelector(n.template):n.template;if(!e)return{};const t=e.content;return Ak(t),Object.assign(vk(t),wk(t),bk(t),_k(t),Ek(t),xk(t),Tk(t,Nx))},vk=n=>{const e={};return Array.from(n.querySelectorAll("swal-param")).forEach(s=>{ja(s,["name","value"]);const o=s.getAttribute("name"),c=s.getAttribute("value");!o||!c||(typeof zo[o]=="boolean"?e[o]=c!=="false":typeof zo[o]=="object"?e[o]=JSON.parse(c):e[o]=c)}),e},wk=n=>{const e={};return Array.from(n.querySelectorAll("swal-function-param")).forEach(s=>{const o=s.getAttribute("name"),c=s.getAttribute("value");!o||!c||(e[o]=new Function(`return ${c}`)())}),e},bk=n=>{const e={};return Array.from(n.querySelectorAll("swal-button")).forEach(s=>{ja(s,["type","color","aria-label"]);const o=s.getAttribute("type");!o||!["confirm","cancel","deny"].includes(o)||(e[`${o}ButtonText`]=s.innerHTML,e[`show${by(o)}Button`]=!0,s.hasAttribute("color")&&(e[`${o}ButtonColor`]=s.getAttribute("color")),s.hasAttribute("aria-label")&&(e[`${o}ButtonAriaLabel`]=s.getAttribute("aria-label")))}),e},_k=n=>{const e={},t=n.querySelector("swal-image");return t&&(ja(t,["src","width","height","alt"]),t.hasAttribute("src")&&(e.imageUrl=t.getAttribute("src")||void 0),t.hasAttribute("width")&&(e.imageWidth=t.getAttribute("width")||void 0),t.hasAttribute("height")&&(e.imageHeight=t.getAttribute("height")||void 0),t.hasAttribute("alt")&&(e.imageAlt=t.getAttribute("alt")||void 0)),e},Ek=n=>{const e={},t=n.querySelector("swal-icon");return t&&(ja(t,["type","color"]),t.hasAttribute("type")&&(e.icon=t.getAttribute("type")),t.hasAttribute("color")&&(e.iconColor=t.getAttribute("color")),e.iconHtml=t.innerHTML),e},xk=n=>{const e={},t=n.querySelector("swal-input");t&&(ja(t,["type","label","placeholder","value"]),e.input=t.getAttribute("type")||"text",t.hasAttribute("label")&&(e.inputLabel=t.getAttribute("label")),t.hasAttribute("placeholder")&&(e.inputPlaceholder=t.getAttribute("placeholder")),t.hasAttribute("value")&&(e.inputValue=t.getAttribute("value")));const s=Array.from(n.querySelectorAll("swal-input-option"));return s.length&&(e.inputOptions={},s.forEach(o=>{ja(o,["value"]);const c=o.getAttribute("value");if(!c)return;const h=o.innerHTML;e.inputOptions[c]=h})),e},Tk=(n,e)=>{const t={};for(const s in e){const o=e[s],c=n.querySelector(o);c&&(ja(c,[]),t[o.replace(/^swal-/,"")]=c.innerHTML.trim())}return t},Ak=n=>{const e=Nx.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(n.children).forEach(t=>{const s=t.tagName.toLowerCase();e.includes(s)||vn(`Unrecognized element <${s}>`)})},ja=(n,e)=>{Array.from(n.attributes).forEach(t=>{e.indexOf(t.name)===-1&&vn([`Unrecognized attribute "${t.name}" on <${n.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},Ix=10,Sk=n=>{const e=wn(),t=Ge();typeof n.willOpen=="function"&&n.willOpen(t),_e.eventEmitter.emit("willOpen",t);const o=window.getComputedStyle(document.body).overflowY;Nk(e,t,n),setTimeout(()=>{Ck(e,t)},Ix),Cy()&&(Rk(e,n.scrollbarPadding,o),uI()),!uf()&&!_e.previousActiveElement&&(_e.previousActiveElement=document.activeElement),typeof n.didOpen=="function"&&setTimeout(()=>n.didOpen(t)),_e.eventEmitter.emit("didOpen",t),nr(e,K["no-transition"])},Cd=n=>{const e=Ge();if(n.target!==e)return;const t=wn();e.removeEventListener("animationend",Cd),e.removeEventListener("transitionend",Cd),t.style.overflowY="auto"},Ck=(n,e)=>{$E(e)?(n.style.overflowY="hidden",e.addEventListener("animationend",Cd),e.addEventListener("transitionend",Cd)):n.style.overflowY="auto"},Rk=(n,e,t)=>{hI(),e&&t!=="hidden"&&vI(t),setTimeout(()=>{n.scrollTop=0})},Nk=(n,e,t)=>{Ye(n,t.showClass.backdrop),t.animation?(e.style.setProperty("opacity","0","important"),Kt(e,"grid"),setTimeout(()=>{Ye(e,t.showClass.popup),e.style.removeProperty("opacity")},Ix)):Kt(e,"grid"),Ye([document.documentElement,document.body],K.shown),t.heightAuto&&t.backdrop&&!t.toast&&Ye([document.documentElement,document.body],K["height-auto"])};var Xb={email:(n,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(n)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(n,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(n)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function Ik(n){n.inputValidator||(n.input==="email"&&(n.inputValidator=Xb.email),n.input==="url"&&(n.inputValidator=Xb.url))}function kk(n){(!n.target||typeof n.target=="string"&&!document.querySelector(n.target)||typeof n.target!="string"&&!n.target.appendChild)&&(vn('Target parameter is not valid, defaulting to "body"'),n.target="body")}function Dk(n){Ik(n),n.showLoaderOnConfirm&&!n.preConfirm&&vn(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),kk(n),typeof n.title=="string"&&(n.title=n.title.split(`
`).join("<br />")),E5(n)}let jr;var Bh=new WeakMap;class Nt{constructor(...e){if(JN(this,Bh,void 0),typeof window>"u")return;jr=this;const t=Object.freeze(this.constructor.argsToParams(e));this.params=t,this.isAwaitingPromise=!1,e5(Bh,this,this._main(jr.params))}_main(e,t={}){if(xx(Object.assign({},t,e)),_e.currentInstance){const c=Qo.swalPromiseResolve.get(_e.currentInstance),{isAwaitingPromise:h}=_e.currentInstance;_e.currentInstance._destroy(),h||c({isDismissed:!0}),Cy()&&ix()}_e.currentInstance=jr;const s=Ok(e,t);Dk(s),Object.freeze(s),_e.timeout&&(_e.timeout.stop(),delete _e.timeout),clearTimeout(_e.restoreFocusTimeout);const o=Mk(jr);return ex(jr,s),lt.innerParams.set(jr,s),jk(jr,o,s)}then(e){return Bb(Bh,this).then(e)}finally(e){return Bb(Bh,this).finally(e)}}const jk=(n,e,t)=>new Promise((s,o)=>{const c=h=>{n.close({isDismissed:!0,dismiss:h})};Qo.swalPromiseResolve.set(n,s),Qo.swalPromiseReject.set(n,o),e.confirmButton.onclick=()=>{MI(n)},e.denyButton.onclick=()=>{PI(n)},e.cancelButton.onclick=()=>{VI(n,c)},e.closeButton.onclick=()=>{c(ll.close)},QI(t,e,c),rI(_e,t,c),SI(n,t),Sk(t),Pk(_e,t,c),Vk(e,t),setTimeout(()=>{e.container.scrollTop=0})}),Ok=(n,e)=>{const t=yk(n),s=Object.assign({},zo,e,t,n);return s.showClass=Object.assign({},zo.showClass,s.showClass),s.hideClass=Object.assign({},zo.hideClass,s.hideClass),s.animation===!1&&(s.showClass={backdrop:"swal2-noanimation"},s.hideClass={}),s},Mk=n=>{const e={popup:Ge(),container:wn(),actions:lu(),confirmButton:zr(),denyButton:La(),cancelButton:al(),loader:ol(),closeButton:Ay(),validationMessage:lf(),progressSteps:Ty()};return lt.domCache.set(n,e),e},Pk=(n,e,t)=>{const s=cf();dn(s),e.timer&&(n.timeout=new gk(()=>{t("timer"),delete n.timeout},e.timer),e.timerProgressBar&&(Kt(s),Ln(s,e,"timerProgressBar"),setTimeout(()=>{n.timeout&&n.timeout.running&&Ny(e.timer)})))},Vk=(n,e)=>{if(!e.toast){if(!of(e.allowEnterKey)){BE("allowEnterKey"),Bk();return}Lk(n)||Uk(n,e)||hg(-1,1)}},Lk=n=>{const e=Array.from(n.popup.querySelectorAll("[autofocus]"));for(const t of e)if(t instanceof HTMLElement&&Cn(t))return t.focus(),!0;return!1},Uk=(n,e)=>e.focusDeny&&Cn(n.denyButton)?(n.denyButton.focus(),!0):e.focusCancel&&Cn(n.cancelButton)?(n.cancelButton.focus(),!0):e.focusConfirm&&Cn(n.confirmButton)?(n.confirmButton.focus(),!0):!1,Bk=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Nt.prototype.disableButtons=px;Nt.prototype.enableButtons=mx;Nt.prototype.getInput=hx;Nt.prototype.disableInput=yx;Nt.prototype.enableInput=gx;Nt.prototype.hideLoading=Ad;Nt.prototype.disableLoading=Ad;Nt.prototype.showValidationMessage=vx;Nt.prototype.resetValidationMessage=wx;Nt.prototype.close=bs;Nt.prototype.closePopup=bs;Nt.prototype.closeModal=bs;Nt.prototype.closeToast=bs;Nt.prototype.rejectPromise=ox;Nt.prototype.update=Tx;Nt.prototype._destroy=Ax;Object.assign(Nt,pk);Object.keys(KI).forEach(n=>{Nt[n]=function(...e){return jr&&jr[n]?jr[n](...e):null}});Nt.DismissReason=ll;Nt.version="11.23.0";const fe=Nt;fe.default=fe;typeof document<"u"&&(function(n,e){var t=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Wb="popstate";function zk(n={}){function e(s,o){let{pathname:c,search:h,hash:p}=s.location;return fg("",{pathname:c,search:h,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:Kc(o)}return qk(e,t,null,n)}function pt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Hr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Hk(){return Math.random().toString(36).substring(2,10)}function Zb(n,e){return{usr:n.state,key:n.key,idx:e}}function fg(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?cl(e):e,state:t,key:e&&e.key||s||Hk()}}function Kc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function cl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function qk(n,e,t,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,h=o.history,p="POP",g=null,y=w();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function w(){return(h.state||{idx:null}).idx}function x(){p="POP";let U=w(),ee=U==null?null:U-y;y=U,g&&g({action:p,location:Y.location,delta:ee})}function A(U,ee){p="PUSH";let Q=fg(Y.location,U,ee);y=w()+1;let se=Zb(Q,y),ie=Y.createHref(Q);try{h.pushState(se,"",ie)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;o.location.assign(ie)}c&&g&&g({action:p,location:Y.location,delta:1})}function I(U,ee){p="REPLACE";let Q=fg(Y.location,U,ee);y=w();let se=Zb(Q,y),ie=Y.createHref(Q);h.replaceState(se,"",ie),c&&g&&g({action:p,location:Y.location,delta:0})}function B(U){return Fk(U)}let Y={get action(){return p},get location(){return n(o,h)},listen(U){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Wb,x),g=U,()=>{o.removeEventListener(Wb,x),g=null}},createHref(U){return e(o,U)},createURL:B,encodeLocation(U){let ee=B(U);return{pathname:ee.pathname,search:ee.search,hash:ee.hash}},push:A,replace:I,go(U){return h.go(U)}};return Y}function Fk(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),pt(t,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:Kc(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function kx(n,e,t="/"){return Gk(n,e,t,!1)}function Gk(n,e,t,s){let o=typeof e=="string"?cl(e):e,c=Ri(o.pathname||"/",t);if(c==null)return null;let h=Dx(n);$k(h);let p=null;for(let g=0;p==null&&g<h.length;++g){let y=rD(c);p=tD(h[g],y,s)}return p}function Dx(n,e=[],t=[],s="",o=!1){let c=(h,p,g=o,y)=>{let w={relativePath:y===void 0?h.path||"":y,caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};if(w.relativePath.startsWith("/")){if(!w.relativePath.startsWith(s)&&g)return;pt(w.relativePath.startsWith(s),`Absolute route path "${w.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(s.length)}let x=bi([s,w.relativePath]),A=t.concat(w);h.children&&h.children.length>0&&(pt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),Dx(h.children,e,A,x,g)),!(h.path==null&&!h.index)&&e.push({path:x,score:Jk(x,h.index),routesMeta:A})};return n.forEach((h,p)=>{if(h.path===""||!h.path?.includes("?"))c(h,p);else for(let g of jx(h.path))c(h,p,!0,g)}),e}function jx(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),c=t.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let h=jx(s.join("/")),p=[];return p.push(...h.map(g=>g===""?c:[c,g].join("/"))),o&&p.push(...h),p.map(g=>n.startsWith("/")&&g===""?"/":g)}function $k(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:eD(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var Yk=/^:[\w-]+$/,Kk=3,Qk=2,Xk=1,Wk=10,Zk=-2,Jb=n=>n==="*";function Jk(n,e){let t=n.split("/"),s=t.length;return t.some(Jb)&&(s+=Zk),e&&(s+=Qk),t.filter(o=>!Jb(o)).reduce((o,c)=>o+(Yk.test(c)?Kk:c===""?Xk:Wk),s)}function eD(n,e){return n.length===e.length&&n.slice(0,-1).every((s,o)=>s===e[o])?n[n.length-1]-e[e.length-1]:0}function tD(n,e,t=!1){let{routesMeta:s}=n,o={},c="/",h=[];for(let p=0;p<s.length;++p){let g=s[p],y=p===s.length-1,w=c==="/"?e:e.slice(c.length)||"/",x=Rd({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},w),A=g.route;if(!x&&y&&t&&!s[s.length-1].route.index&&(x=Rd({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},w)),!x)return null;Object.assign(o,x.params),h.push({params:o,pathname:bi([c,x.pathname]),pathnameBase:oD(bi([c,x.pathnameBase])),route:A}),x.pathnameBase!=="/"&&(c=bi([c,x.pathnameBase]))}return h}function Rd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=nD(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let c=o[0],h=c.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((y,{paramName:w,isOptional:x},A)=>{if(w==="*"){let B=p[A]||"";h=c.slice(0,c.length-B.length).replace(/(.)\/+$/,"$1")}const I=p[A];return x&&!I?y[w]=void 0:y[w]=(I||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:h,pattern:n}}function nD(n,e=!1,t=!0){Hr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,g)=>(s.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(s.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function rD(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Hr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ri(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function iD(n,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof n=="string"?cl(n):n;return{pathname:t?t.startsWith("/")?t:sD(t,e):e,search:lD(s),hash:cD(o)}}function sD(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Mp(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function aD(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ox(n){let e=aD(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Mx(n,e,t,s=!1){let o;typeof n=="string"?o=cl(n):(o={...n},pt(!o.pathname||!o.pathname.includes("?"),Mp("?","pathname","search",o)),pt(!o.pathname||!o.pathname.includes("#"),Mp("#","pathname","hash",o)),pt(!o.search||!o.search.includes("#"),Mp("#","search","hash",o)));let c=n===""||o.pathname==="",h=c?"/":o.pathname,p;if(h==null)p=t;else{let x=e.length-1;if(!s&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),x-=1;o.pathname=A.join("/")}p=x>=0?e[x]:"/"}let g=iD(o,p),y=h&&h!=="/"&&h.endsWith("/"),w=(c||h===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(y||w)&&(g.pathname+="/"),g}var bi=n=>n.join("/").replace(/\/\/+/g,"/"),oD=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),lD=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,cD=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function uD(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Px=["POST","PUT","PATCH","DELETE"];new Set(Px);var hD=["GET",...Px];new Set(hD);var ul=P.createContext(null);ul.displayName="DataRouter";var df=P.createContext(null);df.displayName="DataRouterState";P.createContext(!1);var Vx=P.createContext({isTransitioning:!1});Vx.displayName="ViewTransition";var dD=P.createContext(new Map);dD.displayName="Fetchers";var fD=P.createContext(null);fD.displayName="Await";var qr=P.createContext(null);qr.displayName="Navigation";var du=P.createContext(null);du.displayName="Location";var Fr=P.createContext({outlet:null,matches:[],isDataRoute:!1});Fr.displayName="Route";var My=P.createContext(null);My.displayName="RouteError";function mD(n,{relative:e}={}){pt(fu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=P.useContext(qr),{hash:o,pathname:c,search:h}=mu(n,{relative:e}),p=c;return t!=="/"&&(p=c==="/"?t:bi([t,c])),s.createHref({pathname:p,search:h,hash:o})}function fu(){return P.useContext(du)!=null}function Ua(){return pt(fu(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(du).location}var Lx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ux(n){P.useContext(qr).static||P.useLayoutEffect(n)}function Di(){let{isDataRoute:n}=P.useContext(Fr);return n?CD():pD()}function pD(){pt(fu(),"useNavigate() may be used only in the context of a <Router> component.");let n=P.useContext(ul),{basename:e,navigator:t}=P.useContext(qr),{matches:s}=P.useContext(Fr),{pathname:o}=Ua(),c=JSON.stringify(Ox(s)),h=P.useRef(!1);return Ux(()=>{h.current=!0}),P.useCallback((g,y={})=>{if(Hr(h.current,Lx),!h.current)return;if(typeof g=="number"){t.go(g);return}let w=Mx(g,JSON.parse(c),o,y.relative==="path");n==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:bi([e,w.pathname])),(y.replace?t.replace:t.push)(w,y.state,y)},[e,t,c,o,n])}P.createContext(null);function Py(){let{matches:n}=P.useContext(Fr),e=n[n.length-1];return e?e.params:{}}function mu(n,{relative:e}={}){let{matches:t}=P.useContext(Fr),{pathname:s}=Ua(),o=JSON.stringify(Ox(t));return P.useMemo(()=>Mx(n,JSON.parse(o),s,e==="path"),[n,o,s,e])}function gD(n,e){return Bx(n,e)}function Bx(n,e,t,s,o){pt(fu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=P.useContext(qr),{matches:h}=P.useContext(Fr),p=h[h.length-1],g=p?p.params:{},y=p?p.pathname:"/",w=p?p.pathnameBase:"/",x=p&&p.route;{let Q=x&&x.path||"";zx(y,!x||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let A=Ua(),I;if(e){let Q=typeof e=="string"?cl(e):e;pt(w==="/"||Q.pathname?.startsWith(w),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),I=Q}else I=A;let B=I.pathname||"/",Y=B;if(w!=="/"){let Q=w.replace(/^\//,"").split("/");Y="/"+B.replace(/^\//,"").split("/").slice(Q.length).join("/")}let U=kx(n,{pathname:Y});Hr(x||U!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),Hr(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ee=_D(U&&U.map(Q=>Object.assign({},Q,{params:Object.assign({},g,Q.params),pathname:bi([w,c.encodeLocation?c.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?w:bi([w,c.encodeLocation?c.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),h,t,s,o);return e&&ee?P.createElement(du.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},ee):ee}function yD(){let n=SD(),e=uD(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",n),h=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:c},"ErrorBoundary")," or"," ",P.createElement("code",{style:c},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),t?P.createElement("pre",{style:o},t):null,h)}var vD=P.createElement(yD,null),wD=class extends P.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?P.createElement(Fr.Provider,{value:this.props.routeContext},P.createElement(My.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function bD({routeContext:n,match:e,children:t}){let s=P.useContext(ul);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(Fr.Provider,{value:n},t)}function _D(n,e=[],t=null,s=null,o=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let c=n,h=t?.errors;if(h!=null){let y=c.findIndex(w=>w.route.id&&h?.[w.route.id]!==void 0);pt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),c=c.slice(0,Math.min(c.length,y+1))}let p=!1,g=-1;if(t)for(let y=0;y<c.length;y++){let w=c[y];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(g=y),w.route.id){let{loaderData:x,errors:A}=t,I=w.route.loader&&!x.hasOwnProperty(w.route.id)&&(!A||A[w.route.id]===void 0);if(w.route.lazy||I){p=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}return c.reduceRight((y,w,x)=>{let A,I=!1,B=null,Y=null;t&&(A=h&&w.route.id?h[w.route.id]:void 0,B=w.route.errorElement||vD,p&&(g<0&&x===0?(zx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,Y=null):g===x&&(I=!0,Y=w.route.hydrateFallbackElement||null)));let U=e.concat(c.slice(0,x+1)),ee=()=>{let Q;return A?Q=B:I?Q=Y:w.route.Component?Q=P.createElement(w.route.Component,null):w.route.element?Q=w.route.element:Q=y,P.createElement(bD,{match:w,routeContext:{outlet:y,matches:U,isDataRoute:t!=null},children:Q})};return t&&(w.route.ErrorBoundary||w.route.errorElement||x===0)?P.createElement(wD,{location:t.location,revalidation:t.revalidation,component:B,error:A,children:ee(),routeContext:{outlet:null,matches:U,isDataRoute:!0},unstable_onError:s}):ee()},null)}function Vy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ED(n){let e=P.useContext(ul);return pt(e,Vy(n)),e}function xD(n){let e=P.useContext(df);return pt(e,Vy(n)),e}function TD(n){let e=P.useContext(Fr);return pt(e,Vy(n)),e}function Ly(n){let e=TD(n),t=e.matches[e.matches.length-1];return pt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function AD(){return Ly("useRouteId")}function SD(){let n=P.useContext(My),e=xD("useRouteError"),t=Ly("useRouteError");return n!==void 0?n:e.errors?.[t]}function CD(){let{router:n}=ED("useNavigate"),e=Ly("useNavigate"),t=P.useRef(!1);return Ux(()=>{t.current=!0}),P.useCallback(async(o,c={})=>{Hr(t.current,Lx),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...c}))},[n,e])}var e1={};function zx(n,e,t){!e&&!e1[n]&&(e1[n]=!0,Hr(!1,t))}P.memo(RD);function RD({routes:n,future:e,state:t,unstable_onError:s}){return Bx(n,void 0,t,s,e)}function Fe(n){pt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ND({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:c=!1}){pt(!fu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),p=P.useMemo(()=>({basename:h,navigator:o,static:c,future:{}}),[h,o,c]);typeof t=="string"&&(t=cl(t));let{pathname:g="/",search:y="",hash:w="",state:x=null,key:A="default"}=t,I=P.useMemo(()=>{let B=Ri(g,h);return B==null?null:{location:{pathname:B,search:y,hash:w,state:x,key:A},navigationType:s}},[h,g,y,w,x,A,s]);return Hr(I!=null,`<Router basename="${h}"> is not able to match the URL "${g}${y}${w}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:P.createElement(qr.Provider,{value:p},P.createElement(du.Provider,{children:e,value:I}))}function ID({children:n,location:e}){return gD(mg(n),e)}function mg(n,e=[]){let t=[];return P.Children.forEach(n,(s,o)=>{if(!P.isValidElement(s))return;let c=[...e,o];if(s.type===P.Fragment){t.push.apply(t,mg(s.props.children,c));return}pt(s.type===Fe,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=mg(s.props.children,c)),t.push(h)}),t}var Zh="get",Jh="application/x-www-form-urlencoded";function ff(n){return n!=null&&typeof n.tagName=="string"}function kD(n){return ff(n)&&n.tagName.toLowerCase()==="button"}function DD(n){return ff(n)&&n.tagName.toLowerCase()==="form"}function jD(n){return ff(n)&&n.tagName.toLowerCase()==="input"}function OD(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function MD(n,e){return n.button===0&&(!e||e==="_self")&&!OD(n)}var zh=null;function PD(){if(zh===null)try{new FormData(document.createElement("form"),0),zh=!1}catch{zh=!0}return zh}var VD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pp(n){return n!=null&&!VD.has(n)?(Hr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jh}"`),null):n}function LD(n,e){let t,s,o,c,h;if(DD(n)){let p=n.getAttribute("action");s=p?Ri(p,e):null,t=n.getAttribute("method")||Zh,o=Pp(n.getAttribute("enctype"))||Jh,c=new FormData(n)}else if(kD(n)||jD(n)&&(n.type==="submit"||n.type==="image")){let p=n.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=n.getAttribute("formaction")||p.getAttribute("action");if(s=g?Ri(g,e):null,t=n.getAttribute("formmethod")||p.getAttribute("method")||Zh,o=Pp(n.getAttribute("formenctype"))||Pp(p.getAttribute("enctype"))||Jh,c=new FormData(p,n),!PD()){let{name:y,type:w,value:x}=n;if(w==="image"){let A=y?`${y}.`:"";c.append(`${A}x`,"0"),c.append(`${A}y`,"0")}else y&&c.append(y,x)}}else{if(ff(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Zh,s=null,o=Jh,h=n}return c&&o==="text/plain"&&(h=c,c=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:c,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Uy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function UD(n,e,t){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&Ri(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function BD(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zD(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function HD(n,e,t){let s=await Promise.all(n.map(async o=>{let c=e.routes[o.route.id];if(c){let h=await BD(c,t);return h.links?h.links():[]}return[]}));return $D(s.flat(1).filter(zD).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function t1(n,e,t,s,o,c){let h=(g,y)=>t[y]?g.route.id!==t[y].route.id:!0,p=(g,y)=>t[y].pathname!==g.pathname||t[y].route.path?.endsWith("*")&&t[y].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,y)=>h(g,y)||p(g,y)):c==="data"?e.filter((g,y)=>{let w=s.routes[g.route.id];if(!w||!w.hasLoader)return!1;if(h(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let x=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function qD(n,e,{includeHydrateFallback:t}={}){return FD(n.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function FD(n){return[...new Set(n)]}function GD(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function $D(n,e){let t=new Set;return new Set(e),n.reduce((s,o)=>{let c=JSON.stringify(GD(o));return t.has(c)||(t.add(c),s.push({key:c,link:o})),s},[])}function Hx(){let n=P.useContext(ul);return Uy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function YD(){let n=P.useContext(df);return Uy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var By=P.createContext(void 0);By.displayName="FrameworkContext";function qx(){let n=P.useContext(By);return Uy(n,"You must render this element inside a <HydratedRouter> element"),n}function KD(n,e){let t=P.useContext(By),[s,o]=P.useState(!1),[c,h]=P.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:w,onTouchStart:x}=e,A=P.useRef(null);P.useEffect(()=>{if(n==="render"&&h(!0),n==="viewport"){let Y=ee=>{ee.forEach(Q=>{h(Q.isIntersecting)})},U=new IntersectionObserver(Y,{threshold:.5});return A.current&&U.observe(A.current),()=>{U.disconnect()}}},[n]),P.useEffect(()=>{if(s){let Y=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(Y)}}},[s]);let I=()=>{o(!0)},B=()=>{o(!1),h(!1)};return t?n!=="intent"?[c,A,{}]:[c,A,{onFocus:wc(p,I),onBlur:wc(g,B),onMouseEnter:wc(y,I),onMouseLeave:wc(w,B),onTouchStart:wc(x,I)}]:[!1,A,{}]}function wc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function QD({page:n,...e}){let{router:t}=Hx(),s=P.useMemo(()=>kx(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?P.createElement(WD,{page:n,matches:s,...e}):null}function XD(n){let{manifest:e,routeModules:t}=qx(),[s,o]=P.useState([]);return P.useEffect(()=>{let c=!1;return HD(n,e,t).then(h=>{c||o(h)}),()=>{c=!0}},[n,e,t]),s}function WD({page:n,matches:e,...t}){let s=Ua(),{manifest:o,routeModules:c}=qx(),{basename:h}=Hx(),{loaderData:p,matches:g}=YD(),y=P.useMemo(()=>t1(n,e,g,o,s,"data"),[n,e,g,o,s]),w=P.useMemo(()=>t1(n,e,g,o,s,"assets"),[n,e,g,o,s]),x=P.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let B=new Set,Y=!1;if(e.forEach(ee=>{let Q=o.routes[ee.route.id];!Q||!Q.hasLoader||(!y.some(se=>se.route.id===ee.route.id)&&ee.route.id in p&&c[ee.route.id]?.shouldRevalidate||Q.hasClientLoader?Y=!0:B.add(ee.route.id))}),B.size===0)return[];let U=UD(n,h,"data");return Y&&B.size>0&&U.searchParams.set("_routes",e.filter(ee=>B.has(ee.route.id)).map(ee=>ee.route.id).join(",")),[U.pathname+U.search]},[h,p,s,o,y,e,n,c]),A=P.useMemo(()=>qD(w,o),[w,o]),I=XD(w);return P.createElement(P.Fragment,null,x.map(B=>P.createElement("link",{key:B,rel:"prefetch",as:"fetch",href:B,...t})),A.map(B=>P.createElement("link",{key:B,rel:"modulepreload",href:B,...t})),I.map(({key:B,link:Y})=>P.createElement("link",{key:B,nonce:t.nonce,...Y})))}function ZD(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Fx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Fx&&(window.__reactRouterVersion="7.8.2")}catch{}function JD({basename:n,children:e,window:t}){let s=P.useRef();s.current==null&&(s.current=zk({window:t,v5Compat:!0}));let o=s.current,[c,h]=P.useState({action:o.action,location:o.location}),p=P.useCallback(g=>{P.startTransition(()=>h(g))},[h]);return P.useLayoutEffect(()=>o.listen(p),[o,p]),P.createElement(ND,{basename:n,children:e,location:c.location,navigationType:c.action,navigator:o})}var Gx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ve=P.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:c,replace:h,state:p,target:g,to:y,preventScrollReset:w,viewTransition:x,...A},I){let{basename:B}=P.useContext(qr),Y=typeof y=="string"&&Gx.test(y),U,ee=!1;if(typeof y=="string"&&Y&&(U=y,Fx))try{let C=new URL(window.location.href),M=y.startsWith("//")?new URL(C.protocol+y):new URL(y),j=Ri(M.pathname,B);M.origin===C.origin&&j!=null?y=j+M.search+M.hash:ee=!0}catch{Hr(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=mD(y,{relative:o}),[se,ie,ae]=KD(s,A),ge=rj(y,{replace:h,state:p,target:g,preventScrollReset:w,relative:o,viewTransition:x});function k(C){e&&e(C),C.defaultPrevented||ge(C)}let S=P.createElement("a",{...A,...ae,href:U||Q,onClick:ee||c?e:k,ref:ZD(I,ie),target:g,"data-discover":!Y&&t==="render"?"true":void 0});return se&&!Y?P.createElement(P.Fragment,null,S,P.createElement(QD,{page:Q})):S});ve.displayName="Link";var ej=P.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:c,to:h,viewTransition:p,children:g,...y},w){let x=mu(h,{relative:y.relative}),A=Ua(),I=P.useContext(df),{navigator:B,basename:Y}=P.useContext(qr),U=I!=null&&lj(x)&&p===!0,ee=B.encodeLocation?B.encodeLocation(x).pathname:x.pathname,Q=A.pathname,se=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;t||(Q=Q.toLowerCase(),se=se?se.toLowerCase():null,ee=ee.toLowerCase()),se&&Y&&(se=Ri(se,Y)||se);const ie=ee!=="/"&&ee.endsWith("/")?ee.length-1:ee.length;let ae=Q===ee||!o&&Q.startsWith(ee)&&Q.charAt(ie)==="/",ge=se!=null&&(se===ee||!o&&se.startsWith(ee)&&se.charAt(ee.length)==="/"),k={isActive:ae,isPending:ge,isTransitioning:U},S=ae?e:void 0,C;typeof s=="function"?C=s(k):C=[s,ae?"active":null,ge?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let M=typeof c=="function"?c(k):c;return P.createElement(ve,{...y,"aria-current":S,className:C,ref:w,style:M,to:h,viewTransition:p},typeof g=="function"?g(k):g)});ej.displayName="NavLink";var tj=P.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:c,method:h=Zh,action:p,onSubmit:g,relative:y,preventScrollReset:w,viewTransition:x,...A},I)=>{let B=aj(),Y=oj(p,{relative:y}),U=h.toLowerCase()==="get"?"get":"post",ee=typeof p=="string"&&Gx.test(p),Q=se=>{if(g&&g(se),se.defaultPrevented)return;se.preventDefault();let ie=se.nativeEvent.submitter,ae=ie?.getAttribute("formmethod")||h;B(ie||se.currentTarget,{fetcherKey:e,method:ae,navigate:t,replace:o,state:c,relative:y,preventScrollReset:w,viewTransition:x})};return P.createElement("form",{ref:I,method:U,action:Y,onSubmit:s?g:Q,...A,"data-discover":!ee&&n==="render"?"true":void 0})});tj.displayName="Form";function nj(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $x(n){let e=P.useContext(ul);return pt(e,nj(n)),e}function rj(n,{target:e,replace:t,state:s,preventScrollReset:o,relative:c,viewTransition:h}={}){let p=Di(),g=Ua(),y=mu(n,{relative:c});return P.useCallback(w=>{if(MD(w,e)){w.preventDefault();let x=t!==void 0?t:Kc(g)===Kc(y);p(n,{replace:x,state:s,preventScrollReset:o,relative:c,viewTransition:h})}},[g,p,y,t,s,e,n,o,c,h])}var ij=0,sj=()=>`__${String(++ij)}__`;function aj(){let{router:n}=$x("useSubmit"),{basename:e}=P.useContext(qr),t=AD();return P.useCallback(async(s,o={})=>{let{action:c,method:h,encType:p,formData:g,body:y}=LD(s,e);if(o.navigate===!1){let w=o.fetcherKey||sj();await n.fetch(w,t,o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||h,formEncType:o.encType||p,flushSync:o.flushSync})}else await n.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||h,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function oj(n,{relative:e}={}){let{basename:t}=P.useContext(qr),s=P.useContext(Fr);pt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...mu(n||".",{relative:e})},h=Ua();if(n==null){c.search=h.search;let p=new URLSearchParams(c.search),g=p.getAll("index");if(g.some(w=>w==="")){p.delete("index"),g.filter(x=>x).forEach(x=>p.append("index",x));let w=p.toString();c.search=w?`?${w}`:""}}return(!n||n===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(c.pathname=c.pathname==="/"?t:bi([t,c.pathname])),Kc(c)}function lj(n,{relative:e}={}){let t=P.useContext(Vx);pt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=$x("useViewTransitionState"),o=mu(n,{relative:e});if(!t.isTransitioning)return!1;let c=Ri(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=Ri(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Rd(o.pathname,h)!=null||Rd(o.pathname,c)!=null}var Yx={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},n1=Ta.createContext&&Ta.createContext(Yx),cj=["attr","size","title"];function uj(n,e){if(n==null)return{};var t=hj(n,e),s,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(n);for(o=0;o<c.length;o++)s=c[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(n,s)&&(t[s]=n[s])}return t}function hj(n,e){if(n==null)return{};var t={};for(var s in n)if(Object.prototype.hasOwnProperty.call(n,s)){if(e.indexOf(s)>=0)continue;t[s]=n[s]}return t}function Nd(){return Nd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},Nd.apply(this,arguments)}function r1(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,s)}return t}function Id(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?r1(Object(t),!0).forEach(function(s){dj(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):r1(Object(t)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}function dj(n,e,t){return e=fj(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function fj(n){var e=mj(n,"string");return typeof e=="symbol"?e:e+""}function mj(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var s=t.call(n,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Kx(n){return n&&n.map((e,t)=>Ta.createElement(e.tag,Id({key:t},e.attr),Kx(e.child)))}function Ze(n){return e=>Ta.createElement(pj,Nd({attr:Id({},n.attr)},e),Kx(n.child))}function pj(n){var e=t=>{var{attr:s,size:o,title:c}=n,h=uj(n,cj),p=o||t.size||"1em",g;return t.className&&(g=t.className),n.className&&(g=(g?g+" ":"")+n.className),Ta.createElement("svg",Nd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,h,{className:g,style:Id(Id({color:n.color||t.color},t.style),n.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),c&&Ta.createElement("title",null,c),n.children)};return n1!==void 0?Ta.createElement(n1.Consumer,null,t=>e(t)):e(Yx)}function gj(n){return Ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(n)}function yj(n){return Ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(n)}function vj(n){return Ze({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(n)}function wj(n){return Ze({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(n)}function _i(n){return Ze({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"},child:[]}]})(n)}function bj(n){return Ze({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"},child:[]}]})(n)}function _j(n){return Ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(n)}function Ej(n){return Ze({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(n)}function mf(n){return Ze({attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M209.2 233.4l-108-31.6C88.7 198.2 80 186.5 80 173.5c0-16.3 13.2-29.5 29.5-29.5h66.3c12.2 0 24.2 3.7 34.2 10.5 6.1 4.1 14.3 3.1 19.5-2l34.8-34c7.1-6.9 6.1-18.4-1.8-24.5C238 74.8 207.4 64.1 176 64V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48h-2.5C45.8 64-5.4 118.7.5 183.6c4.2 46.1 39.4 83.6 83.8 96.6l102.5 30c12.5 3.7 21.2 15.3 21.2 28.3 0 16.3-13.2 29.5-29.5 29.5h-66.3C100 368 88 364.3 78 357.5c-6.1-4.1-14.3-3.1-19.5 2l-34.8 34c-7.1 6.9-6.1 18.4 1.8 24.5 24.5 19.2 55.1 29.9 86.5 30v48c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-48.2c46.6-.9 90.3-28.6 105.7-72.7 21.5-61.6-14.6-124.8-72.5-141.7z"},child:[]}]})(n)}function xj(n){return Ze({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(n)}function pg(n){return Ze({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(n)}function kd(n){return Ze({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(n)}function i1(n){return Ze({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(n)}function s1(n){return Ze({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(n)}function Qx(n){return Ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(n)}function Tj(n){return Ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(n)}function Aj(n){return Ze({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41z"},child:[]}]})(n)}function Sj(n){return Ze({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279 224H41c-21.4 0-32.1-25.9-17-41L143 64c9.4-9.4 24.6-9.4 33.9 0l119 119c15.2 15.1 4.5 41-16.9 41z"},child:[]}]})(n)}function Cj(n){return Ze({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41zm255-105L177 64c-9.4-9.4-24.6-9.4-33.9 0L24 183c-15.1 15.1-4.4 41 17 41h238c21.4 0 32.1-25.9 17-41z"},child:[]}]})(n)}function Xx(n){return Ze({attr:{viewBox:"0 0 536 512"},child:[{tag:"path",attr:{d:"M508.55 171.51L362.18 150.2 296.77 17.81C290.89 5.98 279.42 0 267.95 0c-11.4 0-22.79 5.9-28.69 17.81l-65.43 132.38-146.38 21.29c-26.25 3.8-36.77 36.09-17.74 54.59l105.89 103-25.06 145.48C86.98 495.33 103.57 512 122.15 512c4.93 0 10-1.17 14.87-3.75l130.95-68.68 130.94 68.7c4.86 2.55 9.92 3.71 14.83 3.71 18.6 0 35.22-16.61 31.66-37.4l-25.03-145.49 105.91-102.98c19.04-18.5 8.52-50.8-17.73-54.6zm-121.74 123.2l-18.12 17.62 4.28 24.88 19.52 113.45-102.13-53.59-22.38-11.74.03-317.19 51.03 103.29 11.18 22.63 25.01 3.64 114.23 16.63-82.65 80.38z"},child:[]}]})(n)}function Rj(n){return Ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"},child:[]}]})(n)}function Wx(n){return Ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"},child:[]}]})(n)}function Zx(n){return Ze({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(n)}function Nj(n){return Ze({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(n)}function Jx(n){return Ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(n)}function Ij(n){return Ze({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(n)}function Dd(n){return Ze({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(n)}function gg(n){return Ze({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(n)}const kj=async n=>{let e;switch(n){case"google":e=yy;break;case"facebook":e=wy;break;case"github":e=vy;break;default:throw new Error("Proveedor no soportado")}try{const t=await kg(Ur,e);return console.log("Login exitoso:",t.user),{success:!0,user:t.user,linked:!1}}catch(t){if(console.error("Error en login:",t.code),t.code==="auth/account-exists-with-different-credential")return await Dj(t,n);throw t}},Dj=async(n,e)=>{try{const t=n.customData.email,s=Rc.credentialFromError(n);console.log("Detectada cuenta existente con:",t);const o=await $1(Ur,t);console.log("Mtodos existentes:",o);let c,h;if(o.includes("google.com"))c=yy,h="Google";else if(o.includes("facebook.com"))c=wy,h="Facebook";else if(o.includes("github.com"))c=vy,h="GitHub";else if(o.includes("password"))return await fe.fire({icon:"info",title:"Cuenta Existente",text:`Ya tienes una cuenta con ${t} usando correo y contrasea. Por favor inicia sesin con tu contrasea primero.`,confirmButtonText:"Entendido"}),{success:!1,requiresPassword:!0,email:t};if(!(await fe.fire({icon:"info",title:" Vincular Cuentas",html:`
        <p>Ya tienes una cuenta con <strong>${t}</strong> usando <strong>${h}</strong>.</p>
        <p>Deseas vincular tu cuenta de <strong>${a1(e)}</strong> para poder iniciar sesin con ambos mtodos?</p>
      `,showCancelButton:!0,confirmButtonText:"S, vincular",cancelButtonText:"No, cancelar",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33"})).isConfirmed)return{success:!1,cancelled:!0};fe.fire({title:"Vinculando cuentas...",text:"Por favor espera",allowOutsideClick:!1,didOpen:()=>{fe.showLoading()}}),console.log("Iniciando sesin con mtodo existente...");const g=await kg(Ur,c);console.log("Login con mtodo existente exitoso");const y=await F1(g.user,s);return console.log("Cuentas vinculadas exitosamente"),fe.close(),{success:!0,user:y,linked:!0,providerLinked:a1(e)}}catch(t){throw console.error("Error vinculando cuentas:",t),fe.close(),t}},a1=n=>({google:"Google",facebook:"Facebook",github:"GitHub"})[n]||n,Mc="user_sessions",jj=async n=>{try{const e={userId:n.uid,userEmail:n.email,userName:n.displayName||n.email.split("@")[0],loginTime:new Date,logoutTime:null,duration:null,status:"active"},t=await gy(Ss(Yt,Mc),e);return localStorage.setItem("currentSessionId",t.id),t.id}catch(e){return console.error("Error registrando inicio de sesin:",e),null}},Oj=async()=>{try{const n=localStorage.getItem("currentSessionId");if(!n)return;const e=yr(Yt,Mc,n),t=new Date,s=await sf(e);if(s.exists()){const c=s.data().loginTime.toDate(),h=Math.round((t-c)/1e3);await py(e,{logoutTime:t,duration:h,status:"inactive"}),localStorage.removeItem("currentSessionId")}}catch(n){console.error("Error registrando cierre de sesin:",n)}},Mj=async(n={})=>{try{let e;if(n.userEmail&&!n.startDate&&!n.endDate)e=jc(Ss(Yt,Mc),Oc("loginTime","desc"));else if(n.startDate&&!n.userEmail){const o=new Date(n.startDate);e=jc(Ss(Yt,Mc),YN("loginTime",">=",o),Oc("loginTime","desc"))}else e=jc(Ss(Yt,Mc),Oc("loginTime","desc"));const t=await jE(e);let s=[];if(t.forEach(o=>{const c=o.data();s.push({id:o.id,...c})}),n.userEmail&&n.userEmail.trim()!==""){const o=n.userEmail.toLowerCase();s=s.filter(c=>c.userEmail&&c.userEmail.toLowerCase().includes(o))}if(n.endDate&&!n.userEmail){const o=new Date(n.endDate);o.setHours(23,59,59,999),s=s.filter(c=>(c.loginTime?.seconds?new Date(c.loginTime.seconds*1e3):new Date(c.loginTime))<=o)}if(n.userEmail&&(n.startDate||n.endDate)){let o=s;if(n.startDate){const c=new Date(n.startDate);o=o.filter(h=>(h.loginTime?.seconds?new Date(h.loginTime.seconds*1e3):new Date(h.loginTime))>=c)}if(n.endDate){const c=new Date(n.endDate);c.setHours(23,59,59,999),o=o.filter(h=>(h.loginTime?.seconds?new Date(h.loginTime.seconds*1e3):new Date(h.loginTime))<=c)}s=o}return s}catch(e){return console.error("Error obteniendo sesiones:",e),[]}},Pj=()=>{P.useEffect(()=>{const n=Ur.onAuthStateChanged(async e=>{e&&(console.log("Usuario autenticado, registrando sesin..."),await jj(e))});return()=>n()},[])};function Vj(){const n=Di(),[e,t]=P.useState(!1),[s,o]=P.useState({email:"",password:""});Pj();const c=async(x,A)=>{try{const I=await kj(x);I.success?(I.linked?await fe.fire({icon:"success",title:"Cuentas Vinculadas!",text:`Tu cuenta de ${I.providerLinked} ha sido vinculada exitosamente. Ahora puedes iniciar sesin con mltiples mtodos.`,confirmButtonText:"Continuar"}):await fe.fire({icon:"success",title:"xito!",text:`Sesin iniciada con ${A} correctamente`,timer:1500,showConfirmButton:!1}),n("/")):I.requiresPassword||I.cancelled&&await fe.fire({icon:"info",title:"Vinculacin Cancelada",text:"No se vincularon las cuentas",timer:2e3,showConfirmButton:!1})}catch(I){if(console.error(`Error de autenticacin con ${A}:`,I),I.code==="auth/popup-closed-by-user")return;if(I.code==="auth/cancelled-popup-request")return;I.code==="auth/popup-blocked"?fe.fire("Error","El navegador bloque la ventana emergente. Por favor habilita las ventanas emergentes para este sitio.","error"):fe.fire("Error",`Ocurri un error al iniciar sesin con ${A}`,"error")}},h=()=>c("google","Google"),p=()=>c("github","GitHub"),g=()=>c("facebook","Facebook"),y=x=>{o({...s,[x.target.name]:x.target.value})},w=async x=>{x.preventDefault();const{email:A,password:I}=s;if(!A||!I)return fe.fire("Error","Todos los campos son obligatorios","error");if(I.length<6)return fe.fire("Error","La contrasea debe tener al menos 6 caracteres","error");try{const B=A.toLowerCase(),U=(await T3(Ur,B,I)).user;fe.fire("xito!","Sesin iniciada correctamente","success"),n("/")}catch(B){console.error("Error de autenticacin: ",B),B.code==="auth/invalid-email"?fe.fire("Error","El correo electrnico no es vlido","error"):B.code==="auth/user-not-found"?fe.fire("Error","No existe un usuario con este correo","error"):B.code==="auth/wrong-password"?fe.fire("Error","Contrasea incorrecta","error"):B.code==="auth/too-many-requests"?fe.fire("Error","Demasiados intentos fallidos. Intenta ms tarde","error"):fe.fire("Error","Ocurri un error al iniciar sesin, Revise las Credenciales Ingresadas","error")}};return f.jsx("section",{className:"flex items-center justify-center min-h-screen bg-[#f0f0f0]",children:f.jsxs("div",{className:"w-full max-w-md bg-white/10 backdrop-blur-lg rounded-3xl shadow-2xl p-8 border border-white/20",children:[f.jsx("div",{className:"flex justify-center mb-6",children:f.jsx("img",{src:"../../public/logo.png",alt:"logo",className:"w-40 h-40 rounded-2xl"})}),f.jsx("h2",{className:"text-3xl font-extrabold text-center text-black mb-6",children:"INGRESAR"}),f.jsxs("form",{className:"space-y-5",onSubmit:w,children:[f.jsxs("label",{className:"w-full input input-bordered rounded-2xl border-black flex items-center gap-2 bg-white/10 text-black placeholder-black",children:[f.jsx("svg",{className:"h-5 opacity-70",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:f.jsxs("g",{strokeLinejoin:"round",strokeLinecap:"round",strokeWidth:"2.5",fill:"none",stroke:"currentColor",children:[f.jsx("rect",{width:"20",height:"16",x:"2",y:"4",rx:"2"}),f.jsx("path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"})]})}),f.jsx("input",{name:"email",type:"email",placeholder:"example@gmail.com",required:!0,className:"grow bg-transparent focus:outline-none",value:s.email,onChange:y})]}),f.jsxs("label",{className:"w-full input input-bordered rounded-2xl border-black flex items-center gap-2 bg-white/10 text-black placeholder-black-300",children:[f.jsx("svg",{className:"h-5 opacity-70",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:f.jsxs("g",{strokeLinejoin:"round",strokeLinecap:"round",strokeWidth:"2.5",fill:"none",stroke:"currentColor",children:[f.jsx("path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z"}),f.jsx("circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor"})]})}),f.jsx("input",{type:e?"text":"password",required:!0,name:"password",value:s.password,placeholder:"Password",minLength:"6",className:"grow bg-transparent focus:outline-none",onChange:y}),f.jsx("button",{type:"button",className:"p-2 text-gray-500 hover:text-gray-700 focus:outline-none transition-colors",onClick:()=>t(!e),children:e?f.jsx(pg,{}):f.jsx(kd,{})})]}),f.jsx("button",{type:"submit",className:"btn btn-dash btn-info w-full rounded-xl shadow-lg transition-all duration-500 hover:scale-105",children:"Ingresar"}),f.jsx("button",{type:"button",onClick:p,className:"btn w-full rounded-xl shadow-lg transition-all duration-500 hover:scale-105 bg-gray-900 text-white border-none hover:bg-gray-800",children:f.jsxs("div",{className:"flex items-center justify-center gap-2",children:[f.jsx("svg",{className:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),f.jsx("span",{children:"Ingresar con GitHub"})]})}),f.jsx("button",{type:"button",onClick:h,className:"btn w-full rounded-xl shadow-lg transition-all duration-500 hover:scale-105 bg-white text-gray-700 border-gray-300 hover:bg-gray-50",children:f.jsxs("div",{className:"flex items-center justify-center gap-2",children:[f.jsxs("svg",{className:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[f.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),f.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),f.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),f.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),f.jsx("span",{children:"Ingresar con Google"})]})}),f.jsx("button",{type:"button",onClick:g,className:"btn w-full rounded-xl shadow-lg transition-all duration-500 hover:scale-105 bg-blue-600 text-white border-none hover:bg-blue-700",children:f.jsxs("div",{className:"flex items-center justify-center gap-2",children:[f.jsx("svg",{className:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),f.jsx("span",{children:"Ingresar con Facebook"})]})})]}),f.jsxs("p",{className:"mt-6 text-sm text-center text-black",children:["No tienes cuenta?"," ",f.jsx("a",{href:"/register",className:"font-medium text-blue-400 hover:text-blue-300 hover:underline",children:"Regstrate"})]}),f.jsx("p",{className:"mt-6 text-sm text-center text-black",children:f.jsx("a",{href:"/confirm",className:"font-medium text-blue-400 hover:text-blue-300 hover:underline",children:"Olvidaste tu contrasea?"})})]})})}function Lj(){const n=Di(),[e,t]=P.useState(!1),[s,o]=P.useState(!1),[c,h]=P.useState({username:"",email:"",password:"",confirmPassword:""}),p=x=>{h({...c,[x.target.name]:x.target.value})},g=async(x,A,I="password")=>{try{await Ub(yr(Yt,"Users",x.uid),{uid:x.uid,username:A,email:x.email,state:"pendiente",rol:"visitante",createdAt:new Date,method:I})}catch(B){throw console.error("Error guardando en Firestore:",B),B}},y=async x=>{x.preventDefault();const{username:A,email:I,password:B,confirmPassword:Y}=c;if(!A||!I||!B||!Y)return fe.fire("Error","Todos los campos son obligatorios","error");if(B.length<6)return fe.fire("Error","La contrasea debe tener al menos 6 caracteres","error");if(B!==Y)return fe.fire("Error","Las contraseas no coinciden","error");try{const U=I.toLowerCase(),Q=(await x3(Ur,U,B)).user;await g(Q,A,"password"),fe.fire("xito!","Usuario creado correctamente","success"),n("/")}catch(U){console.error("Error de registro: ",U),U.code==="auth/email-already-in-use"?await w(I.toLowerCase(),B,A):U.code==="auth/invalid-email"?fe.fire("Error","El correo electrnico no es vlido","error"):fe.fire("Error","Ocurri un error durante el registro","error")}},w=async(x,A,I)=>{try{const B=await $1(Ur,x);if(console.log("Mtodos existentes para",x,":",B),B.length===0){fe.fire({icon:"error",title:"Email en Uso",text:"Este correo ya est registrado. Intenta iniciar sesin.",confirmButtonText:"Ir a Login",showCancelButton:!0,cancelButtonText:"Cancelar"}).then(ge=>{ge.isConfirmed&&n("/login")});return}const Y=B.map(ge=>ge==="google.com"?"Google":ge==="facebook.com"?"Facebook":ge==="github.com"?"GitHub":ge==="password"?"Correo y Contrasea":ge);if(B.includes("password")){fe.fire({icon:"error",title:"Email en Uso",text:"Ya existe una cuenta con correo y contrasea para este email.",confirmButtonText:"Ir a Login",showCancelButton:!0,cancelButtonText:"Cancelar"}).then(ge=>{ge.isConfirmed&&n("/login")});return}if(!(await fe.fire({icon:"question",title:" Vincular Cuenta",html:`
          <div style="text-align: left;">
            <p>Ya tienes una cuenta con <strong>${x}</strong> usando:</p>
            <ul style="padding-left: 20px; margin: 10px 0;">
              ${Y.map(ge=>`<li><strong>${ge}</strong></li>`).join("")}
            </ul>
            <p>Deseas agregar <strong>Correo y Contrasea</strong> como mtodo adicional de inicio de sesin?</p>
            <br>
            <p style="font-size: 14px; color: #666;">
               Podrs iniciar sesin con cualquier mtodo<br>
               Mantendrs todos tus datos<br>
               Es completamente seguro
            </p>
          </div>
        `,showCancelButton:!0,confirmButtonText:"S, vincular",cancelButtonText:"No, cancelar",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",width:"550px"})).isConfirmed)return;fe.fire({title:"Vinculando cuenta...",html:"Por favor inicia sesin con tu mtodo existente",allowOutsideClick:!1,didOpen:()=>{fe.showLoading()}});let ee,Q;B.includes("google.com")?(ee=yy,Q="Google"):B.includes("facebook.com")?(ee=wy,Q="Facebook"):B.includes("github.com")&&(ee=vy,Q="GitHub");const se=await kg(Ur,ee),ie=Oa.credential(x,A);await F1(se.user,ie);const ae=yr(Yt,"Users",se.user.uid);await Ub(ae,{username:I},{merge:!0}),fe.close(),await fe.fire({icon:"success",title:"Cuenta Vinculada!",text:"Ahora puedes iniciar sesin con correo y contrasea tambin.",confirmButtonText:"Continuar"}),n("/")}catch(B){console.error("Error en vinculacin:",B),fe.close(),B.code==="auth/popup-closed-by-user"?fe.fire({icon:"warning",title:"Proceso Cancelado",text:"Cerraste la ventana de autenticacin"}):B.code==="auth/provider-already-linked"?fe.fire({icon:"info",title:"Ya Vinculado",text:"Este mtodo ya est vinculado a tu cuenta."}):fe.fire({icon:"error",title:"Error",text:"No se pudo vincular la cuenta. "+B.message})}};return f.jsx("section",{className:"flex items-center justify-center min-h-screen bg-[#f0f0f0]",children:f.jsxs("div",{className:"w-full max-w-md bg-white/10 backdrop-blur-lg rounded-3xl shadow-2xl p-8 border border-white/20",children:[f.jsx("div",{className:"flex justify-center mb-6",children:f.jsx("img",{src:"../../public/logo.png",alt:"logo",className:"w-40 h-40 rounded-2xl"})}),f.jsx("h2",{className:"text-3xl font-extrabold text-center text-black mb-6",children:"REGISTRARSE"}),f.jsxs("form",{onSubmit:y,className:"space-y-5",children:[f.jsxs("label",{className:" w-full input input-bordered rounded-2xl border-black flex items-center gap-2 bg-white/10 text-black placeholder-black",children:[f.jsx("svg",{className:"h-5 opacity-70",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:f.jsxs("g",{strokeLinejoin:"round",strokeLinecap:"round",strokeWidth:"2.5",fill:"none",stroke:"currentColor",children:[f.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),f.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),f.jsx("input",{type:"text",name:"username",required:!0,placeholder:"Username",pattern:"[A-Za-z][A-Za-z0-9\\-]*",minLength:"3",maxLength:"30",title:"Only letters, numbers or dash",className:"grow bg-transparent focus:outline-none",value:c.username,onChange:p})]}),f.jsxs("label",{className:"w-full input input-bordered rounded-2xl border-black flex items-center gap-2 bg-white/10 text-black placeholder-black",children:[f.jsx("svg",{className:"h-5 opacity-70",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:f.jsxs("g",{strokeLinejoin:"round",strokeLinecap:"round",strokeWidth:"2.5",fill:"none",stroke:"currentColor",children:[f.jsx("rect",{width:"20",height:"16",x:"2",y:"4",rx:"2"}),f.jsx("path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"})]})}),f.jsx("input",{name:"email",type:"email",placeholder:"example@gmail.com",required:!0,className:"grow bg-transparent focus:outline-none",value:c.email,onChange:p})]}),f.jsxs("label",{className:"w-full input input-bordered rounded-2xl border-black flex items-center gap-2 bg-white/10 text-black placeholder-black",children:[f.jsx("svg",{className:"h-5 opacity-70",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:f.jsxs("g",{strokeLinejoin:"round",strokeLinecap:"round",strokeWidth:"2.5",fill:"none",stroke:"currentColor",children:[f.jsx("path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z"}),f.jsx("circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor"})]})}),f.jsx("input",{type:e?"text":"password",name:"password",required:!0,placeholder:"Password",minLength:"6",className:"grow bg-transparent focus:outline-none",value:c.password,onChange:p}),f.jsx("button",{type:"button",className:"p-2 text-gray-500 hover:text-gray-700 focus:outline-none transition-colors",onClick:()=>t(!e),children:e?f.jsx(pg,{}):f.jsx(kd,{})})]}),f.jsxs("label",{className:"w-full input input-bordered rounded-2xl border-black flex items-center gap-2 bg-white/10 text-black placeholder-black",children:[f.jsx("svg",{className:"h-5 opacity-70",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:f.jsxs("g",{strokeLinejoin:"round",strokeLinecap:"round",strokeWidth:"2.5",fill:"none",stroke:"currentColor",children:[f.jsx("path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z"}),f.jsx("circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor"})]})}),f.jsx("input",{type:s?"text":"password",name:"confirmPassword",required:!0,placeholder:"Confirm Password",minLength:"6",className:"grow bg-transparent focus:outline-none",value:c.confirmPassword,onChange:p}),f.jsx("button",{type:"button",className:"p-2 text-gray-500 hover:text-gray-700 focus:outline-none transition-colors",onClick:()=>o(!s),children:s?f.jsx(pg,{}):f.jsx(kd,{})})]}),f.jsx("button",{type:"submit",className:"btn btn-dash btn-info w-full rounded-xl shadow-lg transition-all duration-500 hover:scale-105",children:"Registrarse"})]}),f.jsxs("p",{className:"mt-6 text-sm text-center text-black",children:["Ya tienes cuenta?"," ",f.jsx(ve,{to:"/login",className:"font-medium text-blue-400 hover:text-blue-300 hover:underline",children:"Inicia sesin"})]})]})})}function Uj(){return f.jsx("section",{className:"flex items-center justify-center min-h-screen bg-[#f0f0f0]",children:f.jsxs("div",{className:"w-full max-w-md bg-white/10 backdrop-blur-lg rounded-3xl shadow-2xl p-8 border border-white/20",children:[f.jsx("div",{className:"flex justify-center mb-6",children:f.jsx("img",{src:"../../public/logo.png",alt:"logo",className:"w-40 h-40 rounded-2xl"})}),f.jsx("h2",{className:"text-3xl font-extrabold text-center text-black mb-6",children:"Confirmar Correo"}),f.jsxs("form",{className:"space-y-5",children:[f.jsxs("label",{className:" w-full input input-bordered border-black rounded-2xl flex items-center gap-2 bg-white/10 text-black placeholder-black",children:[f.jsx("svg",{className:"h-5 opacity-70",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:f.jsxs("g",{strokeLinejoin:"round",strokeLinecap:"round",strokeWidth:"2.5",fill:"none",stroke:"currentColor",children:[f.jsx("rect",{width:"20",height:"16",x:"2",y:"4",rx:"2"}),f.jsx("path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"})]})}),f.jsx("input",{type:"email",placeholder:"example@gmail.com",required:!0,className:"grow bg-transparent focus:outline-none"})]}),f.jsx(ve,{to:"/change",children:f.jsx("button",{type:"submit",className:"btn btn-dash btn-info w-full rounded-xl shadow-lg transition-all duration-500 hover:scale-105",children:"Enviar Correo"})})]})]})})}function Bj(){return f.jsx("section",{className:"flex items-center justify-center min-h-screen bg-[#f0f0f0]",children:f.jsxs("div",{className:"w-full max-w-md bg-white/10 backdrop-blur-lg rounded-3xl shadow-2xl p-8 border border-white/20",children:[f.jsx("div",{className:"flex justify-center mb-6",children:f.jsx("img",{src:"../../public/logo.png",alt:"logo",className:"w-40 h-40 rounded-2xl"})}),f.jsx("h2",{className:"text-3xl font-extrabold text-center text-black mb-6",children:"Change Password"}),f.jsxs("form",{className:"space-y-5",children:[f.jsxs("label",{className:"w-full input input-bordered border-black  flex items-center gap-2 bg-white/10 text-black placeholder-black",children:[f.jsx("svg",{className:"h-5 opacity-70",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:f.jsxs("g",{strokeLinejoin:"round",strokeLinecap:"round",strokeWidth:"2.5",fill:"none",stroke:"currentColor",children:[f.jsx("path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z"}),f.jsx("circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor"})]})}),f.jsx("input",{type:"password",required:!0,placeholder:"Password",minLength:"8",pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}",title:"Must be more than 8 characters, including number, lowercase letter, uppercase letter",className:"grow bg-transparent focus:outline-none"})]}),f.jsxs("label",{className:"w-full input input-bordered border-black  flex items-center gap-2 bg-white/10 text-black placeholder-black",children:[f.jsx("svg",{className:"h-5 opacity-70",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:f.jsxs("g",{strokeLinejoin:"round",strokeLinecap:"round",strokeWidth:"2.5",fill:"none",stroke:"currentColor",children:[f.jsx("path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z"}),f.jsx("circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor"})]})}),f.jsx("input",{type:"password",required:!0,placeholder:"Confirm Password",minLength:"8",pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}",title:"Must be more than 8 characters, including number, lowercase letter, uppercase letter",className:"grow bg-transparent focus:outline-none"})]}),f.jsx(ve,{to:"/login",children:f.jsx("button",{type:"submit",className:"btn btn-dash btn-info w-full rounded-xl shadow-lg transition-all duration-500 hover:scale-105",children:"Change Password"})})]})]})})}function zj(){return f.jsx("div",{className:"w-full items-center justify-center p-5",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h2",{className:"font-bold text-3xl",children:"Hooks de React"}),f.jsxs("table",{className:"table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Nombre"}),f.jsx("th",{children:"Explicacion"}),f.jsx("th",{children:"Categorias"}),f.jsx("th",{children:"Enlace"})]})}),f.jsxs("tbody",{children:[f.jsxs("tr",{children:[f.jsx("th",{children:"UseState"}),f.jsx("td",{children:"El hook useState en React es una funcin que permite a los componentes funcionales manejar estado local. Recibe un valor inicial y devuelve un arreglo con dos elementos: el estado actual y una funcin para actualizarlo. Cada vez que se llama a esta funcin, React actualiza el valor del estado y vuelve a renderizar el componente con la informacin ms reciente. Su uso debe seguir ciertas reglas, como llamarlo siempre en el nivel superior del componente y nunca dentro de condicionales o bucles, para que React pueda mantener el estado de forma correcta entre renders."}),f.jsx("td",{className:"text-success",children:"Estado"}),f.jsx("td",{children:f.jsx(ve,{to:"/usestate",className:"link-accent",children:"Ir al Hook"})})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"UseCallback"}),f.jsx("td",{children:"Tiene como memorizar funciones para evitar que se vuelvan a crear en cada render innecesariamente, lo que ayuda a optimizar el rendimiento cuando esas funciones se pasan como props a componentes hijos o se usan en otros hooks"}),f.jsx("td",{className:"text-success",children:"Rendimiento"}),f.jsx("td",{children:f.jsx(ve,{to:"/usecallback",className:"link-accent",children:"Ir al Hook"})})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"UseContext"}),f.jsx("td",{children:"El hook useContext en React es una funcin que permite acceder al valor de un contexto creado con createContext, sin tener que pasar props manualmente a travs de todos los niveles del rbol de componentes. Esto facilita compartir datos globales, como temas, idioma o informacin del usuario, de manera sencilla y eficiente dentro de la aplicacin."}),f.jsx("td",{className:"text-success",children:"Contexto"}),f.jsx("td",{children:f.jsx(ve,{to:"/usecontext",className:"link-accent",children:"Ir al Hook"})})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"UseDebug"}),f.jsx("td",{children:"Se usa principalmente para mostrar etiquetas personalizadas en React DevTools cuando inspeccionas un hook personalizado."}),f.jsx("td",{className:"text-success",children:"Depuracin"}),f.jsx("td",{children:f.jsx(ve,{to:"/usedebug",className:"link-accent",children:"Ir al Hook"})})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"useDeferredValue"}),f.jsx("td",{children:"El hook useDeferredValue permite diferir la actualizacin de un valor para que React priorice actualizaciones ms urgentes (como la entrada del usuario), y deje otras partes de la interfaz para ms adelante, evitando bloqueos o lentitud"}),f.jsx("td",{className:"text-success",children:"Rendimiento"}),f.jsx("td",{children:f.jsx(ve,{to:"/usedeffer",className:"link-accent",children:"Ir al Hook"})})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"UseEffect"}),f.jsx("td",{children:"Estos hooks sirven para ejecutar cdigo que ocurre fuera del flujo de renderizado del componente, es decir, para manejar efectos secundarios."}),f.jsx("td",{className:"text-success",children:"Efectos"}),f.jsx("td",{children:f.jsx(ve,{to:"/useeffect",className:"link-accent",children:"Ir al Hook"})})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"UseId"}),f.jsx("td",{children:"Se usa para generar IDs nicos y estables para elementos que necesitan un identificador en el DOM, especialmente para accesibilidad o cuando hay formularios dinmicos."}),f.jsx("td",{className:"text-success",children:"Utilidades"}),f.jsx("td",{children:f.jsx(ve,{to:"/useid",className:"link-accent",children:"Ir al Hook"})})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"UseImperativeHandle"}),f.jsx("td",{children:"Por defecto, cuando pasas una referencia (ref) a un componente con forwardRef, esa ref apunta al nodo DOM interno o al componente hijo."}),f.jsx("td",{className:"text-success",children:"Referencia"}),f.jsx("td",{children:f.jsx(ve,{to:"/useimperativehandle",className:"link-accent",children:"Ir al Hook"})})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"UseInsertionEffect"}),f.jsx("td",{children:"l hook useInsertionEffect en React es un hook especial que se ejecuta justo antes de que el navegador inserte cambios en el DOM, pero despus de que React haya calculado todas las actualizaciones. Se utiliza principalmente para bibliotecas de estilos o situaciones donde necesitas inyectar CSS dinmicamente de forma sincronizada con el renderizado, evitando parpadeos o estilos incorrectos."}),f.jsx("td",{className:"text-success",children:"Efecto"}),f.jsx("td",{children:f.jsx(ve,{to:"/useinsertioneffect",className:"link-accent",children:"Ir al Hook"})})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"UseLayoutEffect"}),f.jsx("td",{children:"Es un hook similar a useEffect, pero se ejecuta justo despus de que React actualiza el DOM y antes de que el navegador pinte en pantalla; se usa cuando necesitas leer o modificar el DOM de forma inmediata (como medir el tamao de un elemento) para evitar que el usuario vea un parpadeo en la interfaz."}),f.jsx("td",{className:"text-success",children:"Efecto"}),f.jsx("td",{children:f.jsx(ve,{to:"/uselayouteffect",className:"link-accent",children:"Ir al Hook"})})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"UseMemo"}),f.jsx("td",{children:"Memoriza el resultado de una funcin o clculo y solo lo vuelve a ejecutar si cambian las dependencias que le indiques; se utiliza para optimizar el rendimiento y evitar clculos innecesarios en cada render, especialmente en operaciones costosas como filtros, listas grandes o clculos matemticos complejos."}),f.jsx("td",{className:"text-success",children:"Performance"}),f.jsx("td",{children:f.jsx(ve,{to:"/usememo",className:"link-accent",children:"Ir al Hook"})})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"UseOptimistic"}),f.jsx("td",{children:"Es un hook experimental pensado para manejar actualizaciones optimistas en la UI, es decir, mostrar de inmediato un cambio (como un like o una nueva tarea en una lista) sin esperar la respuesta del servidor, lo que hace que la aplicacin se sienta ms rpida; luego, si el servidor confirma, se mantiene el cambio, y si falla, se puede revertir."}),f.jsx("td",{className:"text-success",children:"Nuevo en React"}),f.jsx("td",{children:f.jsx(ve,{to:"/useoptimistic",className:"link-accent",children:"Ir al Hook"})})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"UseReducer"}),f.jsx("td",{children:"Sirve para manejar estados ms complejos que con useState, porque en vez de cambiar el valor directamente, usas una funcin reductora (reducer) que recibe el estado actual y una accin, y devuelve el nuevo estado; esto es til cuando hay varias formas distintas de modificar el mismo estado, como en un contador con botones para sumar, restar y resetear, o en una lista de tareas con acciones para agregar, eliminar o marcar como completada"}),f.jsx("td",{className:"text-success",children:"Estado"}),f.jsx("td",{children:f.jsx(ve,{to:"/usereducer",className:"link-accent",children:"Ir al Hook"})})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"UseRef"}),f.jsx("td",{children:"Sirve para guardar un valor que no se pierde entre renders, sin que al cambiar ese valor se vuelva a renderizar el componente. Tambin se usa mucho para referenciar elementos del DOM (como inputs o divs) y poder manipularlos directamente (por ejemplo, hacer focus en un input)."}),f.jsx("td",{className:"text-success",children:"Referencias"}),f.jsx("td",{children:f.jsx(ve,{to:"/useref",className:"link-accent",children:"Ir al Hook"})})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"UseActionsState"}),f.jsx("td",{children:"Sirve para manejar el estado de un formulario o accin asncrona de forma ms simple. Cuando usas useActionState, React te da un estado (state) y una funcin (action) que se encarga de procesar algo (por ejemplo, enviar un formulario) y actualizar automticamente ese estado con el resultado. As no tienes que manejar useState manualmente para el cargando, xito o error."}),f.jsx("td",{className:"text-success",children:"Nuevo en React"}),f.jsx("td",{children:f.jsx(ve,{to:"/useactionstate",className:"link-accent",children:"Ir al Hook"})})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"UseSyncExternalStore"}),f.jsx("td",{children:"Sirve para conectarte a un estado externo (algo que no est dentro de React, como el localStorage, un store global, o incluso el window con un event listener)."}),f.jsx("td",{className:"text-success",children:"Contexto"}),f.jsx("td",{children:f.jsx(ve,{to:"/usesyncexternalstore",className:"link-accent",children:"Ir al Hook"})})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"UseTransition"}),f.jsx("td",{children:"Sirve para manejar actualizaciones que no son urgentes (como filtros, bsquedas, o cargar datos)."}),f.jsx("td",{className:"text-success",children:"Performance"}),f.jsx("td",{children:f.jsx(ve,{to:"/usetransition",className:"link-accent",children:"Ir al Hook"})})]})]})]})]})})}function Hj(){const[n,e]=P.useState(0);return f.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center  ",children:[f.jsx("h1",{className:"text-3xl font-extrabold",children:"Hook UseState"}),f.jsxs("div",{className:"w-full items-center justify-center p-5",children:[f.jsxs("h1",{className:"text-warning font-bold text-2xl",children:["Contador: ",n]}),f.jsxs("div",{className:"flex gap-3 flex-row mt-2",children:[f.jsx("button",{onClick:()=>e(n+1),className:"btn btn-success",children:"Aumentar"}),f.jsx("button",{onClick:()=>e(n-1),className:"btn btn-primary",children:"Disminuir"})]}),f.jsx(ve,{to:"/home",className:"btn btn-dash w-28 justify-center link-accent mt-2",children:"Ir al Home"})]})]})}function qj(){const[n,e]=P.useState(""),t=["Ana","Luis","Pedro","Maria","Juan"],s=P.useCallback(()=>t.filter(o=>o.toLowerCase().includes(n.toLowerCase())),[n]);return f.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-5 gap-3",children:[f.jsx("h1",{className:"items-center font-bold text-3xl",children:"Hook CallBack"}),f.jsx("input",{className:"input input-accent",type:"text",placeholder:"Filtrar usuarios",value:n,onChange:o=>e(o.target.value)}),f.jsx("ul",{children:s().map((o,c)=>f.jsx("li",{children:o},c))}),f.jsx(ve,{to:"/home",className:"btn btn-dash w-28 justify-center link-accent mt-2",children:"Ir al Home"})]})}const eT=P.createContext();function Fj(){const{tema:n,toggleTema:e}=P.useContext(eT);return f.jsxs("button",{onClick:e,className:`btn ${n==="dark"?"btn-primary":"btn-light"}`,children:["Botn con tema ",n]})}function Gj(){const[n,e]=P.useState("light"),t=()=>{e(s=>s==="light"?"dark":"light")};return f.jsx(eT.Provider,{value:{tema:n,toggleTema:t},children:f.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-5 gap-3",children:[f.jsx("h1",{className:"items-center font-bold text-3xl",children:"Hook UseContext"}),f.jsx(Fj,{}),f.jsx(ve,{to:"/home",className:"btn btn-dash w-28 justify-center link-accent mt-2",children:"Ir al Home"})]})})}function $j(){const[n,e]=P.useState(!0);return P.useDebugValue(n?"En linea":"Desconectado"),P.useEffect(()=>{const t=setInterval(()=>{e(s=>!s)},3e3);return()=>clearInterval(t)},[]),n}function Yj(){const n=$j();return f.jsxs("div",{className:"flex flex-col",children:[f.jsx("h1",{className:"mt-2 flex items-center justify-center font-bold text-3xl text-secondary",children:"Hook UseDebug"}),f.jsx("h1",{className:"mt-2 flex items-center justify-center font-bold text-3xl",children:n?"En linea":"Desconectado"}),f.jsx("button",{className:"flex items-center justify-center",children:f.jsx(ve,{to:"/home",className:"btn btn-dash w-28 justify-center link-accent mt-2",children:"Ir al Home"})})]})}function Kj(){const[n,e]=P.useState(""),t=P.useDeferredValue(n);return f.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-5 gap-3",children:[f.jsx("h1",{className:"text-3xl font-extrabold",children:"Hook useDeferredValue"}),f.jsx("input",{type:"text",className:"input input-info",value:n,onChange:s=>e(s.target.value)}),f.jsx(Qj,{query:t}),f.jsx(ve,{to:"/home",className:"btn btn-dash w-28 justify-center link-accent mt-2",children:"Ir al Home"})]})}function Qj({query:n}){const e=[];for(let t=0;t<10;t++)e.push(`Item ${t} - ${n}`);return f.jsx("div",{children:e})}function Xj(){const[n,e]=P.useState(0);return P.useEffect(()=>{console.log("El contador cambi a:",n)},[n]),f.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-5 gap-3",children:[f.jsx("h1",{className:"text-5xl font-extrabold",children:"Hook UseEffect"}),f.jsxs("h1",{className:"text-4xl font-bold",children:["Contador: ",n]}),f.jsx("button",{className:"btn btn-accent font-bold",onClick:()=>e(n+1),children:"Incrementar"}),f.jsx(ve,{to:"/home",className:"btn btn-dash w-28 justify-center link-accent mt-2",children:"Ir al Home"})]})}function Wj(){const n=P.useId(),[e,t]=P.useState([{nombre:"",email:""},{nombre:"",email:""}]),s=(c,h,p)=>{t(g=>{const y=[...g];return y[c][h]=p,y})},o=()=>{t(c=>[...c,{nombre:"",email:""}])};return f.jsxs("div",{className:"p-5 flex flex-col gap-3",children:[f.jsx("h1",{className:"text-2xl font-extrabold text-center ",children:"HookUseId"}),e.map((c,h)=>{const p=`${n}-nombre-${h}`,g=`${n}-email-${h}`;return f.jsxs("div",{className:"flex flex-col gap-2 border p-3 rounded-md",children:[f.jsxs("div",{children:[f.jsxs("label",{htmlFor:p,children:["Nombre ",h+1,": "]}),f.jsx("input",{id:p,type:"text",value:c.nombre,onChange:y=>s(h,"nombre",y.target.value),className:"border p-1 ml-2"})]}),f.jsxs("div",{children:[f.jsxs("label",{htmlFor:g,children:["Email ",h+1,": "]}),f.jsx("input",{id:g,type:"email",value:c.email,onChange:y=>s(h,"email",y.target.value),className:"border p-1 ml-2"})]})]},h)}),f.jsx("button",{onClick:o,className:"bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700",children:"Agregar usuario"}),f.jsx(ve,{to:"/home",className:"btn btn-dash w-28 justify-center link-accent mt-2",children:"Ir al Home"}),f.jsx("pre",{className:"mt-4 p-2 rounded",children:JSON.stringify(e,null,2)})]})}const Zj=P.forwardRef((n,e)=>{const[t,s]=P.useState(!0);return P.useImperativeHandle(e,()=>({mostrar(){s(!0)},ocultar(){s(!1)}})),f.jsx("div",{children:t&&f.jsx("div",{className:"w-full h-20 flex items-center justify-center bg-accent",children:"Soy la caja"})})});function Jj(){const n=P.useRef();return f.jsxs("div",{className:"w-full h-full flex flex-col  p-5 gap-3",children:[f.jsx("h1",{className:"font-extrabold text-4xl flex justify-center",children:"Hook UseImperativeHandle"}),f.jsx(Zj,{ref:n}),f.jsxs("div",{className:"gap-3 flex justify-center",children:[f.jsx("button",{className:"btn btn-primary font-semibold",onClick:()=>n.current.mostrar(),children:"Mostrar"}),f.jsx("button",{className:"btn btn-error font-semibold",onClick:()=>n.current.ocultar(),children:"Ocultar"})]}),f.jsx(ve,{to:"/home",className:"btn btn-dash w-28 justify-center link-accent mt-2",children:"Ir al Home"})]})}function e9(){const[n,e]=P.useState("lightblue");return P.useInsertionEffect(()=>{const t=document.createElement("style");return t.innerHTML=`.dynamic { background-color: ${n}; padding: 20px; }`,document.head.appendChild(t),()=>{document.head.removeChild(t)}},[n]),f.jsxs("div",{className:"flex w-full h-full flex-col items-center justify-center p-5 gap-3",children:[f.jsx("h1",{className:"text-3xl font-extrabold",children:"Hook useInsertionEffect"}),f.jsx("div",{className:"dynamic text-black font-semibold",children:"Caja con color dinmico"}),f.jsxs("div",{className:"flex flex-row gap-2",children:[f.jsx("button",{className:"btn btn-success",onClick:()=>e("lightgreen"),children:"Verde"}),f.jsx("button",{className:"btn btn-error",onClick:()=>e("lightcoral"),children:"Rojo"})]}),f.jsx(ve,{to:"/home",className:"btn btn-dash w-28 justify-center link-accent mt-2",children:"Ir al Home"})]})}function t9(){const[n,e]=P.useState(0),t=P.useRef(null);return P.useLayoutEffect(()=>{if(t.current){const s=t.current.getBoundingClientRect().width;e(s),console.log("useLayoutEffect -> ancho medido:",s)}},[]),f.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black",children:f.jsxs("div",{ref:t,className:"w-full max-w-md bg-white/10 backdrop-blur-lg rounded-3xl shadow-2xl p-8 border border-white/20  justify-center grid",children:[f.jsx("h1",{className:"text-xl font-bold mb-4",children:"Probando useLayoutEffect"}),f.jsxs("p",{children:["El ancho de la caja es: ",n,"px"]}),f.jsx("div",{className:"bg-white text-black p-2 border rounded w-[100%] text-center mt-4",children:f.jsx(ve,{to:"/home",children:"Volver al Home"})})]})})}function n9(){const[n,e]=P.useState(0),t=P.useMemo(()=>(console.log(" Calculando el doble..."),n*2),[n]);return f.jsxs("div",{className:"flex flex-col   gap-2 items-center justify-center min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black",children:[f.jsx("h1",{className:"text-xl font-bold",children:"Probando useMemo"}),f.jsxs("p",{children:["Contador: ",n]}),f.jsxs("p",{children:["Doble del contador: ",t]}),f.jsx("button",{onClick:()=>e(n+1),className:"px-4 py-2 bg-blue-600 rounded-lg cursor-pointer",children:"Incrementar"}),f.jsx("div",{className:"bg-white border rounded p-2 text-black",children:f.jsx(ve,{to:"/home",children:"Volver a Home"})})]})}function r9(){const[n,e]=P.useState(["UseOptimistic"]),[t,s]=P.useOptimistic(n);async function o(){const c="Nueva tarea";s([...t,c]);try{await new Promise(h=>setTimeout(h,1e3)),e(h=>[...h,c])}catch{console.log("Error al guardar la tarea")}}return f.jsxs("div",{className:"flex flex-col   gap-2 items-center justify-center min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black",children:[f.jsx("h2",{className:"p-2 bg-gray-700",children:"Lista de Tareas"}),f.jsx("ul",{children:t.map((c,h)=>f.jsx("li",{children:c},h))}),f.jsx("button",{onClick:o,className:"bg-gray-500 p-2 rounded cursor-pointer",children:"Agregar tarea"}),f.jsx("div",{className:"bg-white border rounded p-2 text-black",children:f.jsx(ve,{to:"/home",children:"Volver a Home"})})]})}function i9(n,e){switch(e.type){case"incrementar":return{count:n.count+1};case"decrementar":return{count:n.count-1};case"reset":return{count:0};default:return n}}function s9(){const[n,e]=P.useReducer(i9,{count:0});return f.jsx("div",{className:"flex flex-col  gap-2 items-center justify-center min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black",children:f.jsxs("div",{className:"flex flex-col justify-center items-center bg-gray-600 p-4 rounded gap-4",children:[f.jsxs("h1",{children:["Contador: ",n.count]}),f.jsxs("div",{className:"flex  justify-center items-center gap-3",children:[f.jsx("button",{onClick:()=>e({type:"incrementar"}),className:"bg-green-700 p-2 rounded cursor-pointer",children:"Incrementar"}),f.jsx("button",{onClick:()=>e({type:"decrementar"}),className:"bg-red-700 p-2 rounded cursor-pointer",children:"Disminuir"}),f.jsx("button",{onClick:()=>e({type:"reset"}),className:"bg-black p-2 rounded cursor-pointer",children:"Resetear"})]}),f.jsx("div",{className:"bg-white rounded p-2 text-black",children:f.jsx(ve,{to:"/home",children:"Volver a Home"})})]})})}function a9(){const n=P.useRef(null),e=()=>{n.current.focus()};return f.jsx("div",{className:"flex flex-col  gap-2 items-center justify-center min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black",children:f.jsxs("div",{className:"flex flex-col justify-center items-center bg-gray-600 p-4 rounded gap-4",children:[f.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Probando UseRef"}),f.jsx("input",{ref:n,type:"text",placeholder:"Escribe algo...",className:"px-4 py-2 rounded-lg border border-gray-300 text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.jsx("button",{onClick:e,className:"mt-4 px-6 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg shadow-lg transition",children:"Dar Focus al Input"}),f.jsx("div",{className:"bg-white text-black p-2 rounded cursor-pointer",children:f.jsx(ve,{to:"/home",children:"Volver a Home"})})]})})}function o9(){const[n,e,t]=P.useActionState(async(s,o)=>(await new Promise(c=>setTimeout(c,1e3)),`Hola ${o.get("nombre")}`),"");return f.jsx("div",{className:"flex flex-col gap-2 items-center justify-center min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black",children:f.jsxs("div",{className:"flex flex-col justify-center items-center bg-gray-600 p-4 rounded gap-4",children:[f.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Probando useActionState"}),f.jsxs("form",{action:e,className:"flex flex-col gap-4 w-64",children:[f.jsx("input",{name:"nombre",placeholder:"Escribe tu nombre",className:"px-4 py-2 rounded-lg border border-gray-300 text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.jsx("button",{type:"submit",disabled:t,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg shadow-lg transition disabled:opacity-50",children:t?"Enviando...":"Enviar"})]}),n&&f.jsx("p",{className:"mt-4 text-lg",children:n}),f.jsx("div",{className:"bg-white rounded p-2 text-black",children:f.jsx(ve,{to:"/home",children:"Volver a Home"})})]})})}function l9(){const n=e=>(window.addEventListener("resize",e),()=>window.removeEventListener("resize",e));return P.useSyncExternalStore(n,()=>window.innerWidth)}function c9(){const n=l9();return f.jsx("div",{className:"flex flex-col  gap-2 items-center justify-center min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black",children:f.jsxs("div",{className:"flex flex-col justify-center items-center bg-gray-600 p-4 rounded gap-4",children:[f.jsx("h1",{className:"text-2xl font-bold text-white",children:"Probando useSyncExternalStore"}),f.jsx("p",{className:"mt-4 text-gray-900",children:"El ancho actual de la ventana es:"}),f.jsxs("span",{className:"mt-2 block text-3xl font-bold text-white ",children:[n,"px"]}),f.jsx("div",{className:"bg-white rounded p-2 text-black",children:f.jsx(ve,{to:"/home",children:"Volver a Home"})})]})})}const u9=Array.from({length:2e3},(n,e)=>`Persona ${e+1}`);function h9(){const[n,e]=P.useState(""),[t,s]=P.useTransition(),o=h=>{const p=h.target.value;e(p),s(()=>{e(p)})},c=u9.filter(h=>h.toLowerCase().includes(n.toLowerCase()));return f.jsxs("div",{className:"flex flex-col  gap-2 items-center justify-center min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black",children:[f.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Probando useTransition"}),f.jsx("input",{type:"text",value:n,onChange:o,placeholder:"Escribe un nmero...",className:"p-2 border rounded-lg shadow-sm w-80 focus:outline-none focus:ring-2 focus:ring-blue-400"}),t&&f.jsx("p",{className:"mt-2 text-sm text-gray-500 animate-pulse",children:"Filtrando resultados..."}),f.jsx("ul",{className:"mt-4 w-80 max-h-80 overflow-y-auto bg-white rounded-lg shadow p-2 border-5 border-black",children:c.map((h,p)=>f.jsx("li",{className:"border-b last:border-none p-1 text-gray-700",children:h},p))}),f.jsx("div",{className:"bg-white rounded p-2 text-black",children:f.jsx(ve,{to:"/home",children:"Volver a Home"})})]})}function d9(){const[n,e]=P.useState(null),[t,s]=P.useState(!0),[o,c]=P.useState(!1),[h,p]=P.useState(!1),g=Di();P.useEffect(()=>{const A=Ur.onAuthStateChanged(I=>{e(I),s(!1),I&&I.email==="admin@gmail.com"?p(!0):p(!1),console.log("Usuario actual:",I)});return()=>A()},[]);const y=async()=>{if((await fe.fire({title:"Cerrar Sesin?",text:"Ests seguro de que deseas cerrar sesin?",icon:"question",showCancelButton:!0,confirmButtonText:"S, cerrar sesin",cancelButtonText:"Cancelar",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33"})).isConfirmed)try{await Oj(),await R3(Ur),c(!1),fe.fire({icon:"success",title:"Sesin Cerrada",text:"Has cerrado sesin exitosamente",timer:1500,showConfirmButton:!1}),g("/")}catch(I){console.error("Error al cerrar sesin:",I),fe.fire("Error","No se pudo cerrar sesin","error")}},w=()=>n?.displayName?n.displayName:n?.email?n.email.split("@")[0]:"Usuario",x=()=>n?.photoURL||`https://ui-avatars.com/api/?name=${w()}&background=3b82f6&color=fff`;return t?f.jsxs("div",{className:"navbar bg-[#f0f0f0] shadow-sm px-4",children:[f.jsx("div",{className:"navbar-start",children:f.jsxs("a",{className:"text-xl font-bold text-black flex items-center gap-2",children:[f.jsx(_i,{className:"text-blue-500"}),"NextRead"]})}),f.jsx("div",{className:"navbar-end",children:f.jsx("span",{className:"loading loading-spinner loading-sm"})})]}):f.jsxs("div",{className:"navbar bg-[#f0f0f0] shadow-sm px-4",children:[f.jsx("div",{className:"navbar-start",children:f.jsxs(ve,{to:"/",className:"text-xl font-bold text-black flex items-center gap-2 hover:opacity-80 transition-opacity",children:[f.jsx(_i,{className:"text-blue-500"}),"NextRead"]})}),f.jsxs("div",{className:"navbar-end gap-2",children:[f.jsx(ve,{to:"/books",children:f.jsxs("button",{className:"btn bg-blue-500 hover:bg-blue-600 text-white border-none",children:[f.jsx(mf,{className:"mr-2"}),"Vender Libro"]})}),f.jsx(ve,{to:"/opinions",children:f.jsxs("button",{className:"btn bg-blue-500 hover:bg-blue-600 text-white border-none",children:[f.jsx(Ej,{className:"mr-2"}),"Opinar Libro"]})}),h&&f.jsx(ve,{to:"/admin/users",children:f.jsxs("button",{className:"btn bg-green-500 hover:bg-green-600 text-white border-none",children:[f.jsx(gg,{className:"mr-2"}),"Mirar Usuarios"]})}),n?f.jsxs("div",{className:"relative",children:[f.jsxs("button",{onClick:()=>c(!o),className:"flex items-center gap-2 btn btn-ghost hover:bg-blue-100 px-3",children:[f.jsx("img",{src:x(),alt:w(),className:"w-8 h-8 rounded-full object-cover ring-2 ring-blue-500"}),f.jsx("span",{className:"font-medium text-black hidden md:inline",children:w()}),f.jsx("svg",{className:`w-4 h-4 transition-transform ${o?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),o&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>c(!1)}),f.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 z-20",children:[f.jsx("div",{className:"p-4 border-b border-gray-200",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("img",{src:x(),alt:w(),className:"w-12 h-12 rounded-full object-cover"}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("p",{className:"font-semibold text-black truncate",children:w()}),f.jsx("p",{className:"text-xs text-gray-500 truncate",children:n.email})]})]})}),f.jsxs("div",{className:"py-2",children:[f.jsxs(ve,{to:"/profile",className:"flex items-center gap-3 px-4 py-2 text-black hover:bg-blue-50 transition-colors",onClick:()=>c(!1),children:[f.jsx(Dd,{className:"text-blue-500"}),f.jsx("span",{children:"Mi Perfil"})]}),f.jsxs(ve,{to:"/settings",className:"flex items-center gap-3 px-4 py-2 text-black hover:bg-blue-50 transition-colors",onClick:()=>c(!1),children:[f.jsx(_j,{className:"text-blue-500"}),f.jsx("span",{children:"Configuracin"})]}),f.jsx("hr",{className:"my-2 border-gray-200"}),f.jsxs("button",{onClick:y,className:"w-full flex items-center gap-3 px-4 py-2 text-red-600 hover:bg-red-50 transition-colors",children:[f.jsx(Tj,{}),f.jsx("span",{children:"Cerrar Sesin"})]})]})]})]})]}):f.jsxs(f.Fragment,{children:[f.jsx(ve,{to:"/login",children:f.jsxs("button",{className:"btn btn-ghost text-black hover:bg-blue-100",children:[f.jsx(Dd,{className:"mr-2"}),"Iniciar Sesin"]})}),f.jsx(ve,{to:"/register",children:f.jsxs("button",{className:"btn bg-white text-black border-blue-500 hover:bg-blue-50",children:[f.jsx(Ij,{className:"mr-2"}),"Registrarse"]})})]})]})]})}function f9(){return f.jsx("footer",{className:"footer bg-[#f0f0f0] p-8 text-black",children:f.jsxs("div",{className:"w-full text-center flex flex-col items-center justify-center",children:[f.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto text-center",children:"Tu plataforma favorita para comprar y vender libros de segunda mano."}),f.jsxs("div",{className:"flex justify-center gap-6 mb-6 items-center",children:[f.jsx("a",{className:"text-gray-600 hover:text-blue-500 transition-colors",children:f.jsx(yj,{className:"text-xl"})}),f.jsx("a",{className:"text-gray-600 hover:text-blue-500 transition-colors",children:f.jsx(vj,{className:"text-xl"})}),f.jsx("a",{className:"text-gray-600 hover:text-blue-500 transition-colors",children:f.jsx(gj,{className:"text-xl"})})]}),f.jsx("div",{className:"text-gray-500 text-sm text-center",children:f.jsxs("p",{children:[" ",new Date().getFullYear()," NextRead. Todos los derechos reservados."]})})]})})}function m9(){return f.jsxs("div",{className:"w-full min-h-screen bg-[#f0f0f0] flex flex-col",children:[f.jsx(d9,{}),f.jsx("div",{className:"w-full flex-1 text-black font-bold text-3xl",children:f.jsx("h1",{children:"Content"})}),f.jsx(f9,{className:"flex justify-end"})]})}function p9(){const n=Di(),[e,t]=P.useState({title:"",author:"",category:"",price:"",description:""}),[s,o]=P.useState([]),[c,h]=P.useState(!1),p=["Ficcin","Ciencia Ficcin","Fantasa","Misterio","Romance","Terror","Historia","Ciencia","Tecnologa","Arte","Infantil","Poesa","Drama"],g=A=>{const{name:I,value:B}=A.target;t(Y=>({...Y,[I]:B}))},y=A=>{const I=Array.from(A.target.files);if(s.length+I.length>5){fe.fire({icon:"warning",title:"Lmite de imgenes",text:"Solo puedes subir hasta 5 imgenes",timer:3e3});return}const B=I.filter(Y=>Y.type.startsWith("image/"));if(B.length!==I.length){fe.fire({icon:"error",title:"Archivo no vlido",text:"Solo se permiten archivos de imagen",timer:3e3});return}B.forEach(Y=>{const U=new FileReader;U.onload=ee=>{o(Q=>[...Q,{file:Y,preview:ee.target.result}])},U.readAsDataURL(Y)})},w=A=>{o(I=>I.filter((B,Y)=>Y!==A))},x=async A=>{if(A.preventDefault(),h(!0),!e.title||!e.author||!e.category||!e.price){fe.fire({icon:"error",title:"Campos requeridos",text:"Por favor completa todos los campos obligatorios",timer:3e3}),h(!1);return}try{const I=s.map(Y=>Y.preview),B={title:e.title.trim(),author:e.author.trim(),category:e.category,price:parseFloat(e.price),description:e.description.trim()||"",hasImages:s.length>0,imagesCount:s.length,imagePreviews:I,createdAt:cg(),updatedAt:cg()};await gy(Ss(Yt,"books"),B),fe.fire({icon:"success",title:"Libro publicado!",text:"La informacin del libro ha sido guardada exitosamente",timer:3e3,showConfirmButton:!1}),t({title:"",author:"",category:"",price:"",description:""}),o([]),setTimeout(()=>{n("/books")},2e3)}catch(I){console.error("Error al publicar libro:",I),fe.fire({icon:"error",title:"Error",text:"Hubo un error al publicar el libro. Intenta nuevamente.",timer:3e3})}finally{h(!1)}};return f.jsx("section",{className:"flex items-center justify-center min-h-screen bg-[#f0f0f0] py-8",children:f.jsxs("div",{className:"w-full max-w-2xl bg-white rounded-3xl shadow-2xl p-8 border border-gray-200 mx-4",children:[f.jsx("div",{className:"flex justify-center mb-6",children:f.jsx("img",{src:"/logo.png",alt:"logo",className:"w-40 h-40 rounded-2xl"})}),f.jsx("h2",{className:"text-4xl font-bold text-center text-gray-800 mb-2",children:"Vende tu Libro"}),f.jsx("p",{className:"text-center text-gray-600 mb-8",children:"Completa la informacin de tu libro para publicarlo"}),f.jsxs("form",{onSubmit:x,className:"space-y-6 text-black",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Nombre del Libro *"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(_i,{className:"h-5 w-5 text-gray-400"})}),f.jsx("input",{type:"text",name:"title",value:e.title,onChange:g,required:!0,placeholder:"Ej: Cien aos de soledad",minLength:"3",maxLength:"100",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 bg-white"})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Autor *"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(Dd,{className:"h-5 w-5 text-gray-400"})}),f.jsx("input",{type:"text",name:"author",value:e.author,onChange:g,required:!0,placeholder:"Ej: Gabriel Garca Mrquez",minLength:"3",maxLength:"100",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 bg-white"})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Categora *"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(Wx,{className:"h-5 w-5 text-gray-400"})}),f.jsxs("select",{name:"category",value:e.category,onChange:g,required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 bg-white appearance-none",children:[f.jsx("option",{value:"",children:"Selecciona una categora"}),p.map((A,I)=>f.jsx("option",{value:A,children:A},I))]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Precio *"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(mf,{className:"h-5 w-5 text-gray-400"})}),f.jsx("input",{type:"number",name:"price",value:e.price,onChange:g,required:!0,placeholder:"0.00",min:"0",step:"0.01",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 bg-white"})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Descripcin del Libro"}),f.jsx("textarea",{name:"description",value:e.description,onChange:g,placeholder:"Describe el libro, su condicin, y cualquier detalle relevante...",rows:"4",maxLength:"500",className:"w-full px-4 py-3 border border-gray-300 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 bg-white resize-none"}),f.jsxs("div",{className:"text-right text-sm text-gray-500",children:[e.description.length,"/500 caracteres"]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Imgenes del Libro (Mximo 5)"}),f.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-2xl p-6 text-center hover:border-blue-400 transition-colors duration-300 bg-white",children:[f.jsx("input",{type:"file",id:"image-upload",multiple:!0,accept:"image/*",onChange:y,className:"hidden"}),f.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer",children:[f.jsx(Jx,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),f.jsx("p",{className:"text-gray-600",children:"Haz clic para subir imgenes"}),f.jsx("p",{className:"text-sm text-gray-500",children:"PNG, JPG, JPEG (Mx. 5 imgenes)"})]})]}),s.length>0&&f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mt-4",children:s.map((A,I)=>f.jsxs("div",{className:"relative group",children:[f.jsx("img",{src:A.preview,alt:`Preview ${I+1}`,className:"w-full h-32 object-cover rounded-lg shadow-md"}),f.jsx("button",{type:"button",onClick:()=>w(I),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:f.jsx(Zx,{className:"h-3 w-3"})})]},I))})]}),f.jsx("button",{type:"submit",disabled:c,className:"w-full bg-blue-500 text-white py-3 px-4 rounded-2xl font-semibold shadow-lg hover:bg-blue-600 transform hover:scale-105 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:c?f.jsxs("div",{className:"flex items-center justify-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Publicando..."]}):"Publicar Libro"})]})]})})}function g9(){const{id:n}=Py(),e=Di(),[t,s]=P.useState({title:"",author:"",category:"",price:"",description:""}),[o,c]=P.useState([]),[h,p]=P.useState(!1),[g,y]=P.useState(!0),w=["Ficcin","No Ficcin","Ciencia Ficcin","Fantasa","Misterio","Romance","Terror","Biografa","Historia","Ciencia","Tecnologa","Arte","Autoayuda","Negocios","Cocina","Viajes","Infantil","Juvenil","Poesa","Drama"];P.useEffect(()=>{(async()=>{try{const U=yr(Yt,"books",n),ee=await sf(U);if(ee.exists()){const Q=ee.data();s({title:Q.title||"",author:Q.author||"",category:Q.category||"",price:Q.price?.toString()||"",description:Q.description||""}),Q.imagePreviews&&Q.imagePreviews.length>0&&c(Q.imagePreviews.map((se,ie)=>({preview:se})))}else fe.fire({icon:"error",title:"Libro no encontrado",text:"El libro que intentas editar no existe"}),e("/books")}catch(U){console.error("Error cargando libro:",U),fe.fire({icon:"error",title:"Error",text:"No se pudo cargar el libro"})}finally{y(!1)}})()},[n,e]);const x=Y=>{const{name:U,value:ee}=Y.target;s(Q=>({...Q,[U]:ee}))},A=Y=>{const U=Array.from(Y.target.files);if(o.length+U.length>5){fe.fire({icon:"warning",title:"Lmite de imgenes",text:"Solo puedes subir hasta 5 imgenes",timer:3e3});return}const ee=U.filter(Q=>Q.type.startsWith("image/"));if(ee.length!==U.length){fe.fire({icon:"error",title:"Archivo no vlido",text:"Solo se permiten archivos de imagen",timer:3e3});return}ee.forEach(Q=>{const se=new FileReader;se.onload=ie=>{c(ae=>[...ae,{file:Q,preview:ie.target.result}])},se.readAsDataURL(Q)})},I=Y=>{c(U=>U.filter((ee,Q)=>Q!==Y))},B=async Y=>{if(Y.preventDefault(),p(!0),!t.title||!t.author||!t.category||!t.price){fe.fire({icon:"error",title:"Campos requeridos",text:"Por favor completa todos los campos obligatorios",timer:3e3}),p(!1);return}try{const U=o.map(Q=>Q.preview),ee={title:t.title.trim(),author:t.author.trim(),category:t.category,price:parseFloat(t.price),description:t.description.trim()||"",hasImages:o.length>0,imagesCount:o.length,imagePreviews:U,updatedAt:cg()};await py(yr(Yt,"books",n),ee),fe.fire({icon:"success",title:"Libro actualizado!",text:"La informacin del libro ha sido actualizada exitosamente",timer:3e3,showConfirmButton:!1}),setTimeout(()=>{e("/books")},2e3)}catch(U){console.error("Error actualizando libro:",U),fe.fire({icon:"error",title:"Error",text:"Hubo un error al actualizar el libro. Intenta nuevamente.",timer:3e3})}finally{p(!1)}};return g?f.jsx("div",{className:"min-h-screen bg-[#f0f0f0] flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600 text-lg",children:"Cargando libro..."})]})}):f.jsx("section",{className:"flex items-center justify-center min-h-screen bg-[#f0f0f0] py-8",children:f.jsxs("div",{className:"w-full max-w-2xl bg-white rounded-3xl shadow-2xl p-8 border border-gray-200 mx-4",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsxs("button",{onClick:()=>e("/books"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-800 transition-colors duration-300",children:[f.jsx(wj,{className:"h-5 w-5"}),"Volver"]}),f.jsx("div",{className:"flex justify-center flex-1",children:f.jsx("img",{src:"/logo.png",alt:"logo",className:"w-20 h-20 rounded-2xl"})}),f.jsx("div",{className:"w-20"})]}),f.jsx("h2",{className:"text-4xl font-bold text-center text-gray-800 mb-2",children:"Editar Libro"}),f.jsx("p",{className:"text-center text-gray-600 mb-8",children:"Actualiza la informacin de tu libro"}),f.jsxs("form",{onSubmit:B,className:"space-y-6 text-black",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Nombre del Libro *"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(_i,{className:"h-5 w-5 text-gray-400"})}),f.jsx("input",{type:"text",name:"title",value:t.title,onChange:x,required:!0,placeholder:"Ej: Cien aos de soledad",minLength:"3",maxLength:"100",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 bg-white"})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Autor *"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(Dd,{className:"h-5 w-5 text-gray-400"})}),f.jsx("input",{type:"text",name:"author",value:t.author,onChange:x,required:!0,placeholder:"Ej: Gabriel Garca Mrquez",minLength:"3",maxLength:"100",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 bg-white"})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Categora *"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(Wx,{className:"h-5 w-5 text-gray-400"})}),f.jsxs("select",{name:"category",value:t.category,onChange:x,required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 bg-white appearance-none",children:[f.jsx("option",{value:"",children:"Selecciona una categora"}),w.map((Y,U)=>f.jsx("option",{value:Y,children:Y},U))]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Precio *"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(mf,{className:"h-5 w-5 text-gray-400"})}),f.jsx("input",{type:"number",name:"price",value:t.price,onChange:x,required:!0,placeholder:"0.00",min:"0",step:"0.01",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 bg-white"})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Descripcin del Libro"}),f.jsx("textarea",{name:"description",value:t.description,onChange:x,placeholder:"Describe el libro, su condicin, y cualquier detalle relevante...",rows:"4",maxLength:"500",className:"w-full px-4 py-3 border border-gray-300 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 bg-white resize-none"}),f.jsxs("div",{className:"text-right text-sm text-gray-500",children:[t.description.length,"/500 caracteres"]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Imgenes del Libro (Mximo 5)"}),f.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-2xl p-6 text-center hover:border-blue-400 transition-colors duration-300 bg-white",children:[f.jsx("input",{type:"file",id:"image-upload",multiple:!0,accept:"image/*",onChange:A,className:"hidden"}),f.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer",children:[f.jsx(Jx,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),f.jsx("p",{className:"text-gray-600",children:"Haz clic para subir imgenes"}),f.jsx("p",{className:"text-sm text-gray-500",children:"PNG, JPG, JPEG (Mx. 5 imgenes) - Se guardarn localmente"})]})]}),o.length>0&&f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mt-4",children:o.map((Y,U)=>f.jsxs("div",{className:"relative group",children:[f.jsx("img",{src:Y.preview,alt:`Preview ${U+1}`,className:"w-full h-32 object-cover rounded-lg shadow-md"}),f.jsx("button",{type:"button",onClick:()=>I(U),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:f.jsx(Zx,{className:"h-3 w-3"})})]},U))})]}),f.jsx("button",{type:"submit",disabled:h,className:"w-full bg-blue-500 text-white py-3 px-4 rounded-2xl font-semibold shadow-lg hover:bg-blue-600 transform hover:scale-105 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:h?f.jsxs("div",{className:"flex items-center justify-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Actualizando..."]}):"Actualizar Libro"})]})]})})}function y9(){const[n,e]=P.useState([]),[t,s]=P.useState(!0),[o,c]=P.useState(""),h=async()=>{try{s(!0);const w=jc(Ss(Yt,"books"),Oc("createdAt","desc")),x=await jE(w),A=[];x.forEach(I=>{A.push({id:I.id,...I.data()})}),e(A)}catch(w){console.error("Error cargando libros:",w),fe.fire({icon:"error",title:"Error",text:"No se pudieron cargar los libros"})}finally{s(!1)}};P.useEffect(()=>{h()},[]);const p=async(w,x)=>{if((await fe.fire({title:`Eliminar "${x}"?`,text:"Esta accin no se podr revertir",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"S, eliminar",cancelButtonText:"Cancelar"})).isConfirmed)try{await OE(yr(Yt,"books",w)),e(n.filter(I=>I.id!==w)),fe.fire({icon:"success",title:"Eliminado!",text:"El libro ha sido eliminado",timer:2e3})}catch(I){console.error("Error eliminando libro:",I),fe.fire({icon:"error",title:"Error",text:"No se pudo eliminar el libro"})}},g=n.filter(w=>w.title.toLowerCase().includes(o.toLowerCase())||w.author.toLowerCase().includes(o.toLowerCase())||w.description.toLowerCase().includes(o.toLowerCase())),y=w=>w?w.toDate().toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}):"Fecha no disponible";return t?f.jsx("div",{className:"min-h-screen bg-[#f0f0f0] flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600 text-lg",children:"Cargando libros..."})]})}):f.jsx("div",{className:"min-h-screen bg-[#f0f0f0] py-8",children:f.jsxs("div",{className:"container mx-auto px-4",children:[f.jsxs("div",{className:"text-center mb-8 relative",children:[f.jsxs(ve,{to:"/",className:"absolute left-0 top-1/2 transform -translate-y-1/2 bg-blue-500 text-white py-2 px-4 rounded-2xl font-semibold shadow-lg hover:bg-blue-600 transition-all duration-300 flex items-center gap-2",children:[f.jsx(i1,{className:"h-4 w-4"}),"Volver al Home"]}),f.jsx("div",{className:"flex justify-center mb-4",children:f.jsx("img",{src:"/logo.png",alt:"logo",className:"w-24 h-24 rounded-2xl"})}),f.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:"Mis Libros Publicados"}),f.jsx("p",{className:"text-gray-600 text-lg",children:"Gestiona tus libros publicados"})]}),f.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6 border border-gray-200",children:f.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center",children:[f.jsxs("div",{className:"relative flex-1 w-full",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(Qx,{className:"h-5 w-5 text-gray-400"})}),f.jsx("input",{type:"text",placeholder:"Buscar por ttulo, autor o descripcin...",value:o,onChange:w=>c(w.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-2xl text-black focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 bg-white"})]}),f.jsxs(ve,{to:"/create",className:"bg-blue-500 text-white py-3 px-6 rounded-2xl font-semibold shadow-lg hover:bg-blue-600 transform hover:scale-105 transition-all duration-300 flex items-center gap-2 whitespace-nowrap",children:[f.jsx(s1,{className:"h-4 w-4"}),"Agregar Libro"]})]})}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[f.jsxs("div",{className:"bg-white rounded-2xl p-4 text-center border border-gray-200",children:[f.jsx("p",{className:"text-2xl font-bold text-blue-600",children:n.length}),f.jsx("p",{className:"text-gray-600",children:"Total de libros"})]}),f.jsxs("div",{className:"bg-white rounded-2xl p-4 text-center border border-gray-200",children:[f.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.filter(w=>w.isAvailable!==!1).length}),f.jsx("p",{className:"text-gray-600",children:"Disponibles"})]}),f.jsxs("div",{className:"bg-white rounded-2xl p-4 text-center border border-gray-200",children:[f.jsx("p",{className:"text-2xl font-bold text-purple-600",children:n.filter(w=>w.hasImages).length}),f.jsx("p",{className:"text-gray-600",children:"Con imgenes"})]})]}),g.length===0?f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center border border-gray-200",children:[f.jsx(_i,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),f.jsx("h3",{className:"text-2xl font-bold text-gray-700 mb-2",children:n.length===0?"No hay libros publicados":"No se encontraron libros"}),f.jsx("p",{className:"text-gray-600 mb-6",children:n.length===0?"Comienza publicando tu primer libro para venderlo.":"Intenta con otros trminos de bsqueda."}),f.jsxs("div",{className:"flex gap-4 justify-center",children:[f.jsxs(ve,{to:"/",className:"bg-gray-500 text-white py-3 px-6 rounded-2xl font-semibold shadow-lg hover:bg-gray-600 transition-all duration-300 flex items-center gap-2",children:[f.jsx(i1,{className:"h-4 w-4"}),"Volver al Home"]}),n.length===0&&f.jsxs(ve,{to:"/create-book",className:"bg-blue-500 text-white py-3 px-6 rounded-2xl font-semibold shadow-lg hover:bg-blue-600 transition-all duration-300 flex items-center gap-2",children:[f.jsx(s1,{className:"h-4 w-4"}),"Publicar Primer Libro"]})]})]}):f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(w=>f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden border border-gray-200 hover:shadow-xl transition-all duration-300",children:[f.jsxs("div",{className:"h-48 bg-gray-100 relative",children:[w.imagePreviews&&w.imagePreviews.length>0?f.jsx("img",{src:w.imagePreviews[0],alt:w.title,className:"w-full h-full object-cover"}):f.jsx("div",{className:"w-full h-full flex items-center justify-center",children:f.jsx(_i,{className:"h-16 w-16 text-gray-400"})}),f.jsxs("div",{className:"absolute top-3 right-3 bg-black/50 text-white px-2 py-1 rounded-full text-sm",children:[w.imagesCount||0," img"]})]}),f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex justify-between items-start mb-2",children:[f.jsx("h3",{className:"text-xl font-bold text-gray-800 line-clamp-2 flex-1",children:w.title}),f.jsx("span",{className:"bg-blue-100 text-blue-800 text-sm px-2 py-1 rounded-full ml-2 whitespace-nowrap",children:w.category})]}),f.jsxs("p",{className:"text-gray-600 mb-2 flex items-center gap-1",children:[f.jsx(_i,{className:"h-4 w-4"}),w.author]}),f.jsx("p",{className:"text-gray-700 text-sm mb-4 line-clamp-2",children:w.description||"Sin descripcin"}),f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsxs("div",{className:"flex items-center gap-1 text-green-600 font-bold",children:[f.jsx(mf,{className:"h-4 w-4"}),w.price?.toFixed(0)||"0.00"]}),f.jsx("span",{className:"text-sm text-gray-500",children:y(w.createdAt)})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:()=>{fe.fire({title:w.title,html:`
                            <div class="text-left">
                              <p><strong>Autor:</strong> ${w.author}</p>
                              <p><strong>Categora:</strong> ${w.category}</p>
                              <p><strong>Precio:</strong> $${w.price?.toFixed(0)||"0.00"}</p>
                              <p><strong>Descripcin:</strong> ${w.description||"Sin descripcin"}</p>
                              <p><strong>Publicado:</strong> ${y(w.createdAt)}</p>
                              ${w.hasImages?`<p><strong>Imgenes:</strong> ${w.imagesCount} subidas</p>`:""}
                            </div>
                          `,confirmButtonText:"Cerrar",width:600})},className:"flex-1 bg-blue-500 text-white py-2 px-4 rounded-xl hover:bg-blue-600 transition-colors duration-300 flex items-center justify-center gap-2",children:[f.jsx(kd,{className:"h-4 w-4"}),"Ver"]}),f.jsxs(ve,{to:`/edit-book/${w.id}`,className:"flex-1 bg-yellow-500 text-white py-2 px-4 rounded-xl hover:bg-yellow-600 transition-colors duration-300 flex items-center justify-center gap-2",children:[f.jsx(xj,{className:"h-4 w-4"}),"Editar"]}),f.jsxs("button",{onClick:()=>p(w.id,w.title),className:"flex-1 bg-red-500 text-white py-2 px-4 rounded-xl hover:bg-red-600 transition-colors duration-300 flex items-center justify-center gap-2",children:[f.jsx(Nj,{className:"h-4 w-4"}),"Eliminar"]})]})]})]},w.id))}),g.length>0&&f.jsxs("div",{className:"mt-6 text-center text-gray-600",children:["Mostrando ",g.length," de ",n.length," libros",o&&` para "${o}"`]})]})})}function tT(n){return Ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M410.3 231l11.3-11.3-33.9-33.9-62.1-62.1L291.7 89.8l-11.3 11.3-22.6 22.6L58.6 322.9c-10.4 10.4-18 23.3-22.2 37.4L1 480.7c-2.5 8.4-.2 17.5 6.1 23.7s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L387.7 253.7 410.3 231zM160 399.4l-9.1 22.7c-4 3.1-8.5 5.4-13.3 6.9L59.4 452l23-78.1c1.4-4.9 3.8-9.4 6.9-13.3l22.7-9.1 0 32c0 8.8 7.2 16 16 16l32 0zM362.7 18.7L348.3 33.2 325.7 55.8 314.3 67.1l33.9 33.9 62.1 62.1 33.9 33.9 11.3-11.3 22.6-22.6 14.5-14.5c25-25 25-65.5 0-90.5L453.3 18.7c-25-25-65.5-25-90.5 0zm-47.4 168l-144 144c-6.2 6.2-16.4 6.2-22.6 0s-6.2-16.4 0-22.6l144-144c6.2-6.2 16.4-6.2 22.6 0s6.2 16.4 0 22.6z"},child:[]}]})(n)}function v9(){const[n,e]=P.useState({username:"",book:"",opinion:"",score:""}),t=o=>{e({...n,[o.target.name]:o.target.value})},s=async o=>{o.preventDefault();const{username:c,book:h,opinion:p,score:g}=n;if(!c||!h||!p||!g)return fe.fire("Error","Todos los campos son obligatorios","error");try{await gy(Ss(Yt,"Opinions"),{username:c,book:h,opinion:p,score:parseFloat(g),date:new Date}),fe.fire("xito!","Tu opinin se ha guardado correctamente ","success"),e({username:"",book:"",opinion:"",score:""})}catch(y){console.error("Error al guardar opinin: ",y),fe.fire("Error","No se pudo guardar la opinin","error")}};return f.jsx("section",{className:"flex items-center justify-center min-h-screen bg-[#f0f0f0]",children:f.jsxs("div",{className:"w-full max-w-md bg-white/10 backdrop-blur-lg rounded-3xl shadow-2xl p-8 border border-white/20",children:[f.jsx("div",{className:"flex justify-center mb-6",children:f.jsx("img",{src:"../../public/logo.png",alt:"logo",className:"w-40 h-40 rounded-2xl"})}),f.jsx("h2",{className:"text-3xl font-extrabold text-center text-black mb-6",children:"Deja tu opinin sobre algn libro que leste!"}),f.jsxs("form",{onSubmit:s,className:"space-y-5",children:[f.jsxs("label",{className:" w-full input input-bordered rounded-2xl border-black flex items-center gap-2 bg-white/10 text-black placeholder-black",children:[f.jsx("svg",{className:"h-5 opacity-70",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:f.jsxs("g",{strokeLinejoin:"round",strokeLinecap:"round",strokeWidth:"2.5",fill:"none",stroke:"currentColor",children:[f.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),f.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),f.jsx("input",{type:"text",name:"username",required:!0,placeholder:"Comparte tu nombre...",minLength:"3",maxLength:"30",autocomplete:"off",className:"grow bg-transparent focus:outline-none",value:n.username,onChange:t})]}),f.jsxs("label",{className:" w-full input input-bordered rounded-2xl border-black flex items-center gap-2 bg-white/10 text-black placeholder-black",children:[f.jsx("svg",{className:"h-5 opacity-70",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:f.jsx(_i,{className:"text-2xl"})}),f.jsx("input",{type:"text",name:"book",required:!0,placeholder:"Nombre del Libro...",minLength:"3",maxLength:"30",autocomplete:"off",title:"Only letters, numbers or dash",className:"grow bg-transparent focus:outline-none",value:n.book,onChange:t})]}),f.jsxs("label",{className:"w-full  border rounded-2xl border-black flex items-start gap-2 bg-white/10 text-black",children:[f.jsx(tT,{className:"text-3xl pl-[3%] pt-[1.5%] opacity-70"}),f.jsx("textarea",{name:"opinion",required:!0,placeholder:"Escribe tu opinin aqu...",minLength:"3",maxLength:"500",className:"grow bg-transparent focus:outline-none resize-none h-32 leading-relaxe pr-6",value:n.opinion,onChange:t})]}),f.jsxs("label",{className:" w-full input input-bordered rounded-2xl border-black flex items-center gap-2 bg-white/10 text-black placeholder-black",children:[f.jsx("svg",{className:"h-5 opacity-70",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:f.jsx(Xx,{className:"text-2xl"})}),f.jsx("input",{type:"number",name:"score",required:!0,placeholder:"Del 0.5 al 5 cuntas estrellas le das al libro...",pattern:"[A-Za-z][A-Za-z0-9\\-]*",min:"0.5",max:"5",step:"0.5",title:"Only letters, numbers or dash",className:"grow bg-transparent focus:outline-none",value:n.score,onChange:t})]}),f.jsx("button",{type:"submit",className:"btn btn-dash btn-info w-full rounded-xl shadow-lg transition-all duration-500 hover:scale-105",children:"Enviar Opinin"}),f.jsx(ve,{to:"/opinions",className:"font-medium text-gray-600 hover:text-gray-300 hover:underline text-center",children:"Ver Opiniones"})]})]})})}function w9(){const[n,e]=P.useState([]),t=Di();P.useEffect(()=>{const o=jc(Ss(Yt,"Opinions"),Oc("date","desc")),c=XN(o,h=>{const p=h.docs.map(g=>({id:g.id,...g.data()}));e(p)});return()=>c()},[]);const s=async o=>{window.confirm("Seguro que deseas eliminar esta opinin?")&&await OE(yr(Yt,"Opinions",o))};return f.jsx("section",{className:"flex items-center justify-center min-h-screen bg-[#f0f0f0]",children:f.jsxs("div",{className:"w-full max-w-2xl bg-white/10 backdrop-blur-lg rounded-3xl shadow-2xl p-8 border border-white/20",children:[f.jsx("h2",{className:"text-3xl font-extrabold text-center text-black mb-6",children:"Opiniones de lectores "}),f.jsx("p",{className:"text-black p-2 text-center",children:"Aqu puedes encontrar todas las opiniones de diferentes lectores, aprovecha y revisa un poco, capz alguna te interese!"}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx(ve,{to:"/",className:"text-center text-black border-blue-600 border-2 p-2 bg-gray-100 hover:bg-gray-200 mb-2 rounded",children:"Volver a Home"}),f.jsx(ve,{to:"/createopinion",className:"text-center text-white p-2 bg-blue-600 hover:bg-blue-500 mb-2 rounded",children:"+ Crear Opinin"})]}),n.length===0?f.jsx("p",{className:"text-center text-gray-600",children:"An no hay opiniones "}):f.jsx("ul",{className:"space-y-4",children:n.map(o=>f.jsxs("li",{className:"p-4 bg-white rounded-xl shadow-md border border-gray-900",children:[f.jsxs("h3",{className:"font-bold text-lg text-black",children:[o.book," ",f.jsxs("span",{className:"text-yellow-500",children:[" ",o.score]})]}),f.jsxs("p",{className:"text-gray-700 italic",children:['"',o.opinion,'"']}),f.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Por ",f.jsx("b",{children:o.username})," "," ",o.date?.toDate().toLocaleDateString()]}),f.jsxs("div",{className:"flex gap-2 mt-3",children:[f.jsx("button",{onClick:()=>t(`/opinions/${o.id}`),className:"px-3 py-1 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Ver"}),f.jsx("button",{onClick:()=>t(`/opinions/edit/${o.id}`),className:"px-3 py-1 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600",children:"Editar"}),f.jsx("button",{onClick:()=>s(o.id),className:"px-3 py-1 bg-red-500 text-white rounded-lg hover:bg-red-600",children:"Eliminar"})]})]},o.id))})]})})}function b9(){const{id:n}=Py(),[e,t]=P.useState(null),s=Di();return P.useEffect(()=>{(async()=>{const c=yr(Yt,"Opinions",n),h=await sf(c);h.exists()?t({id:h.id,...h.data()}):console.log("No existe la opinin")})()},[n]),e?f.jsx("section",{className:"flex items-center justify-center min-h-screen bg-[#f0f0f0]",children:f.jsxs("div",{className:"max-w-lg w-full bg-white rounded-xl shadow-lg p-6",children:[f.jsx("h2",{className:"text-2xl font-bold text-black mb-4",children:e.book}),f.jsxs("p",{className:"text-gray-700 italic mb-3",children:['"',e.opinion,'"']}),f.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[f.jsx("b",{children:"Usuario:"})," ",e.username]}),f.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[f.jsx("b",{children:"Puntuacin:"}),"  ",e.score]}),f.jsx("p",{className:"text-sm text-gray-500",children:e.date?.toDate().toLocaleDateString()}),f.jsx("button",{onClick:()=>s(-1),className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Volver"})]})}):f.jsx("p",{className:"text-center mt-10",children:"Cargando opinin..."})}function _9(){const{id:n}=Py(),[e,t]=P.useState({username:"",book:"",opinion:"",score:""}),s=Di();P.useEffect(()=>{(async()=>{try{const p=yr(Yt,"Opinions",n),g=await sf(p);g.exists()?t(g.data()):(fe.fire("Error","No se encontr la opinin","error"),s("/opinions"))}catch(p){console.error("Error al obtener la opinin:",p),fe.fire("Error","No se pudo cargar la opinin","error")}})()},[n,s]);const o=h=>{t({...e,[h.target.name]:h.target.value})},c=async h=>{h.preventDefault();const{username:p,book:g,opinion:y,score:w}=e;if(!p||!g||!y||!w)return fe.fire("Error","Todos los campos son obligatorios","error");try{const x=yr(Yt,"Opinions",n);await py(x,{username:p,book:g,opinion:y,score:parseFloat(w)}),fe.fire("xito!","La opinin ha sido actualizada ","success"),s("/opinions")}catch(x){console.error("Error al actualizar opinin:",x),fe.fire("Error","No se pudo actualizar la opinin","error")}};return f.jsx("section",{className:"flex items-center justify-center min-h-screen bg-[#f0f0f0]",children:f.jsxs("div",{className:"w-full max-w-md bg-white/10 backdrop-blur-lg rounded-3xl shadow-2xl p-8 border border-white/20",children:[f.jsx("div",{className:"flex justify-center mb-6",children:f.jsx("img",{src:"../../public/logo.png",alt:"logo",className:"w-40 h-40 rounded-2xl"})}),f.jsx("h2",{className:"text-3xl font-extrabold text-center text-black mb-6",children:"Edita tu opinin"}),f.jsxs("form",{onSubmit:c,className:"space-y-5",children:[f.jsxs("label",{className:"w-full input input-bordered rounded-2xl border-black flex items-center gap-2 bg-white/10 text-black placeholder-black",children:[f.jsx("svg",{className:"h-5 opacity-70",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:f.jsxs("g",{strokeLinejoin:"round",strokeLinecap:"round",strokeWidth:"2.5",fill:"none",stroke:"currentColor",children:[f.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),f.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),f.jsx("input",{type:"text",name:"username",required:!0,placeholder:"Tu nombre...",minLength:"3",maxLength:"30",autocomplete:"off",className:"grow bg-transparent focus:outline-none",value:e.username,onChange:o})]}),f.jsxs("label",{className:"w-full input input-bordered rounded-2xl border-black flex items-center gap-2 bg-white/10 text-black placeholder-black",children:[f.jsx(_i,{className:"text-2xl"}),f.jsx("input",{type:"text",name:"book",required:!0,placeholder:"Nombre del Libro...",minLength:"3",maxLength:"30",autocomplete:"off",className:"grow bg-transparent focus:outline-none",value:e.book,onChange:o})]}),f.jsxs("label",{className:"w-full border rounded-2xl border-black flex items-start gap-2 bg-white/10 text-black",children:[f.jsx(tT,{className:"text-3xl pl-[3%] pt-[1.5%] opacity-70"}),f.jsx("textarea",{name:"opinion",required:!0,placeholder:"Edita tu opinin aqu...",minLength:"3",maxLength:"500",className:"grow bg-transparent focus:outline-none resize-none h-32 pr-6",value:e.opinion,onChange:o})]}),f.jsxs("label",{className:"w-full input input-bordered rounded-2xl border-black flex items-center gap-2 bg-white/10 text-black placeholder-black",children:[f.jsx(Xx,{className:"text-2xl"}),f.jsx("input",{type:"number",name:"score",required:!0,placeholder:"Del 0.5 al 5 cuntas estrellas le das...",min:"0.5",max:"5",step:"0.5",className:"grow bg-transparent focus:outline-none",value:e.score,onChange:o})]}),f.jsx("button",{type:"submit",className:"btn btn-dash btn-info w-full rounded-xl shadow-lg transition-all duration-500 hover:scale-105",children:"Guardar Cambios"}),f.jsx(ve,{to:"/opinions",className:"font-medium text-gray-600 hover:text-gray-300 hover:underline text-center block",children:"Volver a Opiniones"})]})]})})}const E9=()=>{const[n,e]=P.useState([]),[t,s]=P.useState(!0),[o,c]=P.useState(""),[h,p]=P.useState({userEmail:"",startDate:"",endDate:""}),[g,y]=P.useState({key:"loginTime",direction:"desc"});P.useEffect(()=>{w()},[]);const w=async(ie={})=>{try{s(!0),console.log("Cargando sesiones con filtros:",ie);const ae=await Mj(ie);console.log("Sesiones obtenidas:",ae),e(ae)}catch(ae){console.error("Error cargando sesiones:",ae)}finally{s(!1)}},x=ie=>{if(!ie)return"N/A";try{return(ie.seconds?new Date(ie.seconds*1e3):new Date(ie)).toLocaleString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}catch(ae){return console.error("Error formateando fecha:",ie,ae),"Fecha invlida"}},A=ie=>{if(!ie)return"En curso";const ae=Math.floor(ie/3600),ge=Math.floor(ie%3600/60),k=ie%60;return ae>0?`${ae}h ${ge}m ${k}s`:ge>0?`${ge}m ${k}s`:`${k}s`},I=ie=>{ie.preventDefault();const ae={...h,userEmail:o};console.log("Buscando con:",ae),w(ae)},B=()=>{const ie={userEmail:o,startDate:h.startDate?new Date(h.startDate):null,endDate:h.endDate?new Date(h.endDate):null};console.log("Filtrando por fecha:",ie),w(ie)},Y=()=>{c(""),p({userEmail:"",startDate:"",endDate:""}),w()},U=()=>{c(""),p({userEmail:"",startDate:"",endDate:""}),w()},ee=ie=>{let ae="desc";g.key===ie&&g.direction==="desc"&&(ae="asc"),y({key:ie,direction:ae})},Q=[...n].sort((ie,ae)=>{if(g.key==="loginTime"||g.key==="logoutTime")try{const S=ie[g.key]?.seconds?ie[g.key].seconds*1e3:new Date(ie[g.key]).getTime(),C=ae[g.key]?.seconds?ae[g.key].seconds*1e3:new Date(ae[g.key]).getTime();return g.direction==="asc"?S-C:C-S}catch{return 0}if(g.key==="duration"){const S=ie.duration||0,C=ae.duration||0;return g.direction==="asc"?S-C:C-S}const ge=(ie[g.key]||"").toString().toLowerCase(),k=(ae[g.key]||"").toString().toLowerCase();return g.direction==="asc"?ge.localeCompare(k):k.localeCompare(ge)}),se=ie=>g.key!==ie?f.jsx(Cj,{className:"text-gray-400"}):g.direction==="asc"?f.jsx(Sj,{className:"text-blue-500"}):f.jsx(Aj,{className:"text-blue-500"});return t?f.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"loading loading-spinner loading-lg text-blue-500"}),f.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando sesiones de usuarios..."})]})}):f.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:f.jsx(gg,{className:"text-blue-600 text-2xl"})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Sesiones de Usuarios"}),f.jsx("p",{className:"text-gray-600",children:"Administra y revisa los inicios de sesin de los usuarios"})]})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:"text-right",children:[f.jsx("div",{className:"text-2xl font-bold text-blue-600",children:n.length}),f.jsx("div",{className:"text-gray-600",children:"sesiones totales"})]}),f.jsx("button",{onClick:Y,className:"btn btn-outline btn-sm",title:"Recargar todas las sesiones",children:f.jsx(Rj,{})}),f.jsx("div",{className:"bg-blue-500 p-2 rounded hover:bg-blue-800 font-bold text-white cursor-pointer",children:f.jsx("a",{href:"/",children:"Volver a Home"})})]})]})}),f.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Buscar por email"}),f.jsxs("form",{onSubmit:I,className:"flex gap-2",children:[f.jsx("input",{type:"text",value:o,onChange:ie=>c(ie.target.value),placeholder:"ejemplo@gmail.com",className:"flex-1 input input-bordered border-gray-300 rounded-lg"}),f.jsx("button",{type:"submit",className:"btn bg-blue-500 hover:bg-blue-600 border-blue-500",children:f.jsx(Qx,{})})]}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Busca por direccin de email completa o parcial"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha desde"}),f.jsx("input",{type:"date",value:h.startDate,onChange:ie=>p({...h,startDate:ie.target.value}),className:"w-full input input-bordered border-gray-300 rounded-lg"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha hasta"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"date",value:h.endDate,onChange:ie=>p({...h,endDate:ie.target.value}),className:"flex-1 input input-bordered border-gray-300 rounded-lg"}),f.jsx("button",{onClick:B,className:"btn bg-blue-500 hover:bg-blue-600 border-blue-500",title:"Aplicar filtro de fecha",children:f.jsx(bj,{})})]})]})]}),f.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[f.jsxs("div",{className:"text-sm text-gray-600",children:["Mostrando ",n.length," sesiones"]}),f.jsx("div",{className:"flex gap-2",children:f.jsx("button",{onClick:U,className:"btn btn-ghost text-gray-600",children:"Limpiar filtros"})})]})]}),f.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>ee("userName"),children:f.jsxs("div",{className:"flex items-center gap-2",children:["Usuario",se("userName")]})}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>ee("userEmail"),children:f.jsxs("div",{className:"flex items-center gap-2",children:["Email",se("userEmail")]})}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>ee("loginTime"),children:f.jsxs("div",{className:"flex items-center gap-2",children:["Hora de Entrada",se("loginTime")]})}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>ee("logoutTime"),children:f.jsxs("div",{className:"flex items-center gap-2",children:["Hora de Salida",se("logoutTime")]})}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>ee("duration"),children:f.jsxs("div",{className:"flex items-center gap-2",children:["Duracin",se("duration")]})}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Q.map(ie=>f.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("div",{className:"text-sm font-medium text-gray-900",children:ie.userName})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("div",{className:"text-sm text-gray-900 font-mono",children:ie.userEmail})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("div",{className:"text-sm text-gray-900",children:x(ie.loginTime)})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("div",{className:"text-sm text-gray-900",children:ie.logoutTime?x(ie.logoutTime):"En sesin"})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("div",{className:"text-sm text-gray-900 font-medium",children:A(ie.duration)})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ie.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:ie.status==="active"?"Activa":"Finalizada"})})]},ie.id))})]})}),n.length===0&&f.jsxs("div",{className:"text-center py-12",children:[f.jsx(gg,{className:"mx-auto text-gray-400 text-4xl mb-4"}),f.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No se encontraron sesiones"}),f.jsx("p",{className:"text-gray-600",children:o||h.startDate||h.endDate?"No hay sesiones que coincidan con los filtros aplicados.":"An no hay sesiones registradas en el sistema."})]})]})]})})};function x9(){return f.jsx(f.Fragment,{children:f.jsx(JD,{children:f.jsxs(ID,{children:[f.jsx(Fe,{path:"/home",element:f.jsx(zj,{})}),f.jsx(Fe,{path:"/usestate",element:f.jsx(Hj,{})}),f.jsx(Fe,{path:"/usecallback",element:f.jsx(qj,{})}),f.jsx(Fe,{path:"/usecontext",element:f.jsx(Gj,{})}),f.jsx(Fe,{path:"/usedebug",element:f.jsx(Yj,{})}),f.jsx(Fe,{path:"/usedeffer",element:f.jsx(Kj,{})}),f.jsx(Fe,{path:"/useeffect",element:f.jsx(Xj,{})}),f.jsx(Fe,{path:"/useid",element:f.jsx(Wj,{})}),f.jsx(Fe,{path:"/useimperativehandle",element:f.jsx(Jj,{})}),f.jsx(Fe,{path:"/useinsertioneffect",element:f.jsx(e9,{})}),f.jsx(Fe,{path:"/uselayouteffect",element:f.jsx(t9,{})}),f.jsx(Fe,{path:"/usememo",element:f.jsx(n9,{})}),f.jsx(Fe,{path:"/useoptimistic",element:f.jsx(r9,{})}),f.jsx(Fe,{path:"/usereducer",element:f.jsx(s9,{})}),f.jsx(Fe,{path:"/useref",element:f.jsx(a9,{})}),f.jsx(Fe,{path:"/useactionstate",element:f.jsx(o9,{})}),f.jsx(Fe,{path:"/usesyncexternalstore",element:f.jsx(c9,{})}),f.jsx(Fe,{path:"/usetransition",element:f.jsx(h9,{})}),f.jsx(Fe,{path:"/login",element:f.jsx(Vj,{})}),f.jsx(Fe,{path:"/register",element:f.jsx(Lj,{})}),f.jsx(Fe,{path:"/confirm",element:f.jsx(Uj,{})}),f.jsx(Fe,{path:"/change",element:f.jsx(Bj,{})}),f.jsx(Fe,{path:"/",element:f.jsx(m9,{})}),f.jsx(Fe,{path:"/books",element:f.jsx(y9,{})}),f.jsx(Fe,{path:"/create",element:f.jsx(p9,{})}),f.jsx(Fe,{path:"/edit-book/:id",element:f.jsx(g9,{})}),f.jsx(Fe,{path:"/createopinion",element:f.jsx(v9,{})}),f.jsx(Fe,{path:"/opinions",element:f.jsx(w9,{})}),f.jsx(Fe,{path:"/opinions/:id",element:f.jsx(b9,{})}),f.jsx(Fe,{path:"/opinions/edit/:id",element:f.jsx(_9,{})}),f.jsx(Fe,{path:"/admin/users",element:f.jsx(E9,{})})]})})})}U4.createRoot(document.getElementById("root")).render(f.jsx(P.StrictMode,{children:f.jsx(x9,{})}));
